const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ResultsTable-B4lPvnWC.js","./ResultsTable-nVhmLYY9.css","./SimpleFitTestProtocolPanel-C5S0-jUB.js","./SimpleFitTestProtocolPanel-D541uJuR.css"])))=>i.map(i=>d[i]);
function mO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function No(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ii(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Ax={exports:{}},Jf={},Fx={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),gO=Symbol.for("react.portal"),vO=Symbol.for("react.fragment"),yO=Symbol.for("react.strict_mode"),wO=Symbol.for("react.profiler"),_O=Symbol.for("react.provider"),SO=Symbol.for("react.context"),xO=Symbol.for("react.forward_ref"),bO=Symbol.for("react.suspense"),EO=Symbol.for("react.memo"),CO=Symbol.for("react.lazy"),o1=Symbol.iterator;function TO(e){return e===null||typeof e!="object"?null:(e=o1&&e[o1]||e["@@iterator"],typeof e=="function"?e:null)}var $x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jx=Object.assign,Hx={};function Za(e,t,n){this.props=e,this.context=t,this.refs=Hx,this.updater=n||$x}Za.prototype.isReactComponent={};Za.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Za.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ux(){}Ux.prototype=Za.prototype;function Kg(e,t,n){this.props=e,this.context=t,this.refs=Hx,this.updater=n||$x}var Xg=Kg.prototype=new Ux;Xg.constructor=Kg;jx(Xg,Za.prototype);Xg.isPureReactComponent=!0;var a1=Array.isArray,Vx=Object.prototype.hasOwnProperty,Zg={current:null},Bx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Vx.call(t,r)&&!Bx.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ul,type:e,key:o,ref:a,props:i,_owner:Zg.current}}function kO(e,t){return{$$typeof:Ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ul}function MO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var s1=/\/+/g;function Lh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MO(""+e.key):t.toString(36)}function Ju(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ul:case gO:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Lh(a,0):r,a1(i)?(n="",e!=null&&(n=e.replace(s1,"$&/")+"/"),Ju(i,t,n,"",function(u){return u})):i!=null&&(Jg(i)&&(i=kO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(s1,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",a1(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Lh(o,s);a+=Ju(o,t,n,l,i)}else if(l=TO(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Lh(o,s++),a+=Ju(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function cu(e,t,n){if(e==null)return e;var r=[],i=0;return Ju(e,r,"","",function(o){return t.call(n,o,i++)}),r}function DO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qt={current:null},ec={transition:null},OO={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:ec,ReactCurrentOwner:Zg};function zx(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:cu,forEach:function(e,t,n){cu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cu(e,function(){t++}),t},toArray:function(e){return cu(e,function(t){return t})||[]},only:function(e){if(!Jg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=Za;xe.Fragment=vO;xe.Profiler=wO;xe.PureComponent=Kg;xe.StrictMode=yO;xe.Suspense=bO;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OO;xe.act=zx;xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jx({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Zg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Vx.call(t,l)&&!Bx.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Ul,type:e.type,key:i,ref:o,props:r,_owner:a}};xe.createContext=function(e){return e={$$typeof:SO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_O,_context:e},e.Consumer=e};xe.createElement=Yx;xe.createFactory=function(e){var t=Yx.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:xO,render:e}};xe.isValidElement=Jg;xe.lazy=function(e){return{$$typeof:CO,_payload:{_status:-1,_result:e},_init:DO}};xe.memo=function(e,t){return{$$typeof:EO,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=ec.transition;ec.transition={};try{e()}finally{ec.transition=t}};xe.unstable_act=zx;xe.useCallback=function(e,t){return Qt.current.useCallback(e,t)};xe.useContext=function(e){return Qt.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return Qt.current.useDeferredValue(e)};xe.useEffect=function(e,t){return Qt.current.useEffect(e,t)};xe.useId=function(){return Qt.current.useId()};xe.useImperativeHandle=function(e,t,n){return Qt.current.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return Qt.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return Qt.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return Qt.current.useMemo(e,t)};xe.useReducer=function(e,t,n){return Qt.current.useReducer(e,t,n)};xe.useRef=function(e){return Qt.current.useRef(e)};xe.useState=function(e){return Qt.current.useState(e)};xe.useSyncExternalStore=function(e,t,n){return Qt.current.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return Qt.current.useTransition()};xe.version="18.3.1";Fx.exports=xe;var _=Fx.exports;const R=No(_),im=mO({__proto__:null,default:R},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO=_,NO=Symbol.for("react.element"),RO=Symbol.for("react.fragment"),IO=Object.prototype.hasOwnProperty,LO=PO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AO={key:!0,ref:!0,__self:!0,__source:!0};function Wx(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)IO.call(t,r)&&!AO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:NO,type:e,key:o,ref:a,props:i,_owner:LO.current}}Jf.Fragment=RO;Jf.jsx=Wx;Jf.jsxs=Wx;Ax.exports=Jf;var S=Ax.exports,qx={exports:{}},pn={},Qx={exports:{}},Gx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,F){var B=M.length;M.push(F);e:for(;0<B;){var q=B-1>>>1,G=M[q];if(0<i(G,F))M[q]=F,M[B]=G,B=q;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],B=M.pop();if(B!==F){M[0]=B;e:for(var q=0,G=M.length,me=G>>>1;q<me;){var ce=2*(q+1)-1,ne=M[ce],ge=ce+1,z=M[ge];if(0>i(ne,B))ge<G&&0>i(z,ne)?(M[q]=z,M[ge]=B,q=ge):(M[q]=ne,M[ce]=B,q=ce);else if(ge<G&&0>i(z,B))M[q]=z,M[ge]=B,q=ge;else break e}}return F}function i(M,F){var B=M.sortIndex-F.sortIndex;return B!==0?B:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=M)r(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(u)}}function x(M){if(g=!1,y(M),!m)if(n(l)!==null)m=!0,D(E);else{var F=n(u);F!==null&&$(x,F.startTime-M)}}function E(M,F){m=!1,g&&(g=!1,p(k),k=-1),h=!0;var B=d;try{for(y(F),f=n(l);f!==null&&(!(f.expirationTime>F)||M&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,d=f.priorityLevel;var G=q(f.expirationTime<=F);F=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),y(F)}else r(l);f=n(l)}if(f!==null)var me=!0;else{var ce=n(u);ce!==null&&$(x,ce.startTime-F),me=!1}return me}finally{f=null,d=B,h=!1}}var b=!1,C=null,k=-1,N=5,A=-1;function O(){return!(e.unstable_now()-A<N)}function V(){if(C!==null){var M=e.unstable_now();A=M;var F=!0;try{F=C(!0,M)}finally{F?I():(b=!1,C=null)}}else b=!1}var I;if(typeof w=="function")I=function(){w(V)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,P=T.port2;T.port1.onmessage=V,I=function(){P.postMessage(null)}}else I=function(){v(V,0)};function D(M){C=M,b||(b=!0,I())}function $(M,F){k=v(function(){M(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,D(E))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var B=d;d=F;try{return M()}finally{d=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=d;d=M;try{return F()}finally{d=B}},e.unstable_scheduleCallback=function(M,F,B){var q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,M={id:c++,callback:F,priorityLevel:M,startTime:B,expirationTime:G,sortIndex:-1},B>q?(M.sortIndex=B,t(u,M),n(l)===null&&M===n(u)&&(g?(p(k),k=-1):g=!0,$(x,B-q))):(M.sortIndex=G,t(l,M),m||h||(m=!0,D(E))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var F=d;return function(){var B=d;d=F;try{return M.apply(this,arguments)}finally{d=B}}}})(Gx);Qx.exports=Gx;var FO=Qx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $O=_,fn=FO;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kx=new Set,ll={};function Ro(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(ll[e]=t,e=0;e<t.length;e++)Kx.add(t[e])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),om=Object.prototype.hasOwnProperty,jO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l1={},u1={};function HO(e){return om.call(u1,e)?!0:om.call(l1,e)?!1:jO.test(e)?u1[e]=!0:(l1[e]=!0,!1)}function UO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VO(e,t,n,r){if(t===null||typeof t>"u"||UO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var e0=/[\-:]([a-z])/g;function t0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(e0,t0);Ot[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(e0,t0);Ot[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(e0,t0);Ot[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function n0(e,t,n,r){var i=Ot.hasOwnProperty(t)?Ot[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VO(t,n,i,r)&&(n=null),r||i===null?HO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var oi=$O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fu=Symbol.for("react.element"),Go=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),r0=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),i0=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),o0=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),Jx=Symbol.for("react.offscreen"),c1=Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=c1&&e[c1]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Ah;function Is(e){if(Ah===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ah=t&&t[1]||""}return`
`+Ah+e}var Fh=!1;function $h(e,t){if(!e||Fh)return"";Fh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Fh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Is(e):""}function BO(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=$h(e.type,!1),e;case 11:return e=$h(e.type.render,!1),e;case 1:return e=$h(e.type,!0),e;default:return""}}function um(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ko:return"Fragment";case Go:return"Portal";case am:return"Profiler";case r0:return"StrictMode";case sm:return"Suspense";case lm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zx:return(e.displayName||"Context")+".Consumer";case Xx:return(e._context.displayName||"Context")+".Provider";case i0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case o0:return t=e.displayName||null,t!==null?t:um(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return um(e(t))}catch{}}return null}function YO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return um(t);case 8:return t===r0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zO(e){var t=eb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function du(e){e._valueTracker||(e._valueTracker=zO(e))}function tb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=eb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ic(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cm(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function f1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nb(e,t){t=t.checked,t!=null&&n0(e,"checked",t,!1)}function fm(e,t){nb(e,t);var n=Ri(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dm(e,t.type,n):t.hasOwnProperty("defaultValue")&&dm(e,t.type,Ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function d1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dm(e,t,n){(t!=="number"||Ic(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function ca(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ri(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function h1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Ls(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ri(n)}}function rb(e,t){var n=Ri(t.value),r=Ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function p1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ib(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ib(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hu,ob=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hu=hu||document.createElement("div"),hu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ul(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WO=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(e){WO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ks[t]=Ks[e]})});function ab(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ks.hasOwnProperty(e)&&Ks[e]?(""+t).trim():t+"px"}function sb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ab(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var qO=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mm(e,t){if(t){if(qO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function gm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vm=null;function a0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ym=null,fa=null,da=null;function m1(e){if(e=Yl(e)){if(typeof ym!="function")throw Error(W(280));var t=e.stateNode;t&&(t=id(t),ym(e.stateNode,e.type,t))}}function lb(e){fa?da?da.push(e):da=[e]:fa=e}function ub(){if(fa){var e=fa,t=da;if(da=fa=null,m1(e),t)for(e=0;e<t.length;e++)m1(t[e])}}function cb(e,t){return e(t)}function fb(){}var jh=!1;function db(e,t,n){if(jh)return e(t,n);jh=!0;try{return cb(e,t,n)}finally{jh=!1,(fa!==null||da!==null)&&(fb(),ub())}}function cl(e,t){var n=e.stateNode;if(n===null)return null;var r=id(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var wm=!1;if(qr)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){wm=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{wm=!1}function QO(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Xs=!1,Lc=null,Ac=!1,_m=null,GO={onError:function(e){Xs=!0,Lc=e}};function KO(e,t,n,r,i,o,a,s,l){Xs=!1,Lc=null,QO.apply(GO,arguments)}function XO(e,t,n,r,i,o,a,s,l){if(KO.apply(this,arguments),Xs){if(Xs){var u=Lc;Xs=!1,Lc=null}else throw Error(W(198));Ac||(Ac=!0,_m=u)}}function Io(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g1(e){if(Io(e)!==e)throw Error(W(188))}function ZO(e){var t=e.alternate;if(!t){if(t=Io(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return g1(i),e;if(o===r)return g1(i),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function pb(e){return e=ZO(e),e!==null?mb(e):null}function mb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mb(e);if(t!==null)return t;e=e.sibling}return null}var gb=fn.unstable_scheduleCallback,v1=fn.unstable_cancelCallback,JO=fn.unstable_shouldYield,eP=fn.unstable_requestPaint,ot=fn.unstable_now,tP=fn.unstable_getCurrentPriorityLevel,s0=fn.unstable_ImmediatePriority,vb=fn.unstable_UserBlockingPriority,Fc=fn.unstable_NormalPriority,nP=fn.unstable_LowPriority,yb=fn.unstable_IdlePriority,ed=null,fr=null;function rP(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(ed,e,void 0,(e.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:aP,iP=Math.log,oP=Math.LN2;function aP(e){return e>>>=0,e===0?32:31-(iP(e)/oP|0)|0}var pu=64,mu=4194304;function As(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $c(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=As(s):(o&=a,o!==0&&(r=As(o)))}else a=n&~i,a!==0?r=As(a):o!==0&&(r=As(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Yn(t),i=1<<n,r|=e[n],t&=~i;return r}function sP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Yn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=sP(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Sm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wb(){var e=pu;return pu<<=1,!(pu&4194240)&&(pu=64),e}function Hh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yn(t),e[t]=n}function uP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Yn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function l0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Yn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $e=0;function _b(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sb,u0,xb,bb,Eb,xm=!1,gu=[],xi=null,bi=null,Ei=null,fl=new Map,dl=new Map,pi=[],cP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y1(e,t){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(t.pointerId)}}function ps(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Yl(t),t!==null&&u0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fP(e,t,n,r,i){switch(t){case"focusin":return xi=ps(xi,e,t,n,r,i),!0;case"dragenter":return bi=ps(bi,e,t,n,r,i),!0;case"mouseover":return Ei=ps(Ei,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return fl.set(o,ps(fl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dl.set(o,ps(dl.get(o)||null,e,t,n,r,i)),!0}return!1}function Cb(e){var t=to(e.target);if(t!==null){var n=Io(t);if(n!==null){if(t=n.tag,t===13){if(t=hb(n),t!==null){e.blockedOn=t,Eb(e.priority,function(){xb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vm=r,n.target.dispatchEvent(r),vm=null}else return t=Yl(n),t!==null&&u0(t),e.blockedOn=n,!1;t.shift()}return!0}function w1(e,t,n){tc(e)&&n.delete(t)}function dP(){xm=!1,xi!==null&&tc(xi)&&(xi=null),bi!==null&&tc(bi)&&(bi=null),Ei!==null&&tc(Ei)&&(Ei=null),fl.forEach(w1),dl.forEach(w1)}function ms(e,t){e.blockedOn===t&&(e.blockedOn=null,xm||(xm=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,dP)))}function hl(e){function t(i){return ms(i,e)}if(0<gu.length){ms(gu[0],e);for(var n=1;n<gu.length;n++){var r=gu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xi!==null&&ms(xi,e),bi!==null&&ms(bi,e),Ei!==null&&ms(Ei,e),fl.forEach(t),dl.forEach(t),n=0;n<pi.length;n++)r=pi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)Cb(n),n.blockedOn===null&&pi.shift()}var ha=oi.ReactCurrentBatchConfig,jc=!0;function hP(e,t,n,r){var i=$e,o=ha.transition;ha.transition=null;try{$e=1,c0(e,t,n,r)}finally{$e=i,ha.transition=o}}function pP(e,t,n,r){var i=$e,o=ha.transition;ha.transition=null;try{$e=4,c0(e,t,n,r)}finally{$e=i,ha.transition=o}}function c0(e,t,n,r){if(jc){var i=bm(e,t,n,r);if(i===null)Kh(e,t,r,Hc,n),y1(e,r);else if(fP(i,e,t,n,r))r.stopPropagation();else if(y1(e,r),t&4&&-1<cP.indexOf(e)){for(;i!==null;){var o=Yl(i);if(o!==null&&Sb(o),o=bm(e,t,n,r),o===null&&Kh(e,t,r,Hc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Kh(e,t,r,null,n)}}var Hc=null;function bm(e,t,n,r){if(Hc=null,e=a0(r),e=to(e),e!==null)if(t=Io(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hc=e,null}function Tb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tP()){case s0:return 1;case vb:return 4;case Fc:case nP:return 16;case yb:return 536870912;default:return 16}default:return 16}}var yi=null,f0=null,nc=null;function kb(){if(nc)return nc;var e,t=f0,n=t.length,r,i="value"in yi?yi.value:yi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return nc=i.slice(e,1<r?1-r:void 0)}function rc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vu(){return!0}function _1(){return!1}function mn(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vu:_1,this.isPropagationStopped=_1,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),t}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=mn(Ja),Bl=Je({},Ja,{view:0,detail:0}),mP=mn(Bl),Uh,Vh,gs,td=Je({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(Uh=e.screenX-gs.screenX,Vh=e.screenY-gs.screenY):Vh=Uh=0,gs=e),Uh)},movementY:function(e){return"movementY"in e?e.movementY:Vh}}),S1=mn(td),gP=Je({},td,{dataTransfer:0}),vP=mn(gP),yP=Je({},Bl,{relatedTarget:0}),Bh=mn(yP),wP=Je({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),_P=mn(wP),SP=Je({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xP=mn(SP),bP=Je({},Ja,{data:0}),x1=mn(bP),EP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TP[e])?!!t[e]:!1}function h0(){return kP}var MP=Je({},Bl,{key:function(e){if(e.key){var t=EP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h0,charCode:function(e){return e.type==="keypress"?rc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DP=mn(MP),OP=Je({},td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b1=mn(OP),PP=Je({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h0}),NP=mn(PP),RP=Je({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),IP=mn(RP),LP=Je({},td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AP=mn(LP),FP=[9,13,27,32],p0=qr&&"CompositionEvent"in window,Zs=null;qr&&"documentMode"in document&&(Zs=document.documentMode);var $P=qr&&"TextEvent"in window&&!Zs,Mb=qr&&(!p0||Zs&&8<Zs&&11>=Zs),E1=" ",C1=!1;function Db(e,t){switch(e){case"keyup":return FP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ob(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xo=!1;function jP(e,t){switch(e){case"compositionend":return Ob(t);case"keypress":return t.which!==32?null:(C1=!0,E1);case"textInput":return e=t.data,e===E1&&C1?null:e;default:return null}}function HP(e,t){if(Xo)return e==="compositionend"||!p0&&Db(e,t)?(e=kb(),nc=f0=yi=null,Xo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mb&&t.locale!=="ko"?null:t.data;default:return null}}var UP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UP[e.type]:t==="textarea"}function Pb(e,t,n,r){lb(r),t=Uc(t,"onChange"),0<t.length&&(n=new d0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Js=null,pl=null;function VP(e){Vb(e,0)}function nd(e){var t=ea(e);if(tb(t))return e}function BP(e,t){if(e==="change")return t}var Nb=!1;if(qr){var Yh;if(qr){var zh="oninput"in document;if(!zh){var k1=document.createElement("div");k1.setAttribute("oninput","return;"),zh=typeof k1.oninput=="function"}Yh=zh}else Yh=!1;Nb=Yh&&(!document.documentMode||9<document.documentMode)}function M1(){Js&&(Js.detachEvent("onpropertychange",Rb),pl=Js=null)}function Rb(e){if(e.propertyName==="value"&&nd(pl)){var t=[];Pb(t,pl,e,a0(e)),db(VP,t)}}function YP(e,t,n){e==="focusin"?(M1(),Js=t,pl=n,Js.attachEvent("onpropertychange",Rb)):e==="focusout"&&M1()}function zP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nd(pl)}function WP(e,t){if(e==="click")return nd(t)}function qP(e,t){if(e==="input"||e==="change")return nd(t)}function QP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qn=typeof Object.is=="function"?Object.is:QP;function ml(e,t){if(qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!om.call(t,i)||!qn(e[i],t[i]))return!1}return!0}function D1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O1(e,t){var n=D1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=D1(n)}}function Ib(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ib(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lb(){for(var e=window,t=Ic();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ic(e.document)}return t}function m0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GP(e){var t=Lb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ib(n.ownerDocument.documentElement,n)){if(r!==null&&m0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=O1(n,o);var a=O1(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KP=qr&&"documentMode"in document&&11>=document.documentMode,Zo=null,Em=null,el=null,Cm=!1;function P1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cm||Zo==null||Zo!==Ic(r)||(r=Zo,"selectionStart"in r&&m0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&ml(el,r)||(el=r,r=Uc(Em,"onSelect"),0<r.length&&(t=new d0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zo)))}function yu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jo={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},Wh={},Ab={};qr&&(Ab=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function rd(e){if(Wh[e])return Wh[e];if(!Jo[e])return e;var t=Jo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ab)return Wh[e]=t[n];return e}var Fb=rd("animationend"),$b=rd("animationiteration"),jb=rd("animationstart"),Hb=rd("transitionend"),Ub=new Map,N1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(e,t){Ub.set(e,t),Ro(t,[e])}for(var qh=0;qh<N1.length;qh++){var Qh=N1[qh],XP=Qh.toLowerCase(),ZP=Qh[0].toUpperCase()+Qh.slice(1);Ui(XP,"on"+ZP)}Ui(Fb,"onAnimationEnd");Ui($b,"onAnimationIteration");Ui(jb,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(Hb,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function R1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,XO(r,t,void 0,e),e.currentTarget=null}function Vb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;R1(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;R1(i,s,u),o=l}}}if(Ac)throw e=_m,Ac=!1,_m=null,e}function Ve(e,t){var n=t[Om];n===void 0&&(n=t[Om]=new Set);var r=e+"__bubble";n.has(r)||(Bb(t,e,2,!1),n.add(r))}function Gh(e,t,n){var r=0;t&&(r|=4),Bb(n,e,r,t)}var wu="_reactListening"+Math.random().toString(36).slice(2);function gl(e){if(!e[wu]){e[wu]=!0,Kx.forEach(function(n){n!=="selectionchange"&&(JP.has(n)||Gh(n,!1,e),Gh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wu]||(t[wu]=!0,Gh("selectionchange",!1,t))}}function Bb(e,t,n,r){switch(Tb(t)){case 1:var i=hP;break;case 4:i=pP;break;default:i=c0}n=i.bind(null,t,n,e),i=void 0,!wm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kh(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=to(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}db(function(){var u=o,c=a0(n),f=[];e:{var d=Ub.get(e);if(d!==void 0){var h=d0,m=e;switch(e){case"keypress":if(rc(n)===0)break e;case"keydown":case"keyup":h=DP;break;case"focusin":m="focus",h=Bh;break;case"focusout":m="blur",h=Bh;break;case"beforeblur":case"afterblur":h=Bh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=S1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=vP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=NP;break;case Fb:case $b:case jb:h=_P;break;case Hb:h=IP;break;case"scroll":h=mP;break;case"wheel":h=AP;break;case"copy":case"cut":case"paste":h=xP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=b1}var g=(t&4)!==0,v=!g&&e==="scroll",p=g?d!==null?d+"Capture":null:d;g=[];for(var w=u,y;w!==null;){y=w;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,p!==null&&(x=cl(w,p),x!=null&&g.push(vl(w,x,y)))),v)break;w=w.return}0<g.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==vm&&(m=n.relatedTarget||n.fromElement)&&(to(m)||m[Qr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?to(m):null,m!==null&&(v=Io(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(g=S1,x="onMouseLeave",p="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=b1,x="onPointerLeave",p="onPointerEnter",w="pointer"),v=h==null?d:ea(h),y=m==null?d:ea(m),d=new g(x,w+"leave",h,n,c),d.target=v,d.relatedTarget=y,x=null,to(c)===u&&(g=new g(p,w+"enter",m,n,c),g.target=y,g.relatedTarget=v,x=g),v=x,h&&m)t:{for(g=h,p=m,w=0,y=g;y;y=Bo(y))w++;for(y=0,x=p;x;x=Bo(x))y++;for(;0<w-y;)g=Bo(g),w--;for(;0<y-w;)p=Bo(p),y--;for(;w--;){if(g===p||p!==null&&g===p.alternate)break t;g=Bo(g),p=Bo(p)}g=null}else g=null;h!==null&&I1(f,d,h,g,!1),m!==null&&v!==null&&I1(f,v,m,g,!0)}}e:{if(d=u?ea(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=BP;else if(T1(d))if(Nb)E=qP;else{E=zP;var b=YP}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=WP);if(E&&(E=E(e,u))){Pb(f,E,n,c);break e}b&&b(e,d,u),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&dm(d,"number",d.value)}switch(b=u?ea(u):window,e){case"focusin":(T1(b)||b.contentEditable==="true")&&(Zo=b,Em=u,el=null);break;case"focusout":el=Em=Zo=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,P1(f,n,c);break;case"selectionchange":if(KP)break;case"keydown":case"keyup":P1(f,n,c)}var C;if(p0)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Xo?Db(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Mb&&n.locale!=="ko"&&(Xo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Xo&&(C=kb()):(yi=c,f0="value"in yi?yi.value:yi.textContent,Xo=!0)),b=Uc(u,k),0<b.length&&(k=new x1(k,e,null,n,c),f.push({event:k,listeners:b}),C?k.data=C:(C=Ob(n),C!==null&&(k.data=C)))),(C=$P?jP(e,n):HP(e,n))&&(u=Uc(u,"onBeforeInput"),0<u.length&&(c=new x1("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}Vb(f,t)})}function vl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Uc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=cl(e,n),o!=null&&r.unshift(vl(e,o,i)),o=cl(e,t),o!=null&&r.push(vl(e,o,i))),e=e.return}return r}function Bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I1(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=cl(n,o),l!=null&&a.unshift(vl(n,l,s))):i||(l=cl(n,o),l!=null&&a.push(vl(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var eN=/\r\n?/g,tN=/\u0000|\uFFFD/g;function L1(e){return(typeof e=="string"?e:""+e).replace(eN,`
`).replace(tN,"")}function _u(e,t,n){if(t=L1(t),L1(e)!==t&&n)throw Error(W(425))}function Vc(){}var Tm=null,km=null;function Mm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,A1=typeof Promise=="function"?Promise:void 0,rN=typeof queueMicrotask=="function"?queueMicrotask:typeof A1<"u"?function(e){return A1.resolve(null).then(e).catch(iN)}:Dm;function iN(e){setTimeout(function(){throw e})}function Xh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),hl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hl(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),ir="__reactFiber$"+es,yl="__reactProps$"+es,Qr="__reactContainer$"+es,Om="__reactEvents$"+es,oN="__reactListeners$"+es,aN="__reactHandles$"+es;function to(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[ir]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=F1(e);e!==null;){if(n=e[ir])return n;e=F1(e)}return t}e=n,n=e.parentNode}return null}function Yl(e){return e=e[ir]||e[Qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ea(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function id(e){return e[yl]||null}var Pm=[],ta=-1;function Vi(e){return{current:e}}function Be(e){0>ta||(e.current=Pm[ta],Pm[ta]=null,ta--)}function Ue(e,t){ta++,Pm[ta]=e.current,e.current=t}var Ii={},jt=Vi(Ii),Jt=Vi(!1),go=Ii;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function en(e){return e=e.childContextTypes,e!=null}function Bc(){Be(Jt),Be(jt)}function $1(e,t,n){if(jt.current!==Ii)throw Error(W(168));Ue(jt,t),Ue(Jt,n)}function Yb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,YO(e)||"Unknown",i));return Je({},n,r)}function Yc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,go=jt.current,Ue(jt,e),Ue(Jt,Jt.current),!0}function j1(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=Yb(e,t,go),r.__reactInternalMemoizedMergedChildContext=e,Be(Jt),Be(jt),Ue(jt,e)):Be(Jt),Ue(Jt,n)}var Nr=null,od=!1,Zh=!1;function zb(e){Nr===null?Nr=[e]:Nr.push(e)}function sN(e){od=!0,zb(e)}function Bi(){if(!Zh&&Nr!==null){Zh=!0;var e=0,t=$e;try{var n=Nr;for($e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nr=null,od=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(e+1)),gb(s0,Bi),i}finally{$e=t,Zh=!1}}return null}var na=[],ra=0,zc=null,Wc=0,bn=[],En=0,vo=null,Ar=1,Fr="";function Xi(e,t){na[ra++]=Wc,na[ra++]=zc,zc=e,Wc=t}function Wb(e,t,n){bn[En++]=Ar,bn[En++]=Fr,bn[En++]=vo,vo=e;var r=Ar;e=Fr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var o=32-Yn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ar=1<<32-Yn(t)+i|n<<i|r,Fr=o+e}else Ar=1<<o|n<<i|r,Fr=e}function g0(e){e.return!==null&&(Xi(e,1),Wb(e,1,0))}function v0(e){for(;e===zc;)zc=na[--ra],na[ra]=null,Wc=na[--ra],na[ra]=null;for(;e===vo;)vo=bn[--En],bn[En]=null,Fr=bn[--En],bn[En]=null,Ar=bn[--En],bn[En]=null}var ln=null,an=null,qe=!1,Vn=null;function qb(e,t){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function H1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,an=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vo!==null?{id:Ar,overflow:Fr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ln=e,an=null,!0):!1;default:return!1}}function Nm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rm(e){if(qe){var t=an;if(t){var n=t;if(!H1(e,t)){if(Nm(e))throw Error(W(418));t=Ci(n.nextSibling);var r=ln;t&&H1(e,t)?qb(r,n):(e.flags=e.flags&-4097|2,qe=!1,ln=e)}}else{if(Nm(e))throw Error(W(418));e.flags=e.flags&-4097|2,qe=!1,ln=e}}}function U1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function Su(e){if(e!==ln)return!1;if(!qe)return U1(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mm(e.type,e.memoizedProps)),t&&(t=an)){if(Nm(e))throw Qb(),Error(W(418));for(;t;)qb(e,t),t=Ci(t.nextSibling)}if(U1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){an=Ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}an=null}}else an=ln?Ci(e.stateNode.nextSibling):null;return!0}function Qb(){for(var e=an;e;)e=Ci(e.nextSibling)}function ka(){an=ln=null,qe=!1}function y0(e){Vn===null?Vn=[e]:Vn.push(e)}var lN=oi.ReactCurrentBatchConfig;function vs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function xu(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function V1(e){var t=e._init;return t(e._payload)}function Gb(e){function t(p,w){if(e){var y=p.deletions;y===null?(p.deletions=[w],p.flags|=16):y.push(w)}}function n(p,w){if(!e)return null;for(;w!==null;)t(p,w),w=w.sibling;return null}function r(p,w){for(p=new Map;w!==null;)w.key!==null?p.set(w.key,w):p.set(w.index,w),w=w.sibling;return p}function i(p,w){return p=Di(p,w),p.index=0,p.sibling=null,p}function o(p,w,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<w?(p.flags|=2,w):y):(p.flags|=2,w)):(p.flags|=1048576,w)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,w,y,x){return w===null||w.tag!==6?(w=op(y,p.mode,x),w.return=p,w):(w=i(w,y),w.return=p,w)}function l(p,w,y,x){var E=y.type;return E===Ko?c(p,w,y.props.children,x,y.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fi&&V1(E)===w.type)?(x=i(w,y.props),x.ref=vs(p,w,y),x.return=p,x):(x=cc(y.type,y.key,y.props,null,p.mode,x),x.ref=vs(p,w,y),x.return=p,x)}function u(p,w,y,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=ap(y,p.mode,x),w.return=p,w):(w=i(w,y.children||[]),w.return=p,w)}function c(p,w,y,x,E){return w===null||w.tag!==7?(w=uo(y,p.mode,x,E),w.return=p,w):(w=i(w,y),w.return=p,w)}function f(p,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=op(""+w,p.mode,y),w.return=p,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fu:return y=cc(w.type,w.key,w.props,null,p.mode,y),y.ref=vs(p,null,w),y.return=p,y;case Go:return w=ap(w,p.mode,y),w.return=p,w;case fi:var x=w._init;return f(p,x(w._payload),y)}if(Ls(w)||ds(w))return w=uo(w,p.mode,y,null),w.return=p,w;xu(p,w)}return null}function d(p,w,y,x){var E=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:s(p,w,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fu:return y.key===E?l(p,w,y,x):null;case Go:return y.key===E?u(p,w,y,x):null;case fi:return E=y._init,d(p,w,E(y._payload),x)}if(Ls(y)||ds(y))return E!==null?null:c(p,w,y,x,null);xu(p,y)}return null}function h(p,w,y,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(y)||null,s(w,p,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fu:return p=p.get(x.key===null?y:x.key)||null,l(w,p,x,E);case Go:return p=p.get(x.key===null?y:x.key)||null,u(w,p,x,E);case fi:var b=x._init;return h(p,w,y,b(x._payload),E)}if(Ls(x)||ds(x))return p=p.get(y)||null,c(w,p,x,E,null);xu(w,x)}return null}function m(p,w,y,x){for(var E=null,b=null,C=w,k=w=0,N=null;C!==null&&k<y.length;k++){C.index>k?(N=C,C=null):N=C.sibling;var A=d(p,C,y[k],x);if(A===null){C===null&&(C=N);break}e&&C&&A.alternate===null&&t(p,C),w=o(A,w,k),b===null?E=A:b.sibling=A,b=A,C=N}if(k===y.length)return n(p,C),qe&&Xi(p,k),E;if(C===null){for(;k<y.length;k++)C=f(p,y[k],x),C!==null&&(w=o(C,w,k),b===null?E=C:b.sibling=C,b=C);return qe&&Xi(p,k),E}for(C=r(p,C);k<y.length;k++)N=h(C,p,k,y[k],x),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?k:N.key),w=o(N,w,k),b===null?E=N:b.sibling=N,b=N);return e&&C.forEach(function(O){return t(p,O)}),qe&&Xi(p,k),E}function g(p,w,y,x){var E=ds(y);if(typeof E!="function")throw Error(W(150));if(y=E.call(y),y==null)throw Error(W(151));for(var b=E=null,C=w,k=w=0,N=null,A=y.next();C!==null&&!A.done;k++,A=y.next()){C.index>k?(N=C,C=null):N=C.sibling;var O=d(p,C,A.value,x);if(O===null){C===null&&(C=N);break}e&&C&&O.alternate===null&&t(p,C),w=o(O,w,k),b===null?E=O:b.sibling=O,b=O,C=N}if(A.done)return n(p,C),qe&&Xi(p,k),E;if(C===null){for(;!A.done;k++,A=y.next())A=f(p,A.value,x),A!==null&&(w=o(A,w,k),b===null?E=A:b.sibling=A,b=A);return qe&&Xi(p,k),E}for(C=r(p,C);!A.done;k++,A=y.next())A=h(C,p,k,A.value,x),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),w=o(A,w,k),b===null?E=A:b.sibling=A,b=A);return e&&C.forEach(function(V){return t(p,V)}),qe&&Xi(p,k),E}function v(p,w,y,x){if(typeof y=="object"&&y!==null&&y.type===Ko&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fu:e:{for(var E=y.key,b=w;b!==null;){if(b.key===E){if(E=y.type,E===Ko){if(b.tag===7){n(p,b.sibling),w=i(b,y.props.children),w.return=p,p=w;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fi&&V1(E)===b.type){n(p,b.sibling),w=i(b,y.props),w.ref=vs(p,b,y),w.return=p,p=w;break e}n(p,b);break}else t(p,b);b=b.sibling}y.type===Ko?(w=uo(y.props.children,p.mode,x,y.key),w.return=p,p=w):(x=cc(y.type,y.key,y.props,null,p.mode,x),x.ref=vs(p,w,y),x.return=p,p=x)}return a(p);case Go:e:{for(b=y.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){n(p,w.sibling),w=i(w,y.children||[]),w.return=p,p=w;break e}else{n(p,w);break}else t(p,w);w=w.sibling}w=ap(y,p.mode,x),w.return=p,p=w}return a(p);case fi:return b=y._init,v(p,w,b(y._payload),x)}if(Ls(y))return m(p,w,y,x);if(ds(y))return g(p,w,y,x);xu(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(n(p,w.sibling),w=i(w,y),w.return=p,p=w):(n(p,w),w=op(y,p.mode,x),w.return=p,p=w),a(p)):n(p,w)}return v}var Ma=Gb(!0),Kb=Gb(!1),qc=Vi(null),Qc=null,ia=null,w0=null;function _0(){w0=ia=Qc=null}function S0(e){var t=qc.current;Be(qc),e._currentValue=t}function Im(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pa(e,t){Qc=e,w0=ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zt=!0),e.firstContext=null)}function Pn(e){var t=e._currentValue;if(w0!==e)if(e={context:e,memoizedValue:t,next:null},ia===null){if(Qc===null)throw Error(W(308));ia=e,Qc.dependencies={lanes:0,firstContext:e}}else ia=ia.next=e;return t}var no=null;function x0(e){no===null?no=[e]:no.push(e)}function Xb(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,x0(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gr(e,r)}function Gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var di=!1;function b0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gr(e,n)}return i=r.interleaved,i===null?(t.next=t,x0(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gr(e,n)}function ic(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,l0(e,n)}}function B1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gc(e,t,n,r){var i=e.updateQueue;di=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(d=t,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=Je({},f,d);break e;case 2:di=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);wo|=a,e.lanes=a,e.memoizedState=f}}function Y1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var zl={},dr=Vi(zl),wl=Vi(zl),_l=Vi(zl);function ro(e){if(e===zl)throw Error(W(174));return e}function E0(e,t){switch(Ue(_l,t),Ue(wl,e),Ue(dr,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pm(t,e)}Be(dr),Ue(dr,t)}function Da(){Be(dr),Be(wl),Be(_l)}function Jb(e){ro(_l.current);var t=ro(dr.current),n=pm(t,e.type);t!==n&&(Ue(wl,e),Ue(dr,n))}function C0(e){wl.current===e&&(Be(dr),Be(wl))}var Qe=Vi(0);function Kc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jh=[];function T0(){for(var e=0;e<Jh.length;e++)Jh[e]._workInProgressVersionPrimary=null;Jh.length=0}var oc=oi.ReactCurrentDispatcher,ep=oi.ReactCurrentBatchConfig,yo=0,Xe=null,ft=null,mt=null,Xc=!1,tl=!1,Sl=0,uN=0;function Pt(){throw Error(W(321))}function k0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qn(e[n],t[n]))return!1;return!0}function M0(e,t,n,r,i,o){if(yo=o,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oc.current=e===null||e.memoizedState===null?hN:pN,e=n(r,i),tl){o=0;do{if(tl=!1,Sl=0,25<=o)throw Error(W(301));o+=1,mt=ft=null,t.updateQueue=null,oc.current=mN,e=n(r,i)}while(tl)}if(oc.current=Zc,t=ft!==null&&ft.next!==null,yo=0,mt=ft=Xe=null,Xc=!1,t)throw Error(W(300));return e}function D0(){var e=Sl!==0;return Sl=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Xe.memoizedState=mt=e:mt=mt.next=e,mt}function Nn(){if(ft===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=mt===null?Xe.memoizedState:mt.next;if(t!==null)mt=t,ft=e;else{if(e===null)throw Error(W(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},mt===null?Xe.memoizedState=mt=e:mt=mt.next=e}return mt}function xl(e,t){return typeof t=="function"?t(e):t}function tp(e){var t=Nn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=ft,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((yo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Xe.lanes|=c,wo|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,qn(r,t.memoizedState)||(Zt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Xe.lanes|=o,wo|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function np(e){var t=Nn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);qn(o,t.memoizedState)||(Zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function eE(){}function tE(e,t){var n=Xe,r=Nn(),i=t(),o=!qn(r.memoizedState,i);if(o&&(r.memoizedState=i,Zt=!0),r=r.queue,O0(iE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,bl(9,rE.bind(null,n,r,i,t),void 0,null),St===null)throw Error(W(349));yo&30||nE(n,t,i)}return i}function nE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rE(e,t,n,r){t.value=n,t.getSnapshot=r,oE(t)&&aE(e)}function iE(e,t,n){return n(function(){oE(t)&&aE(e)})}function oE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qn(e,n)}catch{return!0}}function aE(e){var t=Gr(e,1);t!==null&&zn(t,e,1,-1)}function z1(e){var t=Zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e},t.queue=e,e=e.dispatch=dN.bind(null,Xe,e),[t.memoizedState,e]}function bl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sE(){return Nn().memoizedState}function ac(e,t,n,r){var i=Zn();Xe.flags|=e,i.memoizedState=bl(1|t,n,void 0,r===void 0?null:r)}function ad(e,t,n,r){var i=Nn();r=r===void 0?null:r;var o=void 0;if(ft!==null){var a=ft.memoizedState;if(o=a.destroy,r!==null&&k0(r,a.deps)){i.memoizedState=bl(t,n,o,r);return}}Xe.flags|=e,i.memoizedState=bl(1|t,n,o,r)}function W1(e,t){return ac(8390656,8,e,t)}function O0(e,t){return ad(2048,8,e,t)}function lE(e,t){return ad(4,2,e,t)}function uE(e,t){return ad(4,4,e,t)}function cE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fE(e,t,n){return n=n!=null?n.concat([e]):null,ad(4,4,cE.bind(null,t,e),n)}function P0(){}function dE(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&k0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hE(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&k0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pE(e,t,n){return yo&21?(qn(n,t)||(n=wb(),Xe.lanes|=n,wo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zt=!0),e.memoizedState=n)}function cN(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var r=ep.transition;ep.transition={};try{e(!1),t()}finally{$e=n,ep.transition=r}}function mE(){return Nn().memoizedState}function fN(e,t,n){var r=Mi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gE(e))vE(t,n);else if(n=Xb(e,t,n,r),n!==null){var i=Wt();zn(n,e,r,i),yE(n,t,r)}}function dN(e,t,n){var r=Mi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gE(e))vE(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,qn(s,a)){var l=t.interleaved;l===null?(i.next=i,x0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Xb(e,t,i,r),n!==null&&(i=Wt(),zn(n,e,r,i),yE(n,t,r))}}function gE(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function vE(e,t){tl=Xc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,l0(e,n)}}var Zc={readContext:Pn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},hN={readContext:Pn,useCallback:function(e,t){return Zn().memoizedState=[e,t===void 0?null:t],e},useContext:Pn,useEffect:W1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ac(4194308,4,cE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ac(4194308,4,e,t)},useInsertionEffect:function(e,t){return ac(4,2,e,t)},useMemo:function(e,t){var n=Zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fN.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Zn();return e={current:e},t.memoizedState=e},useState:z1,useDebugValue:P0,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=z1(!1),t=e[0];return e=cN.bind(null,e[1]),Zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=Zn();if(qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),St===null)throw Error(W(349));yo&30||nE(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,W1(iE.bind(null,r,o,e),[e]),r.flags|=2048,bl(9,rE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Zn(),t=St.identifierPrefix;if(qe){var n=Fr,r=Ar;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pN={readContext:Pn,useCallback:dE,useContext:Pn,useEffect:O0,useImperativeHandle:fE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:hE,useReducer:tp,useRef:sE,useState:function(){return tp(xl)},useDebugValue:P0,useDeferredValue:function(e){var t=Nn();return pE(t,ft.memoizedState,e)},useTransition:function(){var e=tp(xl)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:eE,useSyncExternalStore:tE,useId:mE,unstable_isNewReconciler:!1},mN={readContext:Pn,useCallback:dE,useContext:Pn,useEffect:O0,useImperativeHandle:fE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:hE,useReducer:np,useRef:sE,useState:function(){return np(xl)},useDebugValue:P0,useDeferredValue:function(e){var t=Nn();return ft===null?t.memoizedState=e:pE(t,ft.memoizedState,e)},useTransition:function(){var e=np(xl)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:eE,useSyncExternalStore:tE,useId:mE,unstable_isNewReconciler:!1};function Hn(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sd={isMounted:function(e){return(e=e._reactInternals)?Io(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=Mi(e),o=Hr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ti(e,o,i),t!==null&&(zn(t,e,i,r),ic(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=Mi(e),o=Hr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ti(e,o,i),t!==null&&(zn(t,e,i,r),ic(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wt(),r=Mi(e),i=Hr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ti(e,i,r),t!==null&&(zn(t,e,r,n),ic(t,e,r))}};function q1(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!ml(n,r)||!ml(i,o):!0}function wE(e,t,n){var r=!1,i=Ii,o=t.contextType;return typeof o=="object"&&o!==null?o=Pn(o):(i=en(t)?go:jt.current,r=t.contextTypes,o=(r=r!=null)?Ta(e,i):Ii),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Q1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sd.enqueueReplaceState(t,t.state,null)}function Am(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},b0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Pn(o):(o=en(t)?go:jt.current,i.context=Ta(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Lm(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&sd.enqueueReplaceState(i,i.state,null),Gc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Oa(e,t){try{var n="",r=t;do n+=BO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function rp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gN=typeof WeakMap=="function"?WeakMap:Map;function _E(e,t,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ef||(ef=!0,qm=r),Fm(e,t)},n}function SE(e,t,n){n=Hr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Fm(e,t),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function G1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ON.bind(null,e,t,n),t.then(e,e))}function K1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function X1(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hr(-1,1),t.tag=2,Ti(n,t,1))),n.lanes|=1),e)}var vN=oi.ReactCurrentOwner,Zt=!1;function Ut(e,t,n,r){t.child=e===null?Kb(t,null,n,r):Ma(t,e.child,n,r)}function Z1(e,t,n,r,i){n=n.render;var o=t.ref;return pa(t,i),r=M0(e,t,n,r,o,i),n=D0(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kr(e,t,i)):(qe&&n&&g0(t),t.flags|=1,Ut(e,t,r,i),t.child)}function J1(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!j0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,xE(e,t,o,r,i)):(e=cc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ml,n(a,r)&&e.ref===t.ref)return Kr(e,t,i)}return t.flags|=1,e=Di(o,r),e.ref=t.ref,e.return=t,t.child=e}function xE(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ml(o,r)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Zt=!0);else return t.lanes=e.lanes,Kr(e,t,i)}return $m(e,t,n,r,i)}function bE(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(aa,rn),rn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(aa,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(aa,rn),rn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ue(aa,rn),rn|=r;return Ut(e,t,i,n),t.child}function EE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $m(e,t,n,r,i){var o=en(n)?go:jt.current;return o=Ta(t,o),pa(t,i),n=M0(e,t,n,r,o,i),r=D0(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kr(e,t,i)):(qe&&r&&g0(t),t.flags|=1,Ut(e,t,n,i),t.child)}function ew(e,t,n,r,i){if(en(n)){var o=!0;Yc(t)}else o=!1;if(pa(t,i),t.stateNode===null)sc(e,t),wE(t,n,r),Am(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pn(u):(u=en(n)?go:jt.current,u=Ta(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Q1(t,a,r,u),di=!1;var d=t.memoizedState;a.state=d,Gc(t,r,a,i),l=t.memoizedState,s!==r||d!==l||Jt.current||di?(typeof c=="function"&&(Lm(t,n,c,r),l=t.memoizedState),(s=di||q1(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Zb(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Hn(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=en(n)?go:jt.current,l=Ta(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&Q1(t,a,r,l),di=!1,d=t.memoizedState,a.state=d,Gc(t,r,a,i);var m=t.memoizedState;s!==f||d!==m||Jt.current||di?(typeof h=="function"&&(Lm(t,n,h,r),m=t.memoizedState),(u=di||q1(t,n,u,r,d,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return jm(e,t,n,r,o,i)}function jm(e,t,n,r,i,o){EE(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&j1(t,n,!1),Kr(e,t,o);r=t.stateNode,vN.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ma(t,e.child,null,o),t.child=Ma(t,null,s,o)):Ut(e,t,s,o),t.memoizedState=r.state,i&&j1(t,n,!0),t.child}function CE(e){var t=e.stateNode;t.pendingContext?$1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$1(e,t.context,!1),E0(e,t.containerInfo)}function tw(e,t,n,r,i){return ka(),y0(i),t.flags|=256,Ut(e,t,n,r),t.child}var Hm={dehydrated:null,treeContext:null,retryLane:0};function Um(e){return{baseLanes:e,cachePool:null,transitions:null}}function TE(e,t,n){var r=t.pendingProps,i=Qe.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ue(Qe,i&1),e===null)return Rm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=cd(a,r,0,null),e=uo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Um(n),t.memoizedState=Hm,e):N0(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return yN(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Di(s,o):(o=uo(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Um(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Hm,r}return o=e.child,e=o.sibling,r=Di(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function N0(e,t){return t=cd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bu(e,t,n,r){return r!==null&&y0(r),Ma(t,e.child,null,n),e=N0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yN(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=rp(Error(W(422))),bu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=cd({mode:"visible",children:r.children},i,0,null),o=uo(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ma(t,e.child,null,a),t.child.memoizedState=Um(a),t.memoizedState=Hm,o);if(!(t.mode&1))return bu(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(W(419)),r=rp(o,r,void 0),bu(e,t,a,r)}if(s=(a&e.childLanes)!==0,Zt||s){if(r=St,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gr(e,i),zn(r,e,i,-1))}return $0(),r=rp(Error(W(421))),bu(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=PN.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,an=Ci(i.nextSibling),ln=t,qe=!0,Vn=null,e!==null&&(bn[En++]=Ar,bn[En++]=Fr,bn[En++]=vo,Ar=e.id,Fr=e.overflow,vo=t),t=N0(t,r.children),t.flags|=4096,t)}function nw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Im(e.return,t,n)}function ip(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function kE(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ut(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nw(e,n,t);else if(e.tag===19)nw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Kc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ip(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Kc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ip(t,!0,n,null,o);break;case"together":ip(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Di(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Di(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wN(e,t,n){switch(t.tag){case 3:CE(t),ka();break;case 5:Jb(t);break;case 1:en(t.type)&&Yc(t);break;case 4:E0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ue(qc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?TE(e,t,n):(Ue(Qe,Qe.current&1),e=Kr(e,t,n),e!==null?e.sibling:null);Ue(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,bE(e,t,n)}return Kr(e,t,n)}var ME,Vm,DE,OE;ME=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vm=function(){};DE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ro(dr.current);var o=null;switch(n){case"input":i=cm(e,i),r=cm(e,r),o=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),o=[];break;case"textarea":i=hm(e,i),r=hm(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vc)}mm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ll.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i?.[u],r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};OE=function(e,t,n,r){n!==r&&(t.flags|=4)};function ys(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _N(e,t,n){var r=t.pendingProps;switch(v0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return en(t.type)&&Bc(),Nt(t),null;case 3:return r=t.stateNode,Da(),Be(Jt),Be(jt),T0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Su(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(Km(Vn),Vn=null))),Vm(e,t),Nt(t),null;case 5:C0(t);var i=ro(_l.current);if(n=t.type,e!==null&&t.stateNode!=null)DE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return Nt(t),null}if(e=ro(dr.current),Su(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ir]=t,r[yl]=o,e=(t.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Fs.length;i++)Ve(Fs[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":f1(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":h1(r,o),Ve("invalid",r)}mm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&_u(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&_u(r.textContent,s,e),i=["children",""+s]):ll.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ve("scroll",r)}switch(n){case"input":du(r),d1(r,o,!0);break;case"textarea":du(r),p1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ib(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ir]=t,e[yl]=r,ME(e,t,!1,!1),t.stateNode=e;e:{switch(a=gm(n,r),n){case"dialog":Ve("cancel",e),Ve("close",e),i=r;break;case"iframe":case"object":case"embed":Ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fs.length;i++)Ve(Fs[i],e);i=r;break;case"source":Ve("error",e),i=r;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),i=r;break;case"details":Ve("toggle",e),i=r;break;case"input":f1(e,r),i=cm(e,r),Ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Ve("invalid",e);break;case"textarea":h1(e,r),i=hm(e,r),Ve("invalid",e);break;default:i=r}mm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?sb(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ob(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(e,l):typeof l=="number"&&ul(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ll.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ve("scroll",e):l!=null&&n0(e,o,l,a))}switch(n){case"input":du(e),d1(e,r,!1);break;case"textarea":du(e),p1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ri(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ca(e,!!r.multiple,o,!1):r.defaultValue!=null&&ca(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)OE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=ro(_l.current),ro(dr.current),Su(t)){if(r=t.stateNode,n=t.memoizedProps,r[ir]=t,(o=r.nodeValue!==n)&&(e=ln,e!==null))switch(e.tag){case 3:_u(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_u(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=t,t.stateNode=r}return Nt(t),null;case 13:if(Be(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&an!==null&&t.mode&1&&!(t.flags&128))Qb(),ka(),t.flags|=98560,o=!1;else if(o=Su(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[ir]=t}else ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),o=!1}else Vn!==null&&(Km(Vn),Vn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?dt===0&&(dt=3):$0())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return Da(),Vm(e,t),e===null&&gl(t.stateNode.containerInfo),Nt(t),null;case 10:return S0(t.type._context),Nt(t),null;case 17:return en(t.type)&&Bc(),Nt(t),null;case 19:if(Be(Qe),o=t.memoizedState,o===null)return Nt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ys(o,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Kc(e),a!==null){for(t.flags|=128,ys(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&ot()>Pa&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304)}else{if(!r)if(e=Kc(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ys(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!qe)return Nt(t),null}else 2*ot()-o.renderingStartTime>Pa&&n!==1073741824&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ot(),t.sibling=null,n=Qe.current,Ue(Qe,r?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return F0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rn&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function SN(e,t){switch(v0(t),t.tag){case 1:return en(t.type)&&Bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(),Be(Jt),Be(jt),T0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return C0(t),null;case 13:if(Be(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Qe),null;case 4:return Da(),null;case 10:return S0(t.type._context),null;case 22:case 23:return F0(),null;case 24:return null;default:return null}}var Eu=!1,At=!1,xN=typeof WeakSet=="function"?WeakSet:Set,J=null;function oa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function Bm(e,t,n){try{n()}catch(r){tt(e,t,r)}}var rw=!1;function bN(e,t){if(Tm=jc,e=Lb(),m0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(km={focusedElem:e,selectionRange:n},jc=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,p=t.stateNode,w=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Hn(t.type,g),v);p.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(x){tt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return m=rw,rw=!1,m}function nl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Bm(t,n,o)}i=i.next}while(i!==r)}}function ld(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ym(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function PE(e){var t=e.alternate;t!==null&&(e.alternate=null,PE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[yl],delete t[Om],delete t[oN],delete t[aN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NE(e){return e.tag===5||e.tag===3||e.tag===4}function iw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vc));else if(r!==4&&(e=e.child,e!==null))for(zm(e,t,n),e=e.sibling;e!==null;)zm(e,t,n),e=e.sibling}function Wm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wm(e,t,n),e=e.sibling;e!==null;)Wm(e,t,n),e=e.sibling}var Tt=null,Un=!1;function ui(e,t,n){for(n=n.child;n!==null;)RE(e,t,n),n=n.sibling}function RE(e,t,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(ed,n)}catch{}switch(n.tag){case 5:At||oa(n,t);case 6:var r=Tt,i=Un;Tt=null,ui(e,t,n),Tt=r,Un=i,Tt!==null&&(Un?(e=Tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Un?(e=Tt,n=n.stateNode,e.nodeType===8?Xh(e.parentNode,n):e.nodeType===1&&Xh(e,n),hl(e)):Xh(Tt,n.stateNode));break;case 4:r=Tt,i=Un,Tt=n.stateNode.containerInfo,Un=!0,ui(e,t,n),Tt=r,Un=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Bm(n,t,a),i=i.next}while(i!==r)}ui(e,t,n);break;case 1:if(!At&&(oa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){tt(n,t,s)}ui(e,t,n);break;case 21:ui(e,t,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,ui(e,t,n),At=r):ui(e,t,n);break;default:ui(e,t,n)}}function ow(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xN),t.forEach(function(r){var i=NN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Tt=s.stateNode,Un=!1;break e;case 3:Tt=s.stateNode.containerInfo,Un=!0;break e;case 4:Tt=s.stateNode.containerInfo,Un=!0;break e}s=s.return}if(Tt===null)throw Error(W(160));RE(o,a,i),Tt=null,Un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IE(t,e),t=t.sibling}function IE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),Xn(e),r&4){try{nl(3,e,e.return),ld(3,e)}catch(g){tt(e,e.return,g)}try{nl(5,e,e.return)}catch(g){tt(e,e.return,g)}}break;case 1:$n(t,e),Xn(e),r&512&&n!==null&&oa(n,n.return);break;case 5:if($n(t,e),Xn(e),r&512&&n!==null&&oa(n,n.return),e.flags&32){var i=e.stateNode;try{ul(i,"")}catch(g){tt(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&nb(i,o),gm(s,a);var u=gm(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?sb(i,f):c==="dangerouslySetInnerHTML"?ob(i,f):c==="children"?ul(i,f):n0(i,c,f,u)}switch(s){case"input":fm(i,o);break;case"textarea":rb(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ca(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?ca(i,!!o.multiple,o.defaultValue,!0):ca(i,!!o.multiple,o.multiple?[]:"",!1))}i[yl]=o}catch(g){tt(e,e.return,g)}}break;case 6:if($n(t,e),Xn(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){tt(e,e.return,g)}}break;case 3:if($n(t,e),Xn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(t.containerInfo)}catch(g){tt(e,e.return,g)}break;case 4:$n(t,e),Xn(e);break;case 13:$n(t,e),Xn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(L0=ot())),r&4&&ow(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(At=(u=At)||c,$n(t,e),At=u):$n(t,e),Xn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(f=J=c;J!==null;){switch(d=J,h=d.child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:oa(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){tt(r,n,g)}}break;case 5:oa(d,d.return);break;case 22:if(d.memoizedState!==null){sw(f);continue}}h!==null?(h.return=d,J=h):sw(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ab("display",a))}catch(g){tt(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){tt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$n(t,e),Xn(e),r&4&&ow(e);break;case 21:break;default:$n(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(NE(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var o=iw(e);Wm(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=iw(e);zm(e,s,a);break;default:throw Error(W(161))}}catch(l){tt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EN(e,t,n){J=e,LE(e)}function LE(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Eu;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||At;s=Eu;var u=At;if(Eu=a,(At=l)&&!u)for(J=i;J!==null;)a=J,l=a.child,a.tag===22&&a.memoizedState!==null?lw(i):l!==null?(l.return=a,J=l):lw(i);for(;o!==null;)J=o,LE(o),o=o.sibling;J=i,Eu=s,At=u}aw(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):aw(e)}}function aw(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||ld(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Y1(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Y1(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&hl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}At||t.flags&512&&Ym(t)}catch(d){tt(t,t.return,d)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function sw(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function lw(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ld(4,t)}catch(l){tt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){tt(t,i,l)}}var o=t.return;try{Ym(t)}catch(l){tt(t,o,l)}break;case 5:var a=t.return;try{Ym(t)}catch(l){tt(t,a,l)}}}catch(l){tt(t,t.return,l)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var CN=Math.ceil,Jc=oi.ReactCurrentDispatcher,R0=oi.ReactCurrentOwner,On=oi.ReactCurrentBatchConfig,De=0,St=null,ct=null,Dt=0,rn=0,aa=Vi(0),dt=0,El=null,wo=0,ud=0,I0=0,rl=null,Xt=null,L0=0,Pa=1/0,Dr=null,ef=!1,qm=null,ki=null,Cu=!1,wi=null,tf=0,il=0,Qm=null,lc=-1,uc=0;function Wt(){return De&6?ot():lc!==-1?lc:lc=ot()}function Mi(e){return e.mode&1?De&2&&Dt!==0?Dt&-Dt:lN.transition!==null?(uc===0&&(uc=wb()),uc):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Tb(e.type)),e):1}function zn(e,t,n,r){if(50<il)throw il=0,Qm=null,Error(W(185));Vl(e,n,r),(!(De&2)||e!==St)&&(e===St&&(!(De&2)&&(ud|=n),dt===4&&mi(e,Dt)),tn(e,r),n===1&&De===0&&!(t.mode&1)&&(Pa=ot()+500,od&&Bi()))}function tn(e,t){var n=e.callbackNode;lP(e,t);var r=$c(e,e===St?Dt:0);if(r===0)n!==null&&v1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&v1(n),t===1)e.tag===0?sN(uw.bind(null,e)):zb(uw.bind(null,e)),rN(function(){!(De&6)&&Bi()}),n=null;else{switch(_b(r)){case 1:n=s0;break;case 4:n=vb;break;case 16:n=Fc;break;case 536870912:n=yb;break;default:n=Fc}n=BE(n,AE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function AE(e,t){if(lc=-1,uc=0,De&6)throw Error(W(327));var n=e.callbackNode;if(ma()&&e.callbackNode!==n)return null;var r=$c(e,e===St?Dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nf(e,r);else{t=r;var i=De;De|=2;var o=$E();(St!==e||Dt!==t)&&(Dr=null,Pa=ot()+500,lo(e,t));do try{MN();break}catch(s){FE(e,s)}while(!0);_0(),Jc.current=o,De=i,ct!==null?t=0:(St=null,Dt=0,t=dt)}if(t!==0){if(t===2&&(i=Sm(e),i!==0&&(r=i,t=Gm(e,i))),t===1)throw n=El,lo(e,0),mi(e,r),tn(e,ot()),n;if(t===6)mi(e,r);else{if(i=e.current.alternate,!(r&30)&&!TN(i)&&(t=nf(e,r),t===2&&(o=Sm(e),o!==0&&(r=o,t=Gm(e,o))),t===1))throw n=El,lo(e,0),mi(e,r),tn(e,ot()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Zi(e,Xt,Dr);break;case 3:if(mi(e,r),(r&130023424)===r&&(t=L0+500-ot(),10<t)){if($c(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Wt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Dm(Zi.bind(null,e,Xt,Dr),t);break}Zi(e,Xt,Dr);break;case 4:if(mi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Yn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CN(r/1960))-r,10<r){e.timeoutHandle=Dm(Zi.bind(null,e,Xt,Dr),r);break}Zi(e,Xt,Dr);break;case 5:Zi(e,Xt,Dr);break;default:throw Error(W(329))}}}return tn(e,ot()),e.callbackNode===n?AE.bind(null,e):null}function Gm(e,t){var n=rl;return e.current.memoizedState.isDehydrated&&(lo(e,t).flags|=256),e=nf(e,t),e!==2&&(t=Xt,Xt=n,t!==null&&Km(t)),e}function Km(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function TN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!qn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mi(e,t){for(t&=~I0,t&=~ud,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yn(t),r=1<<n;e[n]=-1,t&=~r}}function uw(e){if(De&6)throw Error(W(327));ma();var t=$c(e,0);if(!(t&1))return tn(e,ot()),null;var n=nf(e,t);if(e.tag!==0&&n===2){var r=Sm(e);r!==0&&(t=r,n=Gm(e,r))}if(n===1)throw n=El,lo(e,0),mi(e,t),tn(e,ot()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zi(e,Xt,Dr),tn(e,ot()),null}function A0(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(Pa=ot()+500,od&&Bi())}}function _o(e){wi!==null&&wi.tag===0&&!(De&6)&&ma();var t=De;De|=1;var n=On.transition,r=$e;try{if(On.transition=null,$e=1,e)return e()}finally{$e=r,On.transition=n,De=t,!(De&6)&&Bi()}}function F0(){rn=aa.current,Be(aa)}function lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nN(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(v0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bc();break;case 3:Da(),Be(Jt),Be(jt),T0();break;case 5:C0(r);break;case 4:Da();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:S0(r.type._context);break;case 22:case 23:F0()}n=n.return}if(St=e,ct=e=Di(e.current,null),Dt=rn=t,dt=0,El=null,I0=ud=wo=0,Xt=rl=null,no!==null){for(t=0;t<no.length;t++)if(n=no[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}no=null}return e}function FE(e,t){do{var n=ct;try{if(_0(),oc.current=Zc,Xc){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xc=!1}if(yo=0,mt=ft=Xe=null,tl=!1,Sl=0,R0.current=null,n===null||n.return===null){dt=1,El=t,ct=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Dt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=K1(a);if(h!==null){h.flags&=-257,X1(h,a,s,o,t),h.mode&1&&G1(o,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){G1(o,u,t),$0();break e}l=Error(W(426))}}else if(qe&&s.mode&1){var v=K1(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),X1(v,a,s,o,t),y0(Oa(l,s));break e}}o=l=Oa(l,s),dt!==4&&(dt=2),rl===null?rl=[o]:rl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=_E(o,l,t);B1(o,p);break e;case 1:s=l;var w=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ki===null||!ki.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=SE(o,s,t);B1(o,x);break e}}o=o.return}while(o!==null)}HE(n)}catch(E){t=E,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function $E(){var e=Jc.current;return Jc.current=Zc,e===null?Zc:e}function $0(){(dt===0||dt===3||dt===2)&&(dt=4),St===null||!(wo&268435455)&&!(ud&268435455)||mi(St,Dt)}function nf(e,t){var n=De;De|=2;var r=$E();(St!==e||Dt!==t)&&(Dr=null,lo(e,t));do try{kN();break}catch(i){FE(e,i)}while(!0);if(_0(),De=n,Jc.current=r,ct!==null)throw Error(W(261));return St=null,Dt=0,dt}function kN(){for(;ct!==null;)jE(ct)}function MN(){for(;ct!==null&&!JO();)jE(ct)}function jE(e){var t=VE(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?HE(e):ct=t,R0.current=null}function HE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=SN(n,t),n!==null){n.flags&=32767,ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ct=null;return}}else if(n=_N(n,t,rn),n!==null){ct=n;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);dt===0&&(dt=5)}function Zi(e,t,n){var r=$e,i=On.transition;try{On.transition=null,$e=1,DN(e,t,n,r)}finally{On.transition=i,$e=r}return null}function DN(e,t,n,r){do ma();while(wi!==null);if(De&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(uP(e,o),e===St&&(ct=St=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cu||(Cu=!0,BE(Fc,function(){return ma(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=On.transition,On.transition=null;var a=$e;$e=1;var s=De;De|=4,R0.current=null,bN(e,n),IE(n,e),GP(km),jc=!!Tm,km=Tm=null,e.current=n,EN(n),eP(),De=s,$e=a,On.transition=o}else e.current=n;if(Cu&&(Cu=!1,wi=e,tf=i),o=e.pendingLanes,o===0&&(ki=null),rP(n.stateNode),tn(e,ot()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ef)throw ef=!1,e=qm,qm=null,e;return tf&1&&e.tag!==0&&ma(),o=e.pendingLanes,o&1?e===Qm?il++:(il=0,Qm=e):il=0,Bi(),null}function ma(){if(wi!==null){var e=_b(tf),t=On.transition,n=$e;try{if(On.transition=null,$e=16>e?16:e,wi===null)var r=!1;else{if(e=wi,wi=null,tf=0,De&6)throw Error(W(331));var i=De;for(De|=4,J=e.current;J!==null;){var o=J,a=o.child;if(J.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:nl(8,c,o)}var f=c.child;if(f!==null)f.return=c,J=f;else for(;J!==null;){c=J;var d=c.sibling,h=c.return;if(PE(c),c===u){J=null;break}if(d!==null){d.return=h,J=d;break}J=h}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}J=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,J=a;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,J=p;break e}J=o.return}}var w=e.current;for(J=w;J!==null;){a=J;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,J=y;else e:for(a=w;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ld(9,s)}}catch(E){tt(s,s.return,E)}if(s===a){J=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,J=x;break e}J=s.return}}if(De=i,Bi(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(ed,e)}catch{}r=!0}return r}finally{$e=n,On.transition=t}}return!1}function cw(e,t,n){t=Oa(n,t),t=_E(e,t,1),e=Ti(e,t,1),t=Wt(),e!==null&&(Vl(e,1,t),tn(e,t))}function tt(e,t,n){if(e.tag===3)cw(e,e,n);else for(;t!==null;){if(t.tag===3){cw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){e=Oa(n,e),e=SE(t,e,1),t=Ti(t,e,1),e=Wt(),t!==null&&(Vl(t,1,e),tn(t,e));break}}t=t.return}}function ON(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(Dt&n)===n&&(dt===4||dt===3&&(Dt&130023424)===Dt&&500>ot()-L0?lo(e,0):I0|=n),tn(e,t)}function UE(e,t){t===0&&(e.mode&1?(t=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):t=1);var n=Wt();e=Gr(e,t),e!==null&&(Vl(e,t,n),tn(e,n))}function PN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),UE(e,n)}function NN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),UE(e,n)}var VE;VE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)Zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zt=!1,wN(e,t,n);Zt=!!(e.flags&131072)}else Zt=!1,qe&&t.flags&1048576&&Wb(t,Wc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sc(e,t),e=t.pendingProps;var i=Ta(t,jt.current);pa(t,n),i=M0(null,t,r,e,i,n);var o=D0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,en(r)?(o=!0,Yc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,b0(t),i.updater=sd,t.stateNode=i,i._reactInternals=t,Am(t,r,e,n),t=jm(null,t,r,!0,o,n)):(t.tag=0,qe&&o&&g0(t),Ut(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=IN(r),e=Hn(r,e),i){case 0:t=$m(null,t,r,e,n);break e;case 1:t=ew(null,t,r,e,n);break e;case 11:t=Z1(null,t,r,e,n);break e;case 14:t=J1(null,t,r,Hn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),$m(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),ew(e,t,r,i,n);case 3:e:{if(CE(t),e===null)throw Error(W(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Zb(e,t),Gc(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Oa(Error(W(423)),t),t=tw(e,t,r,n,i);break e}else if(r!==i){i=Oa(Error(W(424)),t),t=tw(e,t,r,n,i);break e}else for(an=Ci(t.stateNode.containerInfo.firstChild),ln=t,qe=!0,Vn=null,n=Kb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ka(),r===i){t=Kr(e,t,n);break e}Ut(e,t,r,n)}t=t.child}return t;case 5:return Jb(t),e===null&&Rm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Mm(r,i)?a=null:o!==null&&Mm(r,o)&&(t.flags|=32),EE(e,t),Ut(e,t,a,n),t.child;case 6:return e===null&&Rm(t),null;case 13:return TE(e,t,n);case 4:return E0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ma(t,null,r,n):Ut(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),Z1(e,t,r,i,n);case 7:return Ut(e,t,t.pendingProps,n),t.child;case 8:return Ut(e,t,t.pendingProps.children,n),t.child;case 12:return Ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ue(qc,r._currentValue),r._currentValue=a,o!==null)if(qn(o.value,a)){if(o.children===i.children&&!Jt.current){t=Kr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Hr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Im(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(W(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Im(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ut(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,pa(t,n),i=Pn(i),r=r(i),t.flags|=1,Ut(e,t,r,n),t.child;case 14:return r=t.type,i=Hn(r,t.pendingProps),i=Hn(r.type,i),J1(e,t,r,i,n);case 15:return xE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),sc(e,t),t.tag=1,en(r)?(e=!0,Yc(t)):e=!1,pa(t,n),wE(t,r,i),Am(t,r,i,n),jm(null,t,r,!0,e,n);case 19:return kE(e,t,n);case 22:return bE(e,t,n)}throw Error(W(156,t.tag))};function BE(e,t){return gb(e,t)}function RN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,n,r){return new RN(e,t,n,r)}function j0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IN(e){if(typeof e=="function")return j0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i0)return 11;if(e===o0)return 14}return 2}function Di(e,t){var n=e.alternate;return n===null?(n=kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cc(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")j0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ko:return uo(n.children,i,o,t);case r0:a=8,i|=8;break;case am:return e=kn(12,n,t,i|2),e.elementType=am,e.lanes=o,e;case sm:return e=kn(13,n,t,i),e.elementType=sm,e.lanes=o,e;case lm:return e=kn(19,n,t,i),e.elementType=lm,e.lanes=o,e;case Jx:return cd(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xx:a=10;break e;case Zx:a=9;break e;case i0:a=11;break e;case o0:a=14;break e;case fi:a=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=kn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function uo(e,t,n,r){return e=kn(7,e,r,t),e.lanes=n,e}function cd(e,t,n,r){return e=kn(22,e,r,t),e.elementType=Jx,e.lanes=n,e.stateNode={isHidden:!1},e}function op(e,t,n){return e=kn(6,e,null,t),e.lanes=n,e}function ap(e,t,n){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hh(0),this.expirationTimes=Hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function H0(e,t,n,r,i,o,a,s,l){return e=new LN(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=kn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},b0(o),e}function AN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Go,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function YE(e){if(!e)return Ii;e=e._reactInternals;e:{if(Io(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(en(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(en(n))return Yb(e,n,t)}return t}function zE(e,t,n,r,i,o,a,s,l){return e=H0(n,r,!0,e,i,o,a,s,l),e.context=YE(null),n=e.current,r=Wt(),i=Mi(n),o=Hr(r,i),o.callback=t??null,Ti(n,o,i),e.current.lanes=i,Vl(e,i,r),tn(e,r),e}function fd(e,t,n,r){var i=t.current,o=Wt(),a=Mi(i);return n=YE(n),t.context===null?t.context=n:t.pendingContext=n,t=Hr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ti(i,t,a),e!==null&&(zn(e,i,a,o),ic(e,i,a)),a}function rf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function U0(e,t){fw(e,t),(e=e.alternate)&&fw(e,t)}function FN(){return null}var WE=typeof reportError=="function"?reportError:function(e){console.error(e)};function V0(e){this._internalRoot=e}dd.prototype.render=V0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));fd(e,t,null,null)};dd.prototype.unmount=V0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_o(function(){fd(null,e,null,null)}),t[Qr]=null}};function dd(e){this._internalRoot=e}dd.prototype.unstable_scheduleHydration=function(e){if(e){var t=bb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pi.length&&t!==0&&t<pi[n].priority;n++);pi.splice(n,0,e),n===0&&Cb(e)}};function B0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dw(){}function $N(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=rf(a);o.call(u)}}var a=zE(t,r,e,0,null,!1,!1,"",dw);return e._reactRootContainer=a,e[Qr]=a.current,gl(e.nodeType===8?e.parentNode:e),_o(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=rf(l);s.call(u)}}var l=H0(e,0,!1,null,null,!1,!1,"",dw);return e._reactRootContainer=l,e[Qr]=l.current,gl(e.nodeType===8?e.parentNode:e),_o(function(){fd(t,l,n,r)}),l}function pd(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=rf(a);s.call(l)}}fd(t,a,e,i)}else a=$N(n,t,e,i,r);return rf(a)}Sb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=As(t.pendingLanes);n!==0&&(l0(t,n|1),tn(t,ot()),!(De&6)&&(Pa=ot()+500,Bi()))}break;case 13:_o(function(){var r=Gr(e,1);if(r!==null){var i=Wt();zn(r,e,1,i)}}),U0(e,1)}};u0=function(e){if(e.tag===13){var t=Gr(e,134217728);if(t!==null){var n=Wt();zn(t,e,134217728,n)}U0(e,134217728)}};xb=function(e){if(e.tag===13){var t=Mi(e),n=Gr(e,t);if(n!==null){var r=Wt();zn(n,e,t,r)}U0(e,t)}};bb=function(){return $e};Eb=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};ym=function(e,t,n){switch(t){case"input":if(fm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=id(r);if(!i)throw Error(W(90));tb(r),fm(r,i)}}}break;case"textarea":rb(e,n);break;case"select":t=n.value,t!=null&&ca(e,!!n.multiple,t,!1)}};cb=A0;fb=_o;var jN={usingClientEntryPoint:!1,Events:[Yl,ea,id,lb,ub,A0]},ws={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HN={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pb(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||FN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{ed=Tu.inject(HN),fr=Tu}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jN;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B0(t))throw Error(W(200));return AN(e,t,null,n)};pn.createRoot=function(e,t){if(!B0(e))throw Error(W(299));var n=!1,r="",i=WE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=H0(e,1,!1,null,null,n,!1,r,i),e[Qr]=t.current,gl(e.nodeType===8?e.parentNode:e),new V0(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=pb(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return _o(e)};pn.hydrate=function(e,t,n){if(!hd(t))throw Error(W(200));return pd(null,e,t,!0,n)};pn.hydrateRoot=function(e,t,n){if(!B0(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=WE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=zE(t,null,e,1,n??null,i,!1,o,a),e[Qr]=t.current,gl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new dd(t)};pn.render=function(e,t,n){if(!hd(t))throw Error(W(200));return pd(null,e,t,!1,n)};pn.unmountComponentAtNode=function(e){if(!hd(e))throw Error(W(40));return e._reactRootContainer?(_o(function(){pd(null,null,e,!1,function(){e._reactRootContainer=null,e[Qr]=null})}),!0):!1};pn.unstable_batchedUpdates=A0;pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hd(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return pd(e,t,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function qE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qE)}catch(e){console.error(e)}}qE(),qx.exports=pn;var Wl=qx.exports;const UN=No(Wl);var QE,hw=Wl;QE=hw.createRoot,hw.hydrateRoot;var ye={},Na={};/**
 * @license MIT
 * doc-path <https://github.com/mrodrig/doc-path>
 * Copyright (c) 2015-present, Michael Rodrigues.
 */Object.defineProperty(Na,"__esModule",{value:!0});Na.setPath=Na.evaluatePath=void 0;function $s(e,t){if(!e)return null;const{dotIndex:n,key:r,remaining:i}=of(t),o=typeof e=="object"&&t in e?e[t]:void 0,a=typeof e=="object"&&r in e?e[r]:void 0;if(n>=0&&typeof e=="object"&&!(t in e)){const{key:s}=of(i),l=parseInt(s);return Array.isArray(a)&&isNaN(l)?a.map(u=>$s(u,i)):$s(a,i)}else if(Array.isArray(e)){const s=parseInt(r);return t===r&&n===-1&&!isNaN(s)?a:e.map(l=>$s(l,t))}else{if(n>=0&&t!==r&&typeof e=="object"&&r in e)return $s(a,i);if(n===-1&&typeof e=="object"&&r in e&&!(t in e))return a}return o}Na.evaluatePath=$s;function VN(e,t,n){if(e){if(!t)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return js(e,t,n)}Na.setPath=VN;function js(e,t,n){const{dotIndex:r,key:i,remaining:o}=of(t);if(t.startsWith("__proto__")||t.startsWith("constructor")||t.startsWith("prototype"))return e;if(r>=0){const a=parseInt(i);if(typeof e=="object"&&e!==null&&!(i in e)&&Array.isArray(e)&&!isNaN(a))return e[i]=e[i]??{},js(e[i],o,n),e;if(typeof e=="object"&&e!==null&&!(i in e)&&Array.isArray(e))return e.forEach(s=>js(s,t,n)),e;if(typeof e=="object"&&e!==null&&!(i in e)&&!Array.isArray(e)){const{key:s}=of(o),l=parseInt(s);if(!isNaN(l))e[i]=[];else{if(o==="")return e[t]=n,e;e[i]={}}}js(e[i],o,n)}else if(Array.isArray(e)){const a=parseInt(i);return t===i&&r===-1&&!isNaN(a)?(e[i]=n,e):(e.forEach(s=>js(s,o,n)),e)}else e[i]=n;return e}function of(e){const t=BN(e);return{dotIndex:t,key:e.slice(0,t>=0?t:void 0).replace(/\\./g,"."),remaining:e.slice(t+1)}}function BN(e){for(let t=0;t<e.length;t++){const n=t>0?e[t-1]:"";if(e[t]==="."&&n!=="\\")return t}return-1}var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.excelBOM=sr.defaultCsv2JsonOptions=sr.defaultJson2CsvOptions=sr.errors=void 0;sr.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}};sr.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1};sr.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1};sr.excelBOM="\uFEFF";Object.defineProperty(ye,"__esModule",{value:!0});ye.isInvalid=ye.flatten=ye.unique=ye.arrayDifference=ye.isError=eC=ye.isUndefined=ZE=ye.isNull=ye.isObject=KE=ye.isString=ye.isNumber=ye.unwind=ye.getNCharacters=ye.removeEmptyFields=ye.isEmptyField=ye.computeSchemaDifferences=ye.isDateRepresentation=ye.isStringRepresentation=So=ye.deepCopy=ye.validate=ye.buildC2JOptions=ye.buildJ2COptions=void 0;const sp=Na,_i=sr,YN=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,lp=1e5;function zN(e){return{..._i.defaultJson2CsvOptions,...e,delimiter:{field:e?.delimiter?.field??_i.defaultJson2CsvOptions.delimiter.field,wrap:e?.delimiter?.wrap||_i.defaultJson2CsvOptions.delimiter.wrap,eol:e?.delimiter?.eol||_i.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:Object.create({})}}ye.buildJ2COptions=zN;function WN(e){return{..._i.defaultCsv2JsonOptions,...e,delimiter:{field:e?.delimiter?.field??_i.defaultCsv2JsonOptions.delimiter.field,wrap:e?.delimiter?.wrap||_i.defaultCsv2JsonOptions.delimiter.wrap,eol:e?.delimiter?.eol||_i.defaultCsv2JsonOptions.delimiter.eol}}}ye.buildC2JOptions=WN;function qN(e,t,n){if(!e)throw new Error(`${n.cannotCallOn} ${e}.`);if(!t(e))throw new Error(n.dataCheckFailure);return!0}ye.validate=qN;function Xm(e){return JSON.parse(JSON.stringify(e))}var So=ye.deepCopy=Xm;function QN(e,t){const n=e[0],r=e.length-1,i=e[r];return n===t.delimiter.wrap&&i===t.delimiter.wrap}ye.isStringRepresentation=QN;function GN(e){return YN.test(e)}ye.isDateRepresentation=GN;function KN(e,t){return Zm(e,t).concat(Zm(t,e))}ye.computeSchemaDifferences=KN;function GE(e){return JE(e)||XE(e)||e===""}ye.isEmptyField=GE;function XN(e){return e.filter(t=>!GE(t))}ye.removeEmptyFields=XN;function ZN(e,t,n){return e.substring(t,t+n)}ye.getNCharacters=ZN;function JN(e,t,n){const r=(0,sp.evaluatePath)(t,n);let i=Xm(t);Array.isArray(r)&&r.length?r.forEach(o=>{i=Xm(t),e.push((0,sp.setPath)(i,n,o))}):(Array.isArray(r)&&r.length===0&&(0,sp.setPath)(i,n,""),e.push(i))}function eR(e,t){const n=[];return e.forEach(r=>{JN(n,r,t)}),n}ye.unwind=eR;function tR(e){return!isNaN(Number(e))}ye.isNumber=tR;function nR(e){return typeof e=="string"}var KE=ye.isString=nR;function rR(e){return typeof e=="object"}ye.isObject=rR;function XE(e){return e===null}var ZE=ye.isNull=XE;function JE(e){return typeof e>"u"}var eC=ye.isUndefined=JE;function iR(e){return Object.prototype.toString.call(e)==="[object Error]"}ye.isError=iR;function Zm(e,t){return e.filter(n=>!t.includes(n))}ye.arrayDifference=Zm;function oR(e){return[...new Set(e)]}ye.unique=oR;function aR(e){if(e.flat)return e.flat();if(e.length>lp){let t=[];for(let n=0;n<e.length;n+=lp)t=t.concat(...e.slice(n,n+lp));return t}return e.reduce((t,n)=>t.concat(n),[])}ye.flatten=aR;function sR(e){return e===1/0||e===-1/0}ye.isInvalid=sR;var Jm=(e=>(e.Paused="Paused",e.Transmitting="Transmitting",e))(Jm||{}),$t=(e=>(e.DISCONNECTED="Disconnected",e.WAITING="Waiting for PortaCount",e.RECEIVING="Receiving data",e))($t||{}),kt=(e=>(e.Idle="Idle",e.Testing="Testing",e.Counting="Counting",e.Disconnected="Disconnected",e))(kt||{}),Te=(e=>(e.MASK="mask",e.AMBIENT="ambient",e))(Te||{}),Ee=(e=>(e.External="External",e.Internal="Internal",e.Manual="Manual",e))(Ee||{});class tC{_connectionStatus="Disconnected";_controlSource="Internal";_sampleSource="mask";_dataTransmissionState="Transmitting";_batteryStatus="?";_pulseStatus="?";_componentVoltages=new Map;_lastLine="";_activity="Disconnected";get componentVoltages(){return this._componentVoltages}get batteryStatus(){return this._batteryStatus}set batteryStatus(t){this._batteryStatus=t}get pulseStatus(){return this._pulseStatus}set pulseStatus(t){this._pulseStatus=t}get connectionStatus(){return this._connectionStatus}set connectionStatus(t){this._connectionStatus=t}get controlSource(){return this._controlSource}set controlSource(t){this._controlSource=t}get sampleSource(){return this._sampleSource}set sampleSource(t){this._sampleSource=t}get dataTransmissionState(){return this._dataTransmissionState}set dataTransmissionState(t){this._dataTransmissionState=t}get activity(){return this._activity}set activity(t){this._activity=t}get lastLine(){return this._lastLine}set lastLine(t){this._lastLine=t}}const lR={med:"M",medium:"M",small:"S",large:"L","ear loop":"earloop","head strap":"headstrap","head loop":"heeadstrap",headloop:"headstrap"},uR=["headstrap","earloop","adhesive"],cR=["unspecified","XXS","XS","S","M","L","XL","XXL","Kids","Adult Regular"],fR=["unknown","3M","ACI","BNX","Benehal","Blox","Bluna","Breatheteq","Champak","Drager","Envo","Flo","Gerson","Jackson","Laianzhi","Lighthouse","Omnimask","Powecom","Rackmask","Readimask","Trident","Vitacore","Vog","WellBefore","Zero","Zimi"];class dR{_maker;_model;_size;_color;_attachmentType;_shape;constructor(t,n,r,i,o,a="unspecified"){this._maker=t,this._model=n,this._size=r,this._color=i,this._attachmentType=o,this._shape=a}get shortName(){return`${this.maker} ${this.model}`}get maker(){return this._maker}set maker(t){this._maker=t}get model(){return this._model}set model(t){this._model=t}get size(){return this._size}set size(t){this._size=t}get color(){return this._color}set color(t){this._color=t}get attachmentType(){return this._attachmentType}set attachmentType(t){this._attachmentType=t}get shape(){return this._shape}set shape(t){this._shape=t}}function nC(e){const t=new dR,n=(e??"").replaceAll(/\s+/g," ");let i=Object.entries(lR).reduce((a,[s,l])=>a.replaceAll(new RegExp(`${s}`,"ig"),l),n),o=i.toLowerCase();return fR.find(a=>{const s=o.match(new RegExp(`\\b${a.toLowerCase()}\\b`,"i"));if(s&&s.index!==void 0){const l=s.index;return t.maker=a,o=o.slice(0,l)+o.slice(l+a.length),i=i.slice(0,l)+i.slice(l+a.length),!0}else return!1}),cR.find(a=>{const s=o.match(new RegExp(`\\b${a}\\b`,"i"));if(s&&s.index!==void 0){const l=s.index;return t.size=a,o=o.slice(0,l)+o.slice(l+a.length),i=i.slice(0,l)+i.slice(l+a.length),!0}else return!1}),uR.find(a=>{const s=o.match(new RegExp(`\\b${a}\\b`,"i"));if(s&&s.index!==void 0){const l=s.index;return t.attachmentType=a,o=o.slice(0,l)+o.slice(l+a.length),i=i.slice(0,l)+i.slice(l+a.length),!0}else return!1}),o.split(/\s+/).find(a=>CSS.supports("color",a)?(t.color=a,o=o.replace(a,""),i=i.replace(new RegExp(a,"i"),""),!0):!1),i.length>0&&(t.model=i.replaceAll(/\s+/g," ").trim(),i=""),t}function Ge(e,t=!1,n=!0){const r=Math.abs(e),i=Math.round(r%1e3),o=Math.floor(r/1e3),a=o%60,s=Math.floor(o/60),l=s%60,u=Math.floor(s/60),c=n?`:${a.toString().padStart(2,"0")}`:"",f=t&&n&&i>0?`.${i.toString().padStart(3,"0")}`:"",d=u||!n;return`${e<0?"-":""}${d?`${u}:`:""}${l.toString().padStart(d?2:1,"0")}${c}${f}`}function hR(e,t=!1){return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}${t?`:${e.getSeconds().toString().padStart(2,"0")}`:""}`}function kr(e){return 100*(1-1/e)}function pR(e){return 1/(1-e/100)}function eg(e){return e.toFixed(e<90?0:e<99.9?1:e<99.99?2:3)}function pw(e){return e.toFixed(e<10?1:0)}function dK(e){return eg(kr(e))}function mR(e){switch(e){case $t.DISCONNECTED:return"connection-status status-disconnected";case $t.WAITING:return"connection-status status-waiting";case $t.RECEIVING:return"connection-status status-receiving";default:return"connection-status"}}function hK(e,t){if(!t&&!e||(e=Number(e),isNaN(e)||e<=0))return"";const n=100*(1-1/e);if(n>99)return"darkgreen";if(n>=95){const r=Math.round(100*(99-n)/4),i=100-r;return`color-mix(in oklch, yellowgreen ${r}%, darkgreen ${i}%)`}if(n>=80){const r=Math.round(100*(95-n)/15),i=100-r;return`color-mix(in oklch, darkorange ${r}%, yellowgreen ${i}%)`}if(n>0){const r=Math.round(100*(80-n)/80),i=100-r;return`color-mix(in oklch, darkred ${r}%, darkorange ${i}%)`}return"darkred"}function pK(e,t){return!t&&!e?"result-cell":(e=Number(e),isNaN(e)||e<=0?"result-cell aborted":e>=100?"result-cell very-high-fit-score":e>=33?"result-cell high-fit-score":e>=20?"result-cell moderate-fit-score":"result-cell low-fit-score")}function gR(e,t=0,n=-1){return e.slice(t,n).reduce((r,i)=>r+i,0)}function vR(...e){return rC(e)}function rC(e,t=0,n=-1){return n<0&&(n=e.length),gR(e,t,n)/(n-t)}function md(e){return isNaN(e)||eC(e)||ZE(e)?"?":e<1?e.toFixed(2):e<10?e.toFixed(1):e.toFixed(0)}function up(e){if(e.length===0)return 0;const t=e.toSorted();if(t.length%2===0){const n=t.length/2;return(t[n-1]+t[n])/2}else{const n=Math.floor(t.length/2);return t[n]}}const ts=Intl.Collator("en",{sensitivity:"base"}),mw=new TextDecoder("utf-8");async function*iC(e){async function t(){const s=await e.read();return!s.done&&s.value,s}let{value:n,done:r}=await t(),i=n?mw.decode(n,{stream:!0}):"";const o=/\r\n|\n|\r/gm;let a=0;for(;;){const s=o.exec(i);if(!s){if(r)break;const u=i.substring(a);({value:n,done:r}=await t()),i=u+(n?mw.decode(n,{stream:!0}):""),a=o.lastIndex=0;continue}yield i.substring(a,s.index),a=o.lastIndex}a<i.length&&(yield i.substring(a))}function gw(e){return new ReadableStream({start(t){n().catch(r=>t.error(r));async function n(){return e.dataRequest().then(r=>r.length===0?(Cl("No data from source: closing"),t.close(),new Uint8Array):(t.enqueue(r),n()))}},cancel(){Cl("cancel() called on underlying source"),e.close()}})}class oC{_closed=!1;close(){this.closeImpl(),this._closed=!0}set closed(t){this._closed=t}get closed(){return this._closed}}class gi extends oC{static NO_MORE_DATA=new Promise(t=>t(new Uint8Array));static DEFAULT_BYTES_PER_SECOND=1200;static encoder=new TextEncoder;reader;linesSource;nextLine;lastLineTimestamp=0;buffer=new Uint8Array;bufferIndex=0;fileOrUrl;rateBytesPerSecond;lastRequestTime=0;constructor(t,n=gi.DEFAULT_BYTES_PER_SECOND){super(),this.fileOrUrl=t,this.rateBytesPerSecond=Math.max(n,1)}async dataRequest(){if(this.reader===void 0){if(typeof this.fileOrUrl=="string"?this.reader=await fetch(this.fileOrUrl).then(l=>{if(l.ok)return l.body?.getReader();throw new Error(`Failed to file: ${l.status}`)}):this.reader=this.fileOrUrl.stream().getReader(),!this.reader)return gi.NO_MORE_DATA;console.debug("simulator(file) started")}this.linesSource||(this.linesSource=iC(this.reader));let t=0;if(this.bufferIndex>=this.buffer.length){if(!this.nextLine){const c=await this.linesSource.next();if(c.done)return gi.NO_MORE_DATA;this.nextLine=c.value}const u=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)\s*(?<rest>.+)$/i.exec(this.nextLine);if(u&&u.groups){const{timestamp:c,rest:f}=u.groups,d=Date.parse(c);t=this.lastLineTimestamp?d-this.lastLineTimestamp:0,this.lastLineTimestamp=d,this.buffer=gi.encoder.encode(f+`\r
`)}else this.buffer=gi.encoder.encode(this.nextLine+`\r
`);this.bufferIndex=0,this.nextLine=void 0}let n=Date.now(),r=t;n===this.lastRequestTime&&(r+=50,n+=r,r>50&&console.debug(`simulator: next data chunk available ${Ge(r)}`));const i=n-(this.lastRequestTime||n-1e3);this.lastRequestTime=n;const o=Math.ceil(i*this.rateBytesPerSecond/1e3),a=this.bufferIndex+(this.bufferIndex+o<this.buffer.length?o:this.buffer.length),s=this.buffer?.slice(this.bufferIndex,a);return this.bufferIndex+=s.length,new Promise(l=>{r?setTimeout(()=>{l(s)},r):l(s)})}closeImpl(){}}function Cl(e){console.log(`source: ${e}`)}const gt=new class{_synth;speechEnabled=!1;_allVoices=[];selectedVoice=null;speechRate=1;constructor(){}findDefaultVoice(){const t=this.allVoices.find(n=>n.default);return t||null}findVoiceByName(e){return this.allVoices.find(t=>t.name===e)||null}ensureSynthInitialized(){this._synth||(this._synth=this.initSynth(),console.debug("init synth"))}initSynth(){const e=window.speechSynthesis;return this.updateVoiceList(e.getVoices()),e.onvoiceschanged=()=>{this.updateVoiceList(e.getVoices())},e}get synth(){return this.ensureSynthInitialized(),this._synth}updateVoiceList(e){this._allVoices=e.filter(t=>t.lang.startsWith("en")).sort((t,n)=>`${t.lang} ${t.name}`.localeCompare(`${n.lang} ${n.name}`))}setSelectedVoice(e){this.selectedVoice=e}getSelectedVoice(){return this.selectedVoice}get allVoices(){return this.ensureSynthInitialized(),this._allVoices}setSpeechEnabled(e){this.speechEnabled=e}isSayingSomething(){return this.synth.speaking}sayItLater(e){if(!this.speechEnabled)return;console.log(`say it later: ${e}`);const t=new SpeechSynthesisUtterance(e);t.voice=this.selectedVoice,t.rate=this.speechRate,this.synth.speak(t)}sayIt(e){if(!this.speechEnabled)return;console.log(`using voice ${this.selectedVoice?.name} say it ${e}`);const t=new SpeechSynthesisUtterance(e);t.voice=this.selectedVoice,t.rate=this.speechRate,this.synth.speaking?(this.synth.cancel(),setTimeout(()=>this.synth.speak(t),60)):this.synth.speak(t)}sayItPolitely(e){if(this.isSayingSomething()){console.log(`say it politely yielding. ${e}`);return}this.sayIt(e)}};class Mr{static PARTICLE_COUNT=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)?\s*(?<concentration>\d+\.\d+)\s*/;static SAMPLING_FROM_MASK=/^VF$/;static SAMPLING_FROM_AMBIENT=/^VN$/;static DATA_TRANSMISSION_DISABLED=/^ZD$/;static DATA_TRANSMISSION_ENABLED=/^ZE$/;static EXTERNAL_CONTROL=/^(OK|EJ)$/;static INTERNAL_CONTROL=/^G$/;static TURN_POWER_OFF=/^Y$/;static N95_COMPANION_PATTERN=/^Q(?<connected>[YN])/i;static SETTINGS_PATTERN=/^S.+$/}class be{static INVOKE_EXTERNAL_CONTROL="J";static RELEASE_FROM_EXTERNAL_CONTROL="G";static TEST_TO_SEE_N95_COMPANION_IS_ATTACHED="Q";static SWITCH_VALVE_ON="VN";static SWITCH_VALVE_OFF="VF";static DISABLE_CONTINUOUS_DATA_TRANSMISSION="ZD";static ENABLE_CONTINUOUS_DATA_TRANSMISSION="ZE";static REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE="R";static REQUEST_VOLTAGE_INFO="C";static REQUEST_SETTINGS="S";static TURN_POWER_OFF="Y";static SET_MASK_SAMPLE_TIME="PTMxxvv";static SET_AMBIENT_SAMPLE_TIME="PTA00vv";static SET_MASK_SAMPLE_PURGE_TIME="PTPM0vv";static SET_AMBIENT_SAMPLE_PURGE_TIME="PTPA0vv";static SET_FIT_FACTOR_PASS_LEVEL="PPxxvvvvv";static DISPLAY_CONCENTRATION_ON_PORTACOUNT_PLUS="Dxxxxxx.xx";static DISPLAY_FIT_FACTOR_PASS_LEVEL_ON_PORTACOUNT_PLUS="Lxxxxxx";static DISPLAY_FIT_FACTOR_ON_PORTACOUNT_PLUS="Fxxxxxx.x";static DISPLAY_OVERALL_FIT_FACTOR_ON_PORTACOUNT_PLUS="Axxxxxx.x";static DISPLAY_EXERCISE_NUMBER_ON_PORTACOUNT_PLUS="Ixxxxxxxx";static CLEAR_DISPLAY_ON_PORTACOUNT_PLUS="K";static SOUND_BEEPER_INSIDE_THE_PORTACOUNT_PLUS="Bxx";static expectedCommandResponses=new Map([[be.INVOKE_EXTERNAL_CONTROL,Mr.EXTERNAL_CONTROL]]);writer=null;encoder=new TextEncoder;verifiedToBeExternallyControllable=!1;portaCountClient;commandChain;constructor(t){this.portaCountClient=t}setWriter(t){this.writer=t}sendCommand(t,n=1){if(!this.writer){console.log("external control writer not available");return}const r=`${t}\r`,i=be.expectedCommandResponses.get(t)||RegExp(`^${t}`),o=this.encoder.encode(r),a=()=>new Promise((s,l)=>{let u=!1,c=n,f;const d=()=>{clearTimeout(f),this.portaCountClient.removeListener(h)},h={lineReceived:p=>{(i?i.exec(p):t===p)?(u=!0,d(),s(),console.debug(`received expected response to command '${t}'`)):p.startsWith("E")&&(console.debug(`got an error response for command ${t}: ${p}`),v())}},m=()=>{console.debug(`sending command '${t}', expecting '${i}' in response, retries remaining ${c}`),this.writer.write(o)},g=()=>{f&&clearTimeout(f),f=setTimeout(v,3e3)},v=()=>{if(u){console.debug(`retry handler triggered but we've already received the expected response for command '${t}'`);return}c>0?(console.debug(`retrying command '${t}'`),c--,m(),g()):(i?l(`too many retries, giving up on command '${t}'`):(console.debug(`no explicit expected response for command '${t}', but also didn't receive any other recognized response`),s()),d())};this.portaCountClient.addListener(h),m(),c>0&&g()});this.commandChain?(console.debug(`chaining command ${t}`),this.commandChain=this.commandChain.then(a).catch(()=>{})):this.commandChain=a()}set controlSource(t){t===Ee.Internal?this.releaseManualControl():(this.assumeManualControl(),this.verifiedToBeExternallyControllable||this.verifyExternalControllability())}set sampleSource(t){t===Te.AMBIENT?this.sampleAmbient():this.sampleMask()}assumeManualControl(){this.sendCommand(be.INVOKE_EXTERNAL_CONTROL)}releaseManualControl(){this.sendCommand(be.RELEASE_FROM_EXTERNAL_CONTROL)}enableDataTransmission(){this.sendCommand(be.ENABLE_CONTINUOUS_DATA_TRANSMISSION)}disableDataTransmission(){this.sendCommand(be.DISABLE_CONTINUOUS_DATA_TRANSMISSION)}sampleAmbient(){this.sendCommand(be.SWITCH_VALVE_ON)}sampleMask(){this.sendCommand(be.SWITCH_VALVE_OFF)}requestSettings(){this.sendCommand(be.REQUEST_SETTINGS)}requestRuntimeStatus(){this.sendCommand(be.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE)}powerOff(){this.sendCommand(be.TURN_POWER_OFF),gt.sayItLater("Power off")}beep(t=2){this.sendCommand(`B${String(t).padStart(2,"0")}`)}verifyExternalControllability(){let t=0;const n={lineReceived(){t=Date.now()}};this.portaCountClient.addListener(n),this.beep(),this.beep(),setTimeout(()=>{this.portaCountClient.removeListener(n),Date.now()-t>3e3?console.log("Could not verify that we can externally control the device"):this.verifiedToBeExternallyControllable=!0},5e3)}}const pt=class{static PORTACOUNT_VERSION=/^PORTACOUNT\s+PLUS\S+PROM\S+(?<version>.+)/i;static COPYRIGHT=/^COPYRIGHT.+/i;static LICENSE=/^ALL\s+RIGHTS\s+RESERVED/i;static SERIAL_NUMBER=/^Serial\s+Number\s+(?<serialNumber>\d+)/i;static PASS_LEVEL=/^FF\s+pass\s+level\s+(?<passLevel>\d+)/i;static NUM_EXERCISES=/^No\.\s+of\s+exers\s*=\s*(?<num_exercises>\d+)/i;static AMBIENT_PURGE=/^Ambt\s+purge\s*=\s*(?<ambientPurgeTime>\d+)/i;static AMBIENT_SAMPLE=/^Ambt\s+sample\s*=\s*(?<ambientSampleTime>\d+)/i;static MASK_PURGE=/^Mask\s+purge\s*=\s*(?<maskPurgeTime>\d+)/i;static MASK_SAMPLE=/^Mask\s+sample\s+(?<exerciseNumber>\d+)\s*=\s*(?<maskSampleTime>\d+)/i;static DIP_SWITCH=/^DIP\s+switch\s+=\s+(?<dipSwitchBits>\d+)/i;static COUNT_READING=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)?\s*Conc\.\s+(?<concentration>[\d.]+)/i;static NEW_TEST=/^NEW\s+TEST\s+PASS\s*=\s*(?<passLevel>\d+)/i;static AMBIENT_READING=/^Ambient\s+(?<concentration>[\d.]+)/i;static MASK_READING=/^Mask\s+(?<concentration>[\d+.]+)/i;static FIT_FACTOR=/^FF\s+(?<exerciseNumber>\d+)\s+(?<fitFactor>[\d.]+)\s+(?<result>.+)/;static TEST_TERMINATED=/^Test\s+Terminated/i;static OVERALL_FIT_FACTOR=/^Overall\s+FF\s+(?<fitFactor>[\d.]+)\s+(?<result>.+)/i;static LOW_PARTICLE_COUNT=/^(?<concentration>\d+)\/cc\s+Low\s+Particle\s+Count/i;static BATTERY_AND_PULSE_STATUS=/^R(?<battery>.)(?<pulse>.)$/;static VOLTAGE_INFO=/^(?<component>C[SBTCLPD])(?<value>.+)$/;static Setting=class{static Timing=class{static AMBIENT_PURGE=/^STPA\s+(?<duration>\d+)/i;static MASK_PURGE=/^STPM\s+(?<duration>\d+)/i;static AMBIENT_SAMPLE=/^STA\s+(?<duration>\d+)/i;static MASK_SAMPLE=/^STM(?<exercise_num>\d\d)(?<duration>\d+)/i};static FF_PASS_LEVEL=/^SP\s+(?<index>\d\d)(?<score>\d+)/i;static SERIAL_NUMBER=/^SS\s+(?<serial_number>\d+)/i;static RUN_TIME_SINCE_FACTORY_SERVICE=/^SR\s+(?<runtime>\d+)/i;static LAST_SERVICE_DATE=/^SD\s+0(?<month>\d\d)(?<year>\d\d)/i}};class gn{_timestamp;constructor(){this._timestamp=Date.now()}get timestamp(){return this._timestamp}asOf(t){return this._timestamp=t,this}}class vw extends gn{line;constructor(t){super(),this.line=t}}class cp extends gn{sampleSource;constructor(t){super(),this.sampleSource=t}}class fp extends gn{dataTransmissionState;constructor(t){super(),this.dataTransmissionState=t}}class dp extends gn{source;constructor(t){super(),this.source=t}}class yw extends gn{constructor(){super()}}class sa extends gn{sampleSource;controlSource;concentration;constructor(t,n,r){super(),this.concentration=t,this.sampleSource=n,this.controlSource=r}}class hp extends gn{ff;exerciseNum;result;constructor(t,n,r){super(),this.ff=t,this.exerciseNum=n,this.result=r}}class ww extends gn{constructor(){super()}}class _w extends gn{constructor(){super()}}class ku extends gn{connectionStatus;constructor(t){super(),this.connectionStatus=t}}class Sw extends gn{activity;constructor(t){super(),this.activity=t}}class jn extends gn{settings;constructor(t){super(),this.settings=t}}class pp extends gn{state;constructor(t){super(),this.state=t}}class yR{numExercises=4;ambientPurge=0;maskPurge=0;ambientSample=0;maskSample=new Map;fitFactorPassLevel=new Map;serialNumber="?";runTimeSinceFactoryServiceSeconds=0;lastServiceDate=new Date(0)}class wR{_externalController;listeners=[];_state=new tC;_settings=new yR;_baudRate=1200;_syncOnConnect=!1;constructor(){console.log("PortaCountClient8020 constructor called"),this._externalController=new be(this),this.addListener(this.stateUpdatingListener)}get baudRate(){return this._baudRate}set baudRate(t){this._baudRate=t}get syncOnConnect(){return this._syncOnConnect}set syncOnConnect(t){this._syncOnConnect=t}get externalController(){return this._externalController}get settings(){return this._settings}get state(){return this._state}setActivity(t){this.state.activity=t,this.dispatch(new Sw(t))}stateUpdatingListener={connectionStatusChanged:t=>{this.state.connectionStatus=t},controlSourceChanged:t=>{this.state.controlSource=t},sampleSourceChanged:t=>{this.state.sampleSource=t},dataTransmissionStateChanged:t=>{this.state.dataTransmissionState=t},lineReceived:t=>{this.state.lastLine=t}};async monitor(t){this.dispatch(new ku($t.WAITING));for await(const n of iC(t))this.state.connectionStatus===$t.WAITING&&this.dispatch(new ku($t.RECEIVING)),n.trim().length>0&&(this.dispatch(new vw(n)),this.processLine(n));this.setActivity(kt.Disconnected),this.dispatch(new ku($t.DISCONNECTED)),console.log("monitor reached end of reader")}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case Sw.name:{n.activityChanged&&n.activityChanged(t.activity);break}case sa.name:{n.particleConcentrationReceived&&n.particleConcentrationReceived(t);break}case ww.name:{this.setActivity(kt.Idle),n.testTerminated&&n.testTerminated();break}case _w.name:{this.setActivity(kt.Idle),n.testCompleted&&n.testCompleted();break}case hp.name:{n.fitFactorResultsReceived&&n.fitFactorResultsReceived(t);break}case yw.name:{n.testStarted&&n.testStarted(t.timestamp);break}case dp.name:{n.controlSourceChanged&&n.controlSourceChanged(t.source);break}case fp.name:{n.dataTransmissionStateChanged&&n.dataTransmissionStateChanged(t.dataTransmissionState);break}case vw.name:{n.lineReceived&&n.lineReceived(t.line);break}case cp.name:{n.sampleSourceChanged&&n.sampleSourceChanged(t.sampleSource);break}case ku.name:{if(n.connectionStatusChanged){const r=t;n.connectionStatusChanged(r.connectionStatus)}break}case pp.name:{n.stateChanged&&n.stateChanged(t.state);break}case jn.name:{n.settingsChanged&&n.settingsChanged(t.settings);break}default:console.error(`unsupported event: ${JSON.stringify(t)}`)}})}processConcentration(t,n){this.state.activity!==kt.Testing&&this.setActivity(kt.Counting);const r=Number(t.concentration),i=this.state.sampleSource,o=new sa(r,i,n),a=t.timestamp;a&&o.asOf(Date.parse(a)),this.dispatch(o)}orderedLineProcessors=[[Mr.PARTICLE_COUNT,t=>{this.processConcentration(t,Ee.External)}],[pt.COUNT_READING,t=>{this.processConcentration(t,Ee.Internal)}],[pt.AMBIENT_READING,t=>{const n=t.concentration;n&&this.dispatch(new sa(Number(n),Te.AMBIENT,Ee.Internal))}],[pt.MASK_READING,t=>{const n=t.concentration;n&&this.dispatch(new sa(Number(n),Te.MASK,Ee.Internal))}],[pt.FIT_FACTOR,t=>{this.setActivity(kt.Testing);const n=Number(t.fitFactor),r=Number(t.exerciseNumber),i=t.result;this.dispatch(new hp(n,r,i)),this._settings.numExercises<r&&(this._settings.numExercises=r,this.dispatch(new jn(this._settings)))}],[pt.NEW_TEST,()=>{this.setActivity(kt.Testing),this.dispatch(new yw)}],[pt.TEST_TERMINATED,()=>{this.setActivity(kt.Idle),this.dispatch(new ww)}],[pt.OVERALL_FIT_FACTOR,t=>{this.setActivity(kt.Idle);const n=Number(t.fitFactor),r=t.result;this.dispatch(new hp(n,"Final",r)),this.dispatch(new _w)}],[Mr.SAMPLING_FROM_MASK,()=>{this.dispatch(new cp(Te.MASK))}],[Mr.SAMPLING_FROM_AMBIENT,()=>{this.dispatch(new cp(Te.AMBIENT))}],[Mr.EXTERNAL_CONTROL,()=>{this.dispatch(new dp(Ee.External))}],[Mr.INTERNAL_CONTROL,()=>{this.dispatch(new dp(Ee.Internal))}],[Mr.DATA_TRANSMISSION_DISABLED,()=>{this.dispatch(new fp(Jm.Paused))}],[Mr.DATA_TRANSMISSION_ENABLED,()=>{this.dispatch(new fp(Jm.Transmitting))}],[pt.Setting.FF_PASS_LEVEL,t=>{this._settings.fitFactorPassLevel.set(Number(t.index),Number(t.score)),this.dispatch(new jn(this._settings))}],[pt.Setting.Timing.MASK_SAMPLE,t=>{this._settings.maskSample.set(Number(t.exercise_num),Number(t.duration)),this.dispatch(new jn(this._settings))}],[pt.VOLTAGE_INFO,t=>{this._state.componentVoltages.set(t.component,Number(t.value)),this.dispatch(new pp(this._state))}],[pt.Setting.Timing.MASK_PURGE,t=>{this._settings.maskPurge=Number(t.duration),this.dispatch(new jn(this._settings))}],[pt.Setting.Timing.AMBIENT_SAMPLE,t=>{this._settings.ambientSample=Number(t.duration),this.dispatch(new jn(this._settings))}],[pt.Setting.Timing.AMBIENT_PURGE,t=>{this._settings.ambientPurge=Number(t.duration),this.dispatch(new jn(this._settings))}],[pt.BATTERY_AND_PULSE_STATUS,t=>{this._state.batteryStatus=t.battery==="G"?"Good":"Bad",this._state.pulseStatus=t.pulse==="G"?"Good":"Bad",this.dispatch(new pp(this._state))}],[pt.Setting.SERIAL_NUMBER,t=>{this._settings.serialNumber=t.serial_number,this.dispatch(new jn(this._settings))}],[pt.Setting.LAST_SERVICE_DATE,t=>{const n=Number(t.month)-1,r=Number(t.year),i=r+(r<61?2e3:1900);this._settings.lastServiceDate=new Date(i,n),this.dispatch(new jn(this._settings))}],[pt.Setting.RUN_TIME_SINCE_FACTORY_SERVICE,t=>{this._settings.runTimeSinceFactoryServiceSeconds=10*60*Number(t.runtime),this.dispatch(new jn(this._settings))}],[pt.NUM_EXERCISES,t=>{this._settings.numExercises=Number(t.num_exercises),this.dispatch(new jn(this._settings))}]];processLine(t){if(t.length===0)return;const n=t;this.orderedLineProcessors.find(([i,o])=>{const a=i.exec(n);return a?(a.groups?o(a.groups):o({}),!0):!1})||(n.match(/^E/)?console.warn(`error: ${n}`):n.match(/^W/)?console.warn(`write protected: ${n}`):console.warn(`portacount client: no parser for line: ${n}`))}connect(t){console.debug(`portacount client connect(${JSON.stringify(t)})`),t.connected&&t.readable?(console.debug("portacount client connect, connected; setting up reader and writer"),t.readable&&this.monitor(t.readable.getReader()),t.writable&&(this.externalController.setWriter(t.writable.getWriter()),this.syncOnConnect&&(console.debug("sync on connect"),this.waitUntilPortaCountIsReady().then(()=>{this.syncState()}).catch(n=>{console.warn(n)})))):(console.debug("portacount client connect not connected, attempting to connect..."),t.open({baudRate:Number(this.baudRate)}).then(()=>{console.log(`port opened: ${JSON.stringify(t.getInfo())}`),this.connect(t)}))}async waitUntilPortaCountIsReady(){return new Promise((t,n)=>{const r=Date.now(),i=setInterval(()=>{const s=Date.now()-r;console.debug(`elapsed ${s}`),s>65e3?(clearInterval(i),n(`waited too long for PortaCount to become ready. Elapsed ${Ge(s)}.`)):this.externalController.sendCommand(be.INVOKE_EXTERNAL_CONTROL,0)},1e3),o=()=>{this.removeListener(a),clearInterval(i),console.debug("PortaCount is ready."),t()},a={controlSourceChanged:s=>{s===Ee.External&&o()},lineReceived:s=>{Mr.N95_COMPANION_PATTERN.exec(s)&&o()}};this.addListener(a)})}syncState(){this.externalController.enableDataTransmission(),this.externalController.requestRuntimeStatus(),this.externalController.requestSettings(),this.externalController.sendCommand(be.REQUEST_VOLTAGE_INFO),this.externalController.beep(1),this.externalController.beep(1),this.externalController.beep(1)}}var Mn=(e=>(e.SAMPLE="sample",e.PURGE="purge",e.IDLE="idle",e))(Mn||{});class ql{}class xw extends ql{newSegment;constructor(t){super(),this.newSegment=t}}class bw extends ql{segment;constructor(t){super(),this.segment=t}}class Ew extends ql{}class Cw extends ql{}class Tw extends ql{}class _R{MILLIS_PER_SECOND=1e3;_portaCountClient;controller;listeners=[];_timerId;_segments=[];_currentSegment;_lastAmbientSegment;dataCollector;_protocolStartTime=null;constructor(t,n){this._portaCountClient=t,this.dataCollector=n,this.controller=t.externalController,this._portaCountClient.addListener(this.getPortaCountListener())}getPortaCountListener(){return{controlSourceChanged:n=>{n===Ee.Internal&&this.cancel()},particleConcentrationReceived:n=>{if(n.controlSource!==Ee.Internal&&this.protocolStartTime){if(!this.currentSegment){console.warn("protocol executor test is in progress but no current segment (shouldn't happen).");return}if(this.currentSegment.source!==n.sampleSource){console.debug(`segment expecting data to be from source ${this.currentSegment.source} but received data from ${n.sampleSource}. ignoring.`);return}this.currentSegment.data.length===0&&this.startSegment(this.currentSegment),this.currentSegment.data.push(n),this.dispatch(new bw(this.currentSegment))}}}}startSegment(t){console.log(`starting segment ${JSON.stringify(t)}`),this.startTimer(()=>{this.closeSegment(t),this.executeSegment(t.index+1)},t.duration)}get segments(){return this._segments}set segments(t){this._segments=So(t)}get protocolStartTime(){return this._protocolStartTime}set protocolStartTime(t){this._protocolStartTime=t}get lastAmbientSegment(){return this._lastAmbientSegment}set lastAmbientSegment(t){this._lastAmbientSegment=t}get currentSegment(){return this._currentSegment}set currentSegment(t){t&&(t.segmentStartTimeMs=Date.now()),this._currentSegment=t,this.dispatch(new xw(t))}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}startTimer(t,n){this._timerId=setTimeout(t,n*this.MILLIS_PER_SECOND)}stopTimer(){clearTimeout(this._timerId),this._timerId=void 0}protocolIsExecuting(){return this.protocolStartTime!==null&&this._timerId!==void 0}async executeProtocol(t){if(this.protocolIsExecuting()){console.log("protocol execution in progress (can't start another protocol)");return}this.controller.assumeManualControl(),this.lastAmbientSegment=void 0,this.segments=t;const n=new Date;this.protocolStartTime=n.getTime(),await this.dataCollector.recordTestStart(Ee.External,n.toLocaleString()),this.executeSegment(0),this.controller.beep(),this.dispatch(new Ew)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case bw.name:{n.segmentDataUpdated&&n.segmentDataUpdated(t.segment);break}case xw.name:{n.segmentChanged&&n.segmentChanged(t.newSegment);break}case Ew.name:{n.started&&n.started();break}case Cw.name:{n.cancelled&&n.cancelled();break}case Tw.name:{n.completed&&n.completed();break}default:console.warn(`Unhandled event in dispatcher: ${t.constructor.name}`)}})}executeSegment(t){if(t>=this._segments.length){console.log("no more segments (test completed)"),this.stopTimer();const r=this.calculateFinalFitFactor();this.dataCollector.recordExerciseResult("Final",r),this.dataCollector.recordTestComplete(),this.dataCollector.setInstructions(`Test completed; final score: ${md(r)}`),this.dispatch(new Tw),this.controller.beep(),this.controller.beep();return}const n=this._segments[t];this.currentSegment=n,console.log(`staging segment ${JSON.stringify(n)}`),n.source===Te.AMBIENT?this.controller.sampleAmbient():n.source===Te.MASK?this.controller.sampleMask():console.warn(`executeSegment(): unexpected source: ${n.source}`),n.duration>0&&(n.exerciseNumber?this.dataCollector.setInstructions(`Perform exercise ${n.exerciseNumber}: ${n.stage.instructions}`):this.dataCollector.setInstructions("Breathe normally"))}cancel(){this.stopTimer(),this.protocolStartTime=null,console.log("cancelling protocol"),this.dataCollector.recordTestAborted(),this.dispatch(new Cw),this.controller.beep()}calculateFinalFitFactor(){const t=this.segments.filter(n=>n.calculatedScore!==void 0);return t.length/t.reduce((n,r)=>n+1/r.calculatedScore,0)}closeSegment(t){if(t.source===Te.AMBIENT){if(t.state==="sample"){const n=vi(t);if(this.dataCollector.recordParticleCount(new sa(n,t.source,Ee.External)),this.lastAmbientSegment){const r=vR(vi(this.lastAmbientSegment),n);for(let i=t.index-1;i>this.lastAmbientSegment.index;i--){const o=this.segments[i];if(o.state==="sample"){const a=r/vi(o);console.debug(`updating ex ${o.exerciseNumber} score from ${o.calculatedScore} to ${a}`),o.calculatedScore=a,this.dataCollector.recordExerciseResult(o.exerciseNumber??0,o.calculatedScore)}}}this.lastAmbientSegment=t}}else if(t.source===Te.MASK&&t.state==="sample"){const n=vi(t);this.dataCollector.recordParticleCount(new sa(n,t.source,Ee.External)),this.lastAmbientSegment?(t.calculatedScore=vi(this.lastAmbientSegment)/n,this.dataCollector.recordExerciseResult(t.exerciseNumber??0,t.calculatedScore),this.controller.beep()):console.error("mask segment completed, but there was no last ambient segment.")}}}function vi(e){return Math.max(.01,e.data.reduce((t,n)=>t+n.concentration,0)/e.data.length)}const vt={defaultAmbientPurgeDuration:4,defaultAmbientSampleDuration:5,defaultMaskPurgeDuration:4,defaultMaskSampleDuration:40};function SR(e){return typeof e=="string"?e:e.instructions??e.i??e.instructions??e.i??"oops no instructions?!"}function xR(e){return typeof e=="string"?vt.defaultAmbientSampleDuration:e.ambient_sample??e.as??e.ambient_duration??e.a??vt.defaultAmbientSampleDuration}function bR(e){return typeof e=="string"?vt.defaultMaskSampleDuration:e.mask_sample??e.ms??e.sample_duration??e.s??vt.defaultMaskSampleDuration}function ER(e){if(typeof e=="string")return vt.defaultAmbientPurgeDuration;let t;return(t=e.ambient_purge)!==void 0||(t=e.ap)!==void 0||(t=e.purge_duration)!==void 0||(t=e.p)!==void 0?t:e.ambient_duration===0||e.a===0?0:vt.defaultAmbientPurgeDuration}function CR(e){if(typeof e=="string")return vt.defaultMaskPurgeDuration;let t;return(t=e.mask_purge)!==void 0||(t=e.mp)!==void 0||(t=e.purge_duration)!==void 0||(t=e.p)!==void 0?t:e.sample_duration===0||e.s===0?0:vt.defaultMaskPurgeDuration}function TR(e){return e.some(t=>typeof t!="string")}function kR(e){const t={};return Object.entries(e).forEach(([n,r])=>{const i=[];t[n]=i,r.forEach(o=>{i.push({instructions:SR(o),ambient_sample:xR(o),mask_sample:bR(o),ambient_purge:ER(o),mask_purge:CR(o)})}),TR(r)||i.push({instructions:"Finalizing",ambient_purge:vt.defaultAmbientPurgeDuration,ambient_sample:vt.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0})}),t}var We=(e=>(e.NotInitialized="NotInitialized",e.Simulator="Simulator",e.SimulatorFile="Simulator-file",e.WebSerial="WebSerial",e.WebUsbSerial="WebUsbSerial",e.Manual="Manual",e))(We||{}),MR={space:"",cycles:!1,replacer:(e,t)=>t,stringify:JSON.stringify},Lo={isArray:Array.isArray,assign:Object.assign,isObject:e=>typeof e=="object",isFunction:e=>typeof e=="function",isBoolean:e=>typeof e=="boolean",isRegex:e=>e instanceof RegExp,keys:Object.keys};const _s=MR,DR=Lo.isFunction,OR=Lo.isBoolean,PR=Lo.isObject,NR=Lo.isArray,RR=Lo.isRegex,IR=Lo.assign,LR=Lo.keys;function AR(e){return e==null?e:RR(e)?e.toString():e.toJSON?e.toJSON():e}function FR(e,t){t=t||IR({},_s),DR(t)&&(t={compare:t});const n=t.space||_s.space,r=OR(t.cycles)?t.cycles:_s.cycles,i=t.replacer||_s.replacer,o=t.stringify||_s.stringify,a=t.compare&&function(l){return function(u){return function(c,f){const d={key:c,value:u[c]},h={key:f,value:u[f]};return l(d,h)}}}(t.compare);r||o(e);const s=[];return function l(u,c,f,d){const h=n?`
`+new Array(d+1).join(n):"",m=n?": ":":";if(f=AR(f),f=i.call(u,c,f),f!==void 0){if(!PR(f)||f===null)return o(f);if(NR(f)){const g=[];for(let v=0;v<f.length;v++){const p=l(f,v,f[v],d+1)||o(null);g.push(h+n+p)}return"["+g.join(",")+h+"]"}else{if(r){if(s.indexOf(f)!==-1)return o("[Circular]");s.push(f)}const g=LR(f).sort(a&&a(f)),v=[];for(let p=0;p<g.length;p++){const w=g[p],y=l(f,w,f[w],d+1);if(!y)continue;const x=o(w)+m+y;v.push(h+n+x)}return s.splice(s.indexOf(f),1),"{"+v.join(",")+h+"}"}}}({"":e},"",e,0)}var $R=FR;const jR=No($R);class HR{cache=new Map;defaults=new Map;listeners=[];getStorageKey(t){return`config-${t}`}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners=this.listeners.filter(n=>t!==n)}setDefaults(t){t.forEach(n=>{this.setDefault(n.name,n.value)})}setDefault(t,n){this.defaults.set(t,n)}getConfig(t,n={}){const r=this.getStorageKey(t);if(!this.cache.has(t)){const i=localStorage.getItem(r),o=i===null?this.getDefaultValue(t,n):JSON.parse(i);this.cache.set(t,o)}return this.cache.get(t)}getDefaultValue(t,n={}){const r=this.defaults.has(t)?this.defaults.get(t):n;return r===void 0&&console.warn(`No default value for ${t}, using ""`),r}setConfig(t,n){this.cache.get(t)!==n&&(this.cache.set(t,n),localStorage.setItem(this.getStorageKey(t),jR(n)),this.dispatch(t,n))}dispatch(t,n){this.listeners.forEach(r=>{r.subscriptions().includes(t)&&(async()=>r.configChanged(t,n))()})}}const la=new HR,UR=_.createContext(la);var H=(e=>(e.SPEECH_ENABLED="speech-enabled",e.ADVANCED_MODE="advanced-mode",e.SPEECH_VOICE="speech-voice",e.VERBOSE="verbose",e.SAY_PARTICLE_COUNT="say-particle-count",e.RESULTS_TABLE_SORT="results-table-sort",e.PARTICIPANT_RESULTS_TABLE_SORT="participant-results-table-sort",e.SAY_ESTIMATED_FIT_FACTOR="say-estimated-fit-factor",e.SHOW_EXTERNAL_CONTROL="show-external-control",e.BAUD_RATE="baud-rate",e.PROTOCOL_INSTRUCTION_SETS="protocol-instruction-sets",e.SELECTED_PROTOCOL="selected-protocol",e.KEEP_SCREEN_AWAKE="keep-screen-awake",e.TEST_TEMPLATE="test-template",e.ENABLE_SIMULATOR="enable-simulator",e.ENABLE_AUTO_CONNECT="enable-auto-connect",e.SIMULATOR_FILE_SPEED="simulator-file-speed",e.SELECTED_DATA_SOURCE="selected-data-source",e.SYNC_DEVICE_STATE_ON_CONNECT="sync-device-state-on-connect",e.MINUTES_ALLOTTED_PER_PARTICIPANT="minutes-allotted-per-participant",e.EVENT_END_HHMM="event-end-hhmm",e.SHOW_ELAPSED_PARTICIPANT_TIME="show-elapsed-participant-time",e.SHOW_REMAINING_EVENT_TIME="show-remaining-event-time",e.AUTO_CREATE_FAST_PROTOCOLS="auto-create-fast-protocols",e.LAST_KNOWN_SETTINGS_KEYS_HASH="last-known-settings-keys-hash",e.USE_COMPACT_UI="use-compact-ui",e.ENABLE_WEB_SERIAL_DRIVERS="enable-webserial-drivers",e.ENABLE_PROTOCOL_EDITOR="enable-protocol-editor",e.ENABLE_QR_CODE_SCANNER="enable-qr-code-scanner",e.ENABLE_STATS="enable-stats",e.ENABLE_TEST_INSTRUCTIONS_ZOOM="enable-test-instructions-zoom",e.BOOKMARKS="bookmarks",e.MASK_LIST="mask-list",e.PARTICIPANT_LIST="participant-list",e.AUTO_UPDATE_MASK_LIST="auto-update-mask-list",e.COLOR_SCHEME="color-scheme",e.SHOW_MASK_PERF_GRAPH="show-mask-perf-graph",e.STATS_FIRST_DATE="so-stats-first-date",e.STATS_LAST_DATE="so-stats-last-date",e.RESULTS_TABLE_FILTER="so-results-table-filter",e.PARTICIPANT_RESULTS_TABLE_FILTER="so-participant-results-table-filter",e.COMBINED_MASK_LIST="so-combined-mask-list",e.COMBINED_PARTICIPANT_LIST="so-combined-participant-list",e.TEST_NOTES="so-test-notes",e.CONTROL_SOURCE_IN_VIEW="so-control-source-in-view",e.SAMPLE_SOURCE_IN_VIEW="so-sample-source-in-view",e.CONNECTION_STATUS_IN_VIEW="so-connection-status-in-view",e.ACTIVITY="so-activity",e.ZOOM_INSTRUCTIONS="so-zoom-instructions",e.DEFAULT_TO_PREVIOUS_PARTICIPANT="default-to-previous-participant",e.AUTO_ESTIMATE_FIT_FACTOR="auto-estimate-fit-factor",e.SHOW_PROTOCOL_EDITOR="show-protocol-editor",e.SHOW_SIMPLE_PROTOCOL_EDITOR="show-simple-protocol-editor",e.SHOW_SETTINGS="show-settings",e.SHOW_LOG_PANELS="show-log-panels",e.SHOW_HISTORICAL_TESTS="show-historical-tests",e.SHOW_CURRENT_TEST_PANEL="show-current-test-panel",e))(H||{});const tg={"speech-enabled":!1,"advanced-mode":!1,"speech-voice":"default",verbose:!1,"say-particle-count":!1,"results-table-sort":[{id:"ID",desc:!0}],"participant-results-table-sort":[{id:"ID",desc:!0}],"auto-estimate-fit-factor":!1,"say-estimated-fit-factor":!1,"show-external-control":!1,"baud-rate":1200,"protocol-instruction-sets":{json:{w1:["Normal breathing. Breathe normally","Heavy breathing. Take deep breaths.",["Jaw movement.","Read the rainbow passage:","When the sunlight strikes raindrops in the air, they act as a prism and form a rainbow.","The rainbow is a division of white light into many beautiful colors.","These take the shape of a long round arch, with its path high above,","and its two ends apparently beyond the horizon.","There is, according to legend, a boiling pot of gold at one end.","People look, but no one ever finds it.","When a man looks for something beyond his reach,","his friends say he is looking for the pot of gold at the end of the rainbow."].join(" "),"Head movement. Look up, down, left, and right. Repeat."],"Modified CNC Fit Protocol (B)":[{instructions:"prep",ambient_purge:4,ambient_sample:20,mask_purge:0,mask_sample:0},{instructions:"Bending over. Bend at the waist as if going to touch your toes. Inhale 2 times at the bottom.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:["Talking.","Talk out loud slowly and loud enough to be head by the test administrator.","Count backwards from 100,","or read the Rainbow Passage:","When the sunlight strikes raindrops in the air, they act as a prism and form a rainbow.","The rainbow is a division of white light into many beautiful colors.","These take the shape of a long round arch, with its path high above,","and its two ends apparently beyond the horizon.","There is, according to legend, a boiling pot of gold at one end.","People look, but no one ever finds it.","When a man looks for something beyond his reach,","his friends say he is looking for the pot of gold at the end of the rainbow."].join(" "),ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"Head side-to-side. Slowly turn head from side to side. Inhale 2 times at each extreme.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"Head up-and-down. Slowly move head up and down. Inhale 2 times at each extreme.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"finalize",ambient_purge:4,ambient_sample:9,mask_purge:0,mask_sample:0}],osha:["Normal breathing. In a normal standing position, without talking, the subject shall breathe normally","Deep breathing. In a normal standing position, the subject shall breathe slowly and deeply, taking caution so as not to hyperventilate","Turning head side to side. Standing in place, the subject shall slowly turn his/her head from side to side between the extreme positions on each side. The head shall be held at each extreme momentarily so the subject can inhale at each side.","Moving head up and down. Standing in place, the subject shall slowly move his/her head up and down. The subject shall be instructed to inhale in the up position (i.e., when looking toward the ceiling).","Talking. The subject shall talk out loud slowly and loud enough so as to be heard clearly by the test conductor. The subject can read from a prepared text such as the Rainbow Passage, count backward from 100, or recite a memorized poem or song.","Grimace. The test subject shall grimace by smiling or frowning. (This applies only to QNFT testing; it is not performed for QLFT)","Bending over. The test subject shall bend at the waist as if he/she were to touch his/her toes. Jogging in place shall be substituted for this exercise in those test environments such as shroud type QNFT or QLFT units that do not permit bending over at the waist.","Normal breathing. Same as exercise (1)."],Singing:[{ambient_purge:4,ambient_sample:20,instructions:"prep",mask_purge:0,mask_sample:0},{ambient_purge:0,ambient_sample:0,instructions:"Sing!",mask_purge:4,mask_sample:240},{ambient_purge:4,ambient_sample:9,instructions:"finalize",mask_purge:0,mask_sample:0}]}},"selected-protocol":"w1","keep-screen-awake":!0,"test-template":{},"enable-simulator":!1,"enable-auto-connect":!0,"simulator-file-speed":300,"selected-data-source":We.WebSerial,"sync-device-state-on-connect":!1,"minutes-allotted-per-participant":20,"event-end-hhmm":"13:30","show-elapsed-participant-time":!1,"show-remaining-event-time":!1,"auto-create-fast-protocols":!1,"last-known-settings-keys-hash":"","use-compact-ui":!0,"enable-webserial-drivers":!1,"enable-protocol-editor":!1,"enable-qr-code-scanner":!1,"enable-stats":!1,"enable-test-instructions-zoom":!1,bookmarks:{},"mask-list":[],"participant-list":[],"auto-update-mask-list":!0,"color-scheme":"auto","show-mask-perf-graph":!0,"so-stats-first-date":new Date(0),"so-stats-last-date":new Date,"so-results-table-filter":[],"so-participant-results-table-filter":[],"so-combined-mask-list":[],"so-combined-participant-list":[],"so-test-notes":[],"so-control-source-in-view":!0,"so-sample-source-in-view":!0,"so-connection-status-in-view":!0,"so-activity":kt.Disconnected,"so-zoom-instructions":!1,"default-to-previous-participant":!1,"show-protocol-editor":!1,"show-simple-protocol-editor":!1,"show-settings":!1,"show-log-panels":!1,"show-historical-tests":!1,"show-current-test-panel":!1};function aC(e){return e.source===Te.MASK&&e.state===Mn.SAMPLE}function sC(e){return af(e).reduce((t,n)=>t+(aC(n)?1:0),0)}class VR{_protocolStages=[];_protocolSegments=[];numExercisesForProtocol={};_listenerMap=new Map;constructor(){this.addListener({subscriptions:()=>[H.SELECTED_PROTOCOL],settingsChanged:(t,n)=>{t===H.SELECTED_PROTOCOL&&this.updateProtocolStages(n)}}),this.addListener({subscriptions:()=>[H.ENABLE_SIMULATOR],settingsChanged:(t,n)=>{t===H.ENABLE_SIMULATOR&&!n&&[We.Simulator,We.SimulatorFile].includes(this.getSetting(H.SELECTED_DATA_SOURCE))&&this.saveSetting(H.SELECTED_DATA_SOURCE,tg[H.SELECTED_DATA_SOURCE])}}),this.addListener({subscriptions:()=>[H.SHOW_EXTERNAL_CONTROL],settingsChanged:(t,n)=>{t===H.SHOW_EXTERNAL_CONTROL&&(n||this.saveSetting(H.SYNC_DEVICE_STATE_ON_CONNECT,!1))}}),this.addListener({subscriptions:()=>[H.SYNC_DEVICE_STATE_ON_CONNECT],settingsChanged:(t,n)=>{t===H.SYNC_DEVICE_STATE_ON_CONNECT&&n&&!this.getSetting(H.SHOW_EXTERNAL_CONTROL)&&setTimeout(()=>{this.saveSetting(H.SYNC_DEVICE_STATE_ON_CONNECT,!1)},200)}})}addListener(t){const n={subscriptions:()=>t.subscriptions?t.subscriptions():[],configChanged(r,i){t.settingsChanged&&t.settingsChanged(r,i)}};this._listenerMap.set(t,n),la.addListener(n)}removeListener(t){const n=this._listenerMap.get(t);n&&la.removeListener(n)}getDefault(t){return tg[t]}get selectedProtocol(){return this.getSetting(H.SELECTED_PROTOCOL)}set selectedProtocol(t){console.log(`set selected protocol ${t}`),t in this.protocolDefinitions?this.saveSetting(H.SELECTED_PROTOCOL,t):console.log(`trying to set an invalid protocol name: ${t}, ignoring`)}get protocolStages(){return this._protocolStages}set protocolStages(t){this._protocolStages=t}get protocolSegments(){return this._protocolSegments}get eventEndTime(){const t=new Date,[n,r]=this.getSetting(H.EVENT_END_HHMM).split(":");return t.setHours(Number(n),Number(r),0,0),t}set eventEndTime(t){const n=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`;this.saveSetting(H.EVENT_END_HHMM,n)}get numExercises(){return Math.max(...this.protocolSegments.map(t=>t.exerciseNumber??0),0)}set protocolSegments(t){this._protocolSegments=t}get sayEstimatedFitFactor(){return this.getSetting(H.SAY_ESTIMATED_FIT_FACTOR)}set sayEstimatedFitFactor(t){this.saveSetting(H.SAY_ESTIMATED_FIT_FACTOR,t)}get verboseSpeech(){return this.getSetting(H.VERBOSE)}set verboseSpeech(t){this.saveSetting(H.VERBOSE,t)}get sayParticleCount(){return this.getSetting(H.SAY_PARTICLE_COUNT)}set sayParticleCount(t){this.saveSetting(H.SAY_PARTICLE_COUNT,t)}get speechEnabled(){return this.getSetting(H.SPEECH_ENABLED)}set speechEnabled(t){this.saveSetting(H.SPEECH_ENABLED,t)}getProtocolDefinition(t){return this.protocolDefinitions[t]||[]}getProtocolNames(){return Object.keys(this.protocolDefinitions)}get protocolDefinitions(){const t=kR(this.getSetting(H.PROTOCOL_INSTRUCTION_SETS).json);if(this.getSetting(H.AUTO_CREATE_FAST_PROTOCOLS)){const n=this.createFastProtocols(t);Object.assign(t,n)}return t}createFastProtocols(t){const n={},r=Object.keys(t).map(i=>i.toLowerCase());return Object.entries(t).forEach(([i,o])=>{const a=`fast-${i} (*)`;if(!i.toLowerCase().startsWith("fast-")){if(!r.includes(a.toLowerCase())){const s=[],l=o[0];s.push({instructions:"Prep",ambient_purge:l.ambient_purge||vt.defaultAmbientPurgeDuration,ambient_sample:l.ambient_sample||vt.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0}),o.forEach(c=>{c.mask_sample>0&&s.push({instructions:c.instructions,ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:Math.min(c.mask_sample,Math.max(20,c.mask_sample*.75))})});const u=o[o.length-1];s.push({instructions:"Finalize",ambient_purge:u.ambient_purge===0?0:vt.defaultAmbientPurgeDuration,ambient_sample:u.ambient_sample||vt.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0}),n[a]=s}}}),n}set protocolDefinitions(t){this.saveSetting(H.PROTOCOL_INSTRUCTION_SETS,{json:t})}getTestTemplate(){return this.getSetting(H.TEST_TEMPLATE)}setTestTemplate(t){this.saveSetting(H.TEST_TEMPLATE,t)}async getActualSetting(t){return this.getSetting(t)}getSetting(t){return la.getConfig(t)}async loadAllSettings(){const t=this.protocolDefinitions;for(const n of Object.keys(t)){const r=t[n];this.numExercisesForProtocol[n]=sC(r)}}saveSetting(t,n){la.setConfig(t,n)}updateProtocolStages(t){console.debug(`updateProtocolStages ${t}`);const n=this.protocolDefinitions[t];n&&(this.protocolSegments=af(n),this.protocolStages=n)}getProtocolDuration(t){const n=this.protocolDefinitions[t]??[],r=af(n);return uC(r)}}const lC=new VR;function uC(e){return e.reduce((t,n)=>t+n.duration,0)}function af(e){const t=[];let n=null,r=0;return e.forEach((i,o)=>{let a=0;i.mask_sample>0&&(n=(n??0)+1);const s=i.mask_sample>0?n:null;if(i.ambient_purge>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:Te.AMBIENT,state:Mn.PURGE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.ambient_purge,data:[]};t.push(l),r+=l.duration,a+=l.duration}if(i.ambient_sample>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:Te.AMBIENT,state:Mn.SAMPLE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.ambient_sample,data:[]};t.push(l),r+=l.duration,a+=l.duration}if(i.mask_purge>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:Te.MASK,state:Mn.PURGE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.mask_purge,data:[]};t.push(l),r+=l.duration,a+=l.duration}if(i.mask_sample>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:Te.MASK,state:Mn.SAMPLE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.mask_sample,data:[]};t.push(l),r+=l.duration}}),t}class cC{db;dbName;version;defaultDataStores;openPromise;constructor(t,n=[],r=1){this.dbName=t,this.version=r,this.defaultDataStores=n}async getDataFromDataSource(t,n=()=>!0){return new Promise((r,i)=>{const o=this.openTransactionClassic("readonly"),a=[];if(!o){console.debug(`${this.dbName} database not ready`),i(`${this.dbName} database not ready`);return}const s=o.objectStore(t).openCursor(null,"next");s.onerror=l=>{console.error(`getAllDataFromDataSource openCursor request error ${l}`),i(`error ${l}`)},s.onsuccess=l=>{const u=s.result;u?(n(u.value)&&a.push(u.value),u.continue()):(console.debug(`${this.dbName} cursor done ${l}. got ${a.length} records`),r(a))}})}onOpenSuccess(t){this.db=t.result,console.debug(`${this.dbName} Database Opened`,this.db)}onOpenError(t){console.error(`${this.dbName} Database error: ${t.error?.message}`)}openTransactionClassic(t,n=this.defaultDataStores){if(!this.db){console.log(`${this.dbName} database not ready`);return}try{const r=this.db.transaction(n,t);return r.oncomplete=()=>{},r.onerror=i=>{console.warn(`${this.dbName} transaction error ${i}`)},r}catch(r){console.error(`${this.dbName} error opening transaction: ${r}`);return}}async openTransaction(t,n=this.defaultDataStores){return new Promise((r,i)=>{if(!this.db){console.debug(`${this.dbName} database not ready`),i(`${this.dbName} database not ready`);return}const o=this.db.transaction(n,t);o.oncomplete=()=>{},o.onerror=a=>{console.error(`${this.dbName} transaction error ${JSON.stringify(a)}`)},r(o)})}async get(t,n){return new Promise((r,i)=>{this.openTransaction("readonly").then(o=>{const a=o.objectStore(t).get(n);a.onsuccess=()=>{r(a.result)},a.onerror=s=>{const l=`${this.dbName} get(${n}) failed; error: ${s}`;console.error(l),i(l)}})})}async put(t,n){return new Promise((r,i)=>{this.openTransaction("readwrite").then(o=>{try{const a=o.objectStore(t).put(n);a.onsuccess=()=>{r(a.result)},a.onerror=s=>{const l=`${this.dbName} put(${JSON.stringify(n)}) failed; error: ${s}`;console.error(l),i(l)}}catch(a){i(`${a} value: ${JSON.stringify(n)}`)}})})}async delete(t,n){return new Promise((r,i)=>{this.openTransaction("readwrite").then(o=>{try{const a=o.objectStore(t).delete(n);a.onsuccess=()=>{r(a.result)},a.onerror=s=>{const l=`${this.dbName} delete(${n}) failed; error: ${s}`;console.error(l),i(l)}}catch(a){i(`${a}, key: ${n}`)}})})}async open(){return console.debug(`open called on ${this.dbName}`),this.openPromise?this.openPromise:this.db?this.db:(this.openPromise=new Promise((t,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.onsuccess=()=>{this.onOpenSuccess(r),t(r.result)},r.onerror=()=>{this.onOpenError(r),n(r.error?.message)},r.onupgradeneeded=()=>{this.onUpgradeNeeded(r)}}),this.openPromise)}close(){this.db?.close(),console.debug(`${this.dbName} closed`)}}class Jn extends cC{static DEFAULT_DB_NAME="fit-test-data-db";static TEST_RESULTS_OBJECT_STORE="test-results-table-data";constructor(t=Jn.DEFAULT_DB_NAME){super(t,[Jn.TEST_RESULTS_OBJECT_STORE],2)}onUpgradeNeeded(t){const n=t.result;console.warn(`${this.dbName} Database upgrade needed: ${n.name}`),n.createObjectStore(Jn.TEST_RESULTS_OBJECT_STORE,{autoIncrement:!0,keyPath:"ID"})}keepRecords=[];async getData(t){return this.getDataFromDataSource(Jn.TEST_RESULTS_OBJECT_STORE,t)}async createNewTest(t,n,r,i){const o=this.openTransactionClassic("readwrite");if(!o)return console.log("database not ready"),new Promise((l,u)=>u(`${this.dbName} database not ready`));const a={Time:t,ProtocolName:n,TestController:r,DataSource:i},s=o?.objectStore(Jn.TEST_RESULTS_OBJECT_STORE).add(a);return new Promise((l,u)=>{s.onerror=c=>{const f=`createNewTest request error ${c}`;console.log(f),u(f)},s.onsuccess=c=>{console.log(`createNewTest request complete: ${c}, new key is ${s.result}`),l({...a,ID:Number(s.result)})}})}async updateTest(t){return new Promise((n,r)=>{const i=this.openTransactionClassic("readwrite");if(!i){console.log("database not ready"),r(`${this.dbName} database not ready`);return}t.ID=Number(t.ID);const o=i.objectStore(Jn.TEST_RESULTS_OBJECT_STORE).put(t);o.onerror=a=>{const s=`updateTest request error ${a}`;console.log(s),r(s)},o.onsuccess=()=>{n({ID:o.result})}})}async addRecord(t){const n=t;return delete n.ID,this.put(Jn.TEST_RESULTS_OBJECT_STORE,n)}async addRecords(t){for(const n of t)await this.addRecord(n)}async deleteRecord(t){return this.deleteRecordById(t.ID)}async deleteRecordById(t){return this.delete(Jn.TEST_RESULTS_OBJECT_STORE,t)}}const Rn=new Jn;var fC={exports:{}};(function(e,t){const n=Math.exp;e.exports=function(i){if(typeof i!="number")throw new Error("must provide a timespan to the moving average constructor");if(i<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let o,a=0,s=0,l=0,u,c={};function f(d,h){return 1-n(-(d-h)/i)}return c.push=function(h,m){if(u){const g=f(h,u),v=m-o,p=g*v;o=g*m+(1-g)*o,a=(1-g)*(a+v*p),s=Math.sqrt(a),l=o+g*v}else o=m;u=h},c.movingAverage=function(){return o},c.variance=function(){return a},c.deviation=function(){return s},c.forecast=function(){return l},c}})(fC);var BR=fC.exports;const xn=No(BR);class Yi{}class kw extends Yi{instructions;constructor(t){super(),this.instructions=t}}class Y0 extends Yi{estimate;constructor(t){super(),this.estimate=t}}class dC extends Y0{constructor(t){super(t)}}class hC extends Y0{constructor(t){super(t)}}class ng extends Y0{constructor(t){super(t)}}class Mw extends Yi{line;constructor(t){super(),this.line=t}}class Dw extends Yi{message;constructor(t){super(),this.message=t}}class Ow extends Yi{data;constructor(t){super(),this.data=t}}class Pw extends Yi{record;constructor(t){super(),this.record=So(t)}}class mp extends Yi{record;constructor(t){super(),this.record=So(t)}}class pC extends Yi{}const Nw=5*1e3,gp=20*1e3,YR={emaConcentration:void 0,emaConcentrationStdDev:void 0,guestimatedAmbient:void 0,sampleZone:"unknown",emaConcentrationInZone:void 0,estimatedFitFactor:void 0,estimatedFitFactorBand:void 0,estimatedFitFactorBandLower:void 0,zoneFF:void 0};class zR{guestimatedAmbientConcentration=0;maCount5s=xn(Nw);maZoneConcentration20s=xn(gp);nextChartUpdateTime=0;_chartOptions;_fullConcentrationHistory=[];dataCollector;constructor(t){this.dataCollector=t}get chartOptions(){return this._chartOptions}set chartOptions(t){this._chartOptions=t}get fullConcentrationHistory(){return this._fullConcentrationHistory}set fullConcentrationHistory(t){this._fullConcentrationHistory=t}resetChart(){this.fullConcentrationHistory=[],this.guestimatedAmbientConcentration=0,this.maCount5s=xn(Nw),this.maZoneConcentration20s=xn(gp),this.nextChartUpdateTime=0;const t={axisPointer:{link:[{xAxisIndex:"all"}]},tooltip:{trigger:"axis",axisPointer:{type:"cross"},valueFormatter:md,position:function(n,r,i,o,a){return n[0]<a.viewSize[0]/2?{bottom:10,right:30}:{bottom:10,left:30}}},grid:[{top:"10%",left:"4%",right:"3%",bottom:"55%",containLabel:!0},{top:"60%",left:"4%",right:"3%",containLabel:!0}],xAxis:[{type:"time",gridIndex:0},{type:"time",gridIndex:1}],yAxis:[{name:"concentration",position:"left",type:"value",gridIndex:0,splitLine:{show:!0},minorSplitLine:{show:!0}},{name:"estimated fit factor",position:"left",type:"value",gridIndex:1}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0,1],filterMode:"filter"},{id:"dataZoomY0",type:"slider",yAxisIndex:[0],filterMode:"empty"},{id:"dataZoomY1",type:"slider",yAxisIndex:[1],filterMode:"empty"}],series:[{name:"concentration",type:"line",encode:{x:["timestamp"],y:["concentration"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{type:"dotted",width:3,opacity:0},markArea:{data:[]}},{name:"guestimated ambient level",type:"line",encode:{x:["timestamp"],y:["guestimatedAmbient"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"gray",width:3},itemStyle:{color:"gray"},showSymbol:!1},{name:"EMA concentration",type:"line",encode:{x:["timestamp"],y:["emaConcentration"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"blue",width:3},itemStyle:{color:"blue"},showSymbol:!1},{name:"EMA concentration in zone",type:"line",encode:{x:["timestamp"],y:["emaConcentrationInZone"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"blue",width:1},itemStyle:{color:"blue"},showSymbol:!1},{name:"Zone FF",type:"line",encode:{x:["timestamp"],y:["zoneFF"]},yAxisIndex:1,xAxisIndex:1,lineStyle:{width:1},itemStyle:{opacity:0},showSymbol:!1}]};this.chartOptions=t}processConcentration(t,n=new Date){if(isNaN(t))return;const r=n.getTime(),i=this.fullConcentrationHistory.length>0?this.fullConcentrationHistory[this.fullConcentrationHistory.length-1]:void 0;let o;this.guestimatedAmbientConcentration?t>this.guestimatedAmbientConcentration?o="ambient":this.maCount5s.movingAverage()<.5*this.guestimatedAmbientConcentration?i?.sampleZone!=="mask"&&this.maCount5s.deviation()>1.5*this.maCount5s.movingAverage()?o="purge":o="mask":this.maCount5s.deviation()<.3*this.guestimatedAmbientConcentration?o="ambient":o="unknown":o="ambient",o==="ambient"&&(this.guestimatedAmbientConcentration=this.maCount5s.movingAverage());let a=NaN;if(i&&i.sampleZone==="mask"){let l=0,u=this.fullConcentrationHistory.length-1,c=0;for(;u>=0&&this.fullConcentrationHistory[u].sampleZone==="mask";u--)this.fullConcentrationHistory.length-u>5&&(l+=this.fullConcentrationHistory[u].concentration,c++);l&&(a=c*this.guestimatedAmbientConcentration/l,i&&(i.zoneFF=a))}this.dataCollector.dispatch(new dC(a)),this.dataCollector.dispatch(new hC(this.guestimatedAmbientConcentration)),o==="mask"?this.dataCollector.dispatch(new ng(t)):this.dataCollector.dispatch(new ng(-1));const s={...YR,timestamp:n,concentration:t,guestimatedAmbient:this.guestimatedAmbientConcentration,emaConcentration:this.maCount5s.movingAverage(),emaConcentrationStdDev:this.maCount5s.deviation(),sampleZone:o,zoneFF:a};if(o==="mask")if(i&&i.sampleZone===o){s.emaConcentrationInZone=this.maZoneConcentration20s.movingAverage();const l=Math.min(.3*s.emaConcentrationInZone,this.maZoneConcentration20s.deviation()),u=s.guestimatedAmbient||0;s.estimatedFitFactor=u/s.emaConcentrationInZone,s.estimatedFitFactorBand=u/(s.emaConcentrationInZone-l)-u/(s.emaConcentrationInZone+l),s.estimatedFitFactorBandLower=u/(s.emaConcentrationInZone+l)}else this.maZoneConcentration20s=xn(gp);if(this.fullConcentrationHistory.push(s),this.maCount5s.push(r,t),this.maZoneConcentration20s.push(r,t),this.chartOptions.dataset={dimensions:["timestamp","concentration","guestimatedAmbient","emaConcentration","emaConcentrationStdDev","sampleZone","emaConcentrationInZone","estimatedFitFactor","estimatedFitFactorBand","estimatedFitFactorBandLower","zoneFF"],source:this.fullConcentrationHistory},this.chartOptions.yAxis[0].type="log",this.chartOptions.yAxis[0].min=Math.min(...this.chartOptions.dataset.source.map(l=>l.concentration)),this.chartOptions.yAxis[0].max=Math.max(...this.chartOptions.dataset.source.map(l=>l.concentration)),this.chartOptions.yAxis[1].type="value",this.chartOptions.dataZoom[0].endValue=s.timestamp,this.chartOptions.dataZoom[0].startValue=s.timestamp.getTime()-15*60*1e3,this.guestimatedAmbientConcentration>0){const l={type:"piecewise",show:!1,seriesIndex:[0],dimension:"",pieces:[{gte:100,lt:1e5,color:"green"},{gte:20,lt:100,color:"darkorange"},{gte:0,lt:20,color:"darkred"}],outOfRange:{color:"#999"}},u=So(l);u.dimension="estimatedFitFactor",u.seriesIndex=this.chartOptions.series.findIndex(f=>f.name==="estimated fit factor");const c=So(l);c.dimension="zoneFF",c.seriesIndex=this.chartOptions.series.findIndex(f=>f.name==="Zone FF"),this.chartOptions.visualMap=[u,c]}this.updateMarkArea(this.chartOptions,s),Date.now()>this.nextChartUpdateTime&&(this.nextChartUpdateTime=Date.now()+1e3,this.dataCollector.dispatch(new pC))}updateMarkArea(t,n){const r=n.sampleZone,i=t.series[0].markArea.data,[o,a]=i.length>0?i[i.length-1]:[{},{}];if(o.name===r)a.xAxis=n.timestamp;else{const s=[{xAxis:n.timestamp,name:r,itemStyle:{color:n.sampleZone==="mask"?"wheat":n.sampleZone==="ambient"?"powderblue":"black",opacity:.2}},{xAxis:n.timestamp}];i.push(s)}}}class hi extends cC{static DEFAULT_DB_NAME="raw-serial-line-data-db";static SERIAL_LINE_OBJECT_STORE="serial-line-data";constructor(t=hi.DEFAULT_DB_NAME){super(t,[hi.SERIAL_LINE_OBJECT_STORE],1)}onUpgradeNeeded(t){const n=t.result;console.warn(`Database upgrade needed: ${this.dbName}`),n.createObjectStore(hi.SERIAL_LINE_OBJECT_STORE,{autoIncrement:!0,keyPath:"index"})}keepRecords=[];now=new Date;async getData(t){return this.getDataFromDataSource(hi.SERIAL_LINE_OBJECT_STORE,t)}getSomeRecentLines(t){const n=this.openTransactionClassic("readonly");if(!n){console.debug(`${this.dbName} database not ready`);return}const r=n.objectStore(hi.SERIAL_LINE_OBJECT_STORE).openCursor(null,"prev");let i=!1;r.onerror=o=>{console.log(`getSomeRecentLines openCursor request error ${o}`)},r.onsuccess=o=>{console.log(`getSomeRecentLines openCursor request complete: ${o}`);const a=r.result;if(a?(this.keepRecords.push(a.value),a.continue()):(console.log(`${this.dbName} cursor done`),i=!0),i)for(console.log(`collected ${this.keepRecords.length} records`);this.keepRecords.length>0;){const s=this.keepRecords.pop();s&&t(s)}}}addLine(t){const n=this.openTransactionClassic("readwrite");if(!n)return console.log(`${this.dbName} database not ready`),{};const r={timestamp:new Date().toISOString(),data:t},i=n.objectStore(hi.SERIAL_LINE_OBJECT_STORE).add(r);i.onerror=o=>{console.error(`addRecord request error ${o}`)},i.onsuccess=()=>{}}}const gd=new hi;class WR{listeners=[];resultsDatabase;previousTestData=null;currentTestData=null;lastExerciseNum=0;sampleSource=Te.MASK;setResults;inProgressTestPromiseChain;controlSource=Ee.Internal;settings;_rawLines="";_processedData="";_logLines="";_fitFactorEstimator;_dataSource=We.NotInitialized;constructor(){this.settings=lC,this.resultsDatabase=Rn,this._fitFactorEstimator=new zR(this),this.fitFactorEstimator.resetChart()}get saveLinesToDb(){return this._dataSource!==We.Simulator}set dataSource(t){this._dataSource=t}get dataSource(){return this._dataSource}get fitFactorEstimator(){return this._fitFactorEstimator}set fitFactorEstimator(t){this._fitFactorEstimator=t}get rawLines(){return this._rawLines}get logLines(){return this._logLines}get processedData(){return this._processedData}appendToRaw(t){this._rawLines+=t+`
`,this.dispatch(new Mw(t))}appendToLog(t){this._logLines+=t,this.dispatch(new Dw(t))}appendToProcessedData(t){this._processedData+=t,this.dispatch(new Ow(t))}setInstructions(t){this.dispatch(new kw(t))}setInstructionsForExercise(t){if(!this.settings.selectedProtocol)return;const n=this.settings.selectedProtocol,i=this.settings.getProtocolDefinition(n)[t-1],o=typeof i=="object"?"instructions"in i?i.instructions:i.i:i;o&&this.setInstructions(`Perform exercise ${t}: ${o}`)}recordTestComplete(){const t=()=>{console.log(`test complete, id ${this.currentTestData?.ID}`),this.previousTestData=this.currentTestData,this.currentTestData=null};this.chain(t)}recordTestAborted(){const t=()=>{if(!this.currentTestData){console.log("no current row, ignoring");return}this.currentTestData[`Ex ${this.lastExerciseNum+1}`]="aborted",this.setInstructions("Test cancelled."),this.updateCurrentRowInDatabase(),console.log("test aborted")};this.chain(t)}chain(t){this.inProgressTestPromiseChain?this.inProgressTestPromiseChain=this.inProgressTestPromiseChain.then(t):t()}async recordTestStart(t,n=new Date().toLocaleString()){if(!this.resultsDatabase){console.log("database not ready");return}if(!this.settings.selectedProtocol){console.log("protocols not loaded (not ready)");return}this.lastExerciseNum=0;const r=await this.resultsDatabase.createNewTest(n,this.settings.selectedProtocol,t,t===Ee.Manual?We.Manual:this.dataSource);this.currentTestData=r;const i=this.settings.getTestTemplate();for(const o in i)o in r||o.startsWith("Ex ")||o.startsWith("Final")||typeof i[o]=="string"&&(this.currentTestData[o]=i[o]);this.updateCurrentRowInDatabase(),console.log(`new test added: ${JSON.stringify(this.currentTestData)}`),this.dispatch(new Pw(r)),this.dispatch(new mp(r))}recordExerciseResult(t,n){const r=()=>{if(!this.currentTestData){console.log("no current row! ignoring");return}typeof t=="number"?(this.currentTestData[`Ex ${t}`]=`${Math.floor(n)}`,this.lastExerciseNum=t):this.currentTestData[`${t}`]=`${Math.floor(n)}`,this.updateCurrentRowInDatabase()};this.chain(r)}updateTest(t){if(t.ID){if(t.ID===this.currentTestData?.ID){const n=this.currentTestData;this.currentTestData=t,Object.entries(n).forEach(([r,i])=>{typeof i=="number"&&this.currentTestData&&this.currentTestData[r]!==i&&(this.currentTestData[r]=i,this.setResults&&this.setResults(o=>[...o]))})}else t.ID===this.previousTestData?.ID&&(this.previousTestData=t);this.resultsDatabase.updateTest(t)}else console.log(`updateTest() unexpected record with no ID: ${t}`)}updateCurrentRowInDatabase(){this.currentTestData&&(this.resultsDatabase.updateTest(this.currentTestData),this.dispatch(new mp(this.currentTestData)))}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case Pw.name:{n.newTestStarted&&n.newTestStarted(t.record);break}case mp.name:{n.currentTestUpdated&&n.currentTestUpdated(t.record);break}case pC.name:{n.tick&&n.tick();break}case Mw.name:{n.logRawLine&&n.logRawLine(t.line);break}case Dw.name:{if(n.logMessage){const r=t;n.logMessage(r.message)}break}case Ow.name:{if(n.logProcessedData){const r=t;n.logProcessedData(r.data)}break}case dC.name:{if(n.estimatedFitFactorChanged){const r=t;n.estimatedFitFactorChanged(r.estimate)}break}case ng.name:{n.estimatedMaskConcentrationChanged&&n.estimatedMaskConcentrationChanged(t.estimate);break}case hC.name:{n.estimatedAmbientConcentrationChanged&&n.estimatedAmbientConcentrationChanged(t.estimate);break}case kw.name:{if(n.instructionsChanged){const r=t;n.instructionsChanged(r.instructions)}break}}})}portaCountListener={lineReceived:t=>{t.trim().length>0&&(this.appendToRaw(t),this.saveLinesToDb&&gd.addLine(t))},sampleSourceChanged:t=>{console.log(`sampling from ${t}`),this.appendToLog(`sampling from ${t}
`),this.sampleSource=t},dataTransmissionStateChanged:t=>{this.appendToLog(`data transmission state: ${t}`)},testStarted:t=>{this.appendToProcessedData(`
Starting a new test. ${new Date(t).toLocaleString()}
`),this.setInstructionsForExercise(1),this.inProgressTestPromiseChain=this.recordTestStart(Ee.Internal,new Date(t).toLocaleString())},controlSourceChanged:t=>{this.controlSource=t},fitFactorResultsReceived:t=>{const n=t.ff,r=t.exerciseNum,i=t.result;this.recordExerciseResult(r,n),typeof r=="number"?(this.appendToProcessedData(`Exercise ${r}: Fit factor is ${n}. Result: ${i}
`),this.setInstructionsForExercise(r+1),gt.sayItLater(`Score was ${n}`)):(this.appendToProcessedData(`
Test complete. ${i} with FF of ${n}
`),this.setInstructions(`Test complete. Score: ${n}`),this.appendToLog(JSON.stringify(this.currentTestData)+`
`),this.recordTestComplete(),gt.sayItLater(`Final score was ${n}`))},testTerminated:()=>{this.appendToProcessedData(`
Test aborted
`),this.recordTestAborted(),this.recordTestComplete()},particleConcentrationReceived:t=>{const n=()=>{if(this.currentTestData){t.controlSource===Ee.Internal&&this.recordParticleCount(t);return}const r=t.concentration,i=t.timestamp;this.controlSource===Ee.External&&this.appendToProcessedData(`${this.sampleSource}: ${r}
`),this.fitFactorEstimator.processConcentration(r,i?new Date(i):new Date)};this.chain(n)}};recordParticleCount(t){this.currentTestData&&(this.currentTestData.ParticleCounts||(this.currentTestData.ParticleCounts=[]),this.currentTestData.ParticleCounts.push({type:t.sampleSource,count:t.concentration}),this.updateCurrentRowInDatabase())}setPortaCountClient(t){t.addListener(this.portaCountListener)}}class qR{readable;writable;connected=!1;constructor(t,n){this.readable=t,this.writable=n}getInfo(){return{usbVendorId:-1337}}open(t){return console.debug(`todo: set simulator baud rate to ${t.baudRate}`),this.connected=!0,Promise.resolve()}}class QR{reader;_readerController;writer;_port;_portaCountState=new tC;encoder=new TextEncoder;_started=!1;bias=0;baseConcentration=0;lastCommandTimeMs=0;targetMaskFF=100;constructor(){this.reader=this.createReader(),this.writer=this.createWriter(),this._port=new qR(this.reader,this.writer)}get port(){return this._started=!0,this._port}stop(){this.reader.cancel("stop")}sendResponse(t){const n=this.encoder.encode(t);this._readerController?.enqueue(n)}createReader(){let t,n=!1;return new ReadableStream({pull:r=>{n=!0},start:r=>{console.debug("PortaCountSimulator started"),this._readerController=r,t=setInterval(()=>{if(this._started){const o=this.generateConcentration();console.debug(`simulator loop: ${o}, isPulling? ${n}`),n&&(n=!1,r.enqueue(this.encoder.encode(`${o}
`)))}},1e3)},cancel(){Cl("cancel() called on underlying source"),t&&clearInterval(t)}})}createWriter(){const t=new CountQueuingStrategy({highWaterMark:1}),n=new TextDecoder,r=this,i=/\r\n|\n|\r/gm;let o="";return new WritableStream({write:a=>{const s=n.decode(a);console.debug(`writer got ${s}`),o+=s;const l=i.exec(o);if(l){const u=o.substring(0,l.index);o=o.substring(i.lastIndex),i.lastIndex=0,r.executeCommand(u)}},close(){},abort(a){console.debug(`abort: ${a}`)}},t)}random(){return Date.now()-this.lastCommandTimeMs>3*60*1e3&&(this.baseConcentration=(1+5*Math.random())*1e3,this.targetMaskFF=10+300*Math.random(),console.debug(`simulator resetting baseConcentration to ${this.baseConcentration}, targetMaskFF to ${this.targetMaskFF}`)),this.baseConcentration+=Math.round(Math.random()*200),this.baseConcentration}randomize(){this.bias=(Math.random()*30-30/2)/100,this.lastCommandTimeMs=Date.now()}executeCommand(t){switch(this.randomize(),t){case be.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE:{this.sendResponse(`RGG
`);break}case be.REQUEST_VOLTAGE_INFO:{["CS191","CB483","CT236","CC065","CL614","CP255","CD068"].forEach(n=>{this.sendResponse(`${n}
`)});break}case be.REQUEST_SETTINGS:{["STPA 00004","STA  00005","STPM 00011","STM0100040","STM0200040","STM0300040","STM0400040","STM0500040","STM0600040","STM0700040","STM0800040","STM0900040","STM1000040","STM1100040","STM1200040","STM1300040","SP 0100100","SP 0200250","SP 0300500","SP 0401000","SP 0501250","SP 0601667","SP 0702000","SP 0804000","SP 0905000","SP 1006667","SP 1110000","SP 1200000","SS   17754","SR   00722","SD   00519"].forEach(n=>{this.sendResponse(`${n}
`)});break}case be.SWITCH_VALVE_OFF:{this._portaCountState.sampleSource=Te.MASK,this.sendResponse(be.SWITCH_VALVE_OFF),this.sendResponse(`
`);break}case be.SWITCH_VALVE_ON:{this._portaCountState.sampleSource=Te.AMBIENT,this.sendResponse(be.SWITCH_VALVE_ON),this.sendResponse(`
`);break}case be.INVOKE_EXTERNAL_CONTROL:{this._portaCountState.controlSource===Ee.External?this.sendResponse(`EJ
`):(this._portaCountState.controlSource=Ee.External,this.sendResponse(`OK
`));break}case be.RELEASE_FROM_EXTERNAL_CONTROL:{this._portaCountState.controlSource=Ee.Internal,this.sendResponse(`G
`);break}default:console.debug(`echoing back: ${t}`),this.sendResponse(`${t}
`)}}generateConcentration(){let t;this._portaCountState.sampleSource===Te.MASK?t=this.random()/this.targetMaskFF:t=this.random(),t=(1-this.bias)*t;let n;return this._portaCountState.controlSource===Ee.External?n=`${t.toFixed(2).padStart(9,"0")}`:n=`Conc.${t.toFixed(t<10?2:0).padStart(10," ")} #/cc`,n}}const GR=48e6,KR=e=>new Promise(t=>setTimeout(t,e)),XR=257,ZR=256,JR=514,eI=512,tI=0,nI=1,rI=0;function iI(e,t,n){const r=[0,3,2,4,1,5,6,7];let i=0,o,a,s;return e>=t/n?(s=0,i=t/dlkDiv):e>=t/(n+n/2)?(s=1,i=t/(n+n/2)):e>=t/(2*n)?(s=2,i=t/(2*n)):(o=t*16/n/e,o&1?a=o/2+1:a=o/2,a>131072&&(a=131071),i=t*16/n/a,i&1?i=i/2+1:i=i/2,s=a>>3|r[a&7]<<14),[i,s]}function oI(e){let t,n,r,i;if(e<=0)throw new Error("Baud rate must be > 0");return[t,n]=iI(e,GR,16),r=n&65535,i=n>>16,[t,r,i]}class aI extends EventTarget{dtr=!0;rts=!0;constructor(t,n){super();const r=this;(async()=>{if(t==null)throw new Error("Could not find device");await t.open(),console.log("Opened:",t.opened),t.configuration===null&&(console.log("selectConfiguration"),await t.selectConfiguration(1)),await t.claimInterface(0),await t.selectConfiguration(1),await t.selectAlternateInterface(0,0);const[i,o,a]=oI(n.baudRate);console.log("Setting baud rate to",i),await t.controlTransferOut({requestType:"vendor",recipient:"device",request:3,value:o,index:a}),r.device=t,r.isClosing=!1;const s=await t.controlTransferOut({requestType:"vendor",recipient:"device",request:tI,value:rI,index:1});console.debug("reset result: ",s);const l=await t.controlTransferOut({requestType:"vendor",recipient:"device",request:nI,value:(this.dtr?XR:ZR)|(this.rts?JR:eI),index:1});console.debug("set control lines result: ",l),this.device.transferIn(1,64),r.readLoop(),r.dispatchEvent(new Event("ready"))})().catch(i=>{console.log("Error during FTDI setup:",i),r.dispatchEvent(new CustomEvent("error",{detail:i}))})}async readLoop(){let t;try{t=await this.device.transferIn(1,64)}catch(n){n.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.log("Device disconnected"),this.isClosing=!0,this.dispatchEvent(new Event("disconnected"))):console.log("Error reading data:",n)}if(t&&t.data&&t.data.byteLength&&t.data.byteLength>2){console.log(`Received ${t.data.byteLength-2} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(2)}))}!this.isClosing&&this.device.opened&&this.readLoop()}async read(){const{data:{buffer:t,byteLength:n}}=await this.device.transferIn(1,64),r=new Uint8Array(t);return n===2?this.read():{bytesRead:n-2,data:r.slice(2)}}async writeAsync(t){return await this.device.transferOut(2,t)}write(t,n){this.writeAsync(t).then(()=>{n()},r=>n(r))}async closeAsync(){this.isClosing=!0,this.dispatchEvent(new Event("disconnected"));try{console.log("Sending EOT"),await this.writeAsync([4]),await KR(2e3),await this.device.releaseInterface(0),await this.device.close(),console.log("Closed device")}catch(t){console.log("Error:",t)}}close(t){(async()=>(await this.closeAsync(),t()))()}}const sI=[75,150,300,600,1200,1800,2400,3600,4800,7200,9600,14400,19200,28800,38400,57600,115200,230400,460800,614400,921600,1228800,2457600,3e6,6e6],lI=1e3,uI=5e3,cI=34,vp=1,yp=2,fI=1,dI=1,Rw=129,hI=128,pI=7,mI=8,gI=9,vI=1,yI=2;class wI extends EventTarget{constructor(t,n){super(),this.isClosing=!1,this.bitrate=9600,this.deviceType=2,this.currentFlowControl=0,this.currentControlLinesValue=yp|vp,this.bitrate=n.baudRate,this.device=t}async controlTransferInWithTimeout({requestType:t,recipient:n,request:r,value:i,index:o},a,s=lI){return new Promise((l,u)=>{const c=new AbortController,f=d=>{c.signal.removeEventListener("abort",f),u(d.target)};c.signal.addEventListener("abort",f),setTimeout(()=>{c.abort("controlTransferIn timed out")},s),this.device.controlTransferIn({requestType:t,recipient:n,request:r,value:i,index:o},a).then(d=>{c.signal.aborted?u(`aborted, but we finally got our result: ${JSON.stringify(d)}`):d.data?.byteLength===a?l(d.data.buffer):u("controlTransferIn succeeded, but did not receive expected number of bytes")}).catch(u)})}async controlTransferOutWithTimeout({requestType:t,recipient:n,request:r,value:i,index:o,data:a},s=uI){return new Promise((l,u)=>{const c=new AbortController,f=d=>{c.signal.removeEventListener("abort",f),u(d.target)};c.signal.addEventListener("abort",f),setTimeout(()=>{c.abort("controlTransferOut timed out")},s),this.device.controlTransferOut({requestType:t,recipient:n,request:r,value:i,index:o},a).then(d=>{c.signal.aborted?u(`aborted, but we finally got our result: ${JSON.stringify(d)}`):d.bytesWritten===(a?a.byteLength:0)?l(d.status):u("controlTransferOut succeeded, but did not write expected number of bytes")}).catch(u)})}async testHxStatus(){return this.controlTransferInWithTimeout({requestType:"vendor",recipient:"device",request:fI,value:32896,index:0},1).then(()=>!0).catch(()=>!1)}async vendorRead(t,n){const r=(this.deviceType===3,Rw);return(await this.device.controlTransferIn({requestType:"vendor",recipient:"device",request:r,value:t,index:n},1)).data?.buffer}async vendorWrite(t,n){const r=this.deviceType===3?hI:dI;await this.device.controlTransferOut({requestType:"class",recipient:"device",request:r,value:t,index:n}).then(i=>{console.log(`vendorWrite success ${JSON.stringify(i)}`)}).catch(i=>{console.warn(`vendorWrite failed ${i}`)})}async setBaudRate(t){const r=sI.slice().sort((a,s)=>Math.abs(a-t)-Math.abs(s-t))[0];await this.device.controlTransferIn({requestType:"class",recipient:"interface",request:33,value:0,index:0},7),console.log("Setting baud rate to",r);const i=new ArrayBuffer(7),o=new DataView(i);o.setInt32(0,r,!0),o.setUint8(4,0),o.setUint8(5,0),o.setUint8(6,8),await this.device.controlTransferOut({requestType:"class",recipient:"interface",request:32,value:0,index:0},o)}async purgeHwBuffers(t,n){if(this.deviceType===3){let r=0;t&&(r|=vI),n&&(r|=yI),r!==0&&await this.vendorWrite(pI,r)}else t&&await this.vendorWrite(mI,0),n&&await this.vendorWrite(gI,0)}async resetDevice(){return this.purgeHwBuffers(!0,!0)}async open(){(async()=>{await this.device.open(),[this.iface]=this.device.configuration?this.device.configuration.interfaces:[],console.log("Claiming interface",this.iface.interfaceNumber),await this.device.claimInterface(this.iface.interfaceNumber),this.iface.alternate.endpoints.forEach(a=>{switch(a.direction){case"in":this.readEndpoint=a;break;case"out":this.writeEndpoint=a;break;default:console.error(`endpoint ${a.endpointNumber} has unexpected direction: ${a.direction}`);break}});const n=(await this.device.controlTransferIn({requestType:"standard",recipient:"device",request:6,value:256,index:0},255)).data;if(!n||n.byteLength<14)throw"Could not get device descriptors.";const r=this.device.usbVersionMajor,i=this.device.deviceVersionMajor,o=n.getInt8(7);if(this.device.deviceClass===2||o!=64)this.deviceType=0;else if(r===512){const a=await this.testHxStatus();a&&i===768?this.deviceType=1:a&&i===1280?this.deviceType=1:this.deviceType=3}else this.deviceType=2;await this.resetDevice(),await this.doBlackMagic(),await this.setControlLines(this.currentControlLinesValue),await this.setFlowControl(this.currentFlowControl),await this.setBaudRate(this.bitrate),this.isClosing=!1,await this.readLoop(),await this.setFlowControl(1),await this.setControlLines(255),this.dispatchEvent(new Event("ready"))})().catch(t=>{console.log("Error during PL2303 setup:",t),this.dispatchEvent(new CustomEvent("error",{detail:t}))})}async readLoop(){if(!this.readEndpoint){console.error("no read endpoint, aborting readLoop()"),await this.close();return}this.device.transferIn(this.readEndpoint.endpointNumber,64).then(t=>{if(t&&t.data&&t.data.byteLength){console.log(`Received ${t.data.byteLength} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(0)}))}else console.log("transferIn got no result, no result data, or data was empty")}).catch(t=>{t.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.warn("Device disconnected"),this.dispatchEvent(new Event("disconnected")),this.isClosing=!0):console.error("Error reading data:",t)}).finally(async()=>{!this.isClosing&&this.device.opened&&await this.readLoop()})}async close(){return this.isClosing=!0,this.dispatchEvent(new Event("disconnected")),new Promise((t,n)=>{setTimeout(async()=>{try{await this.device.releaseInterface(0),await this.device.close(),t()}catch(r){console.error("Error while closing:",r),n(r)}},2e3)})}async write(t){return new Promise((n,r)=>{if(!this.writeEndpoint){r("no writeEndpoint");return}this.device.transferOut(this.writeEndpoint?.endpointNumber,t).then(()=>{n({status:"ok",bytesWritten:t.byteLength})}).catch(i=>{console.error(`error writing to ${this.device.constructor.name}: ${i}`),r(i)})})}async doBlackMagic(){this.deviceType!==3&&(await this.vendorRead(33924,0),await this.vendorWrite(1028,0),await this.vendorRead(33924,0),await this.vendorRead(33667,0),await this.vendorRead(33924,0),await this.vendorWrite(1028,1),await this.vendorRead(33924,0),await this.vendorRead(33667,0),await this.vendorWrite(0,1),await this.vendorWrite(1,0),this.deviceType===0?await this.vendorWrite(2,36):await this.vendorWrite(2,68))}async setFlowControl(t){switch(console.log(`setFlowControl ${t}`),t){case 0:this.deviceType===3?await this.vendorWrite(10,255):await this.vendorWrite(0,0);break;case 1:this.deviceType==3?await this.vendorWrite(10,250):await this.vendorWrite(0,97);break;case 4:this.deviceType==3?await this.vendorWrite(10,238):await this.vendorWrite(0,193);break;default:throw`Unsupported flow control: ${t}`}this.currentFlowControl=t}async setDTR(t){let n;t?n=this.currentControlLinesValue|vp:n=this.currentControlLinesValue&~vp,await this.setControlLines(n)}async setRTS(t){let n;t?n=this.currentControlLinesValue|yp:n=this.currentControlLinesValue&~yp,await this.setControlLines(n)}async setControlLines(t){await this.controlTransferOutWithTimeout({requestType:"class",recipient:"interface",request:cI,value:t,index:0,data:void 0}),this.currentControlLinesValue=t}}const _I=95,wp=149,_p=154,Iw=161,SI=164,xI=4882,bI=3884,Lw=9496,EI=128,CI=64,TI=3,kI=32,MI=64,Aw=6790,DI=29987,OI=21795;class PI extends EventTarget{constructor(t,n){super(),this.isClosing=!1,this.bitrate=9600,this.dtr=!0,this.rts=!0,this.bitrate=n.baudRate,this.device=t}async vendorOut(t,n,r=0){await this.device.controlTransferOut({requestType:"vendor",recipient:"device",request:t,value:n,index:r}).then(i=>{console.log("vendorOut success ",i)}).catch(i=>{console.warn(`vendorOut failed ${i}`)})}async vendorIn(t,n,r,i){return this.device.controlTransferIn({requestType:"vendor",recipient:"device",request:t,value:n,index:r},i)}async checkState(t,n,r,i){const o=await this.vendorIn(n,r,0,i.byteLength);return o.status!=="ok"||!o.data?(console.error(`failed to send ${t}, status ${o.status}, data:`,o.data),!1):o.data.byteLength!==i.byteLength?(console.error(`error sending command ${t}, expected ${i.byteLength}, got ${o.data.byteLength} instead`),!1):o.data.buffer!==i?(console.error(`error sending command ${t}, expected `,i," got ",o.data.buffer),!1):!0}async setBaudRate(t){let n,r;if(t===921600)r=7,n=62208;else{for(n=1532620800/t,r=3;n>65520&&r>0;)n>>=3,r--;if(n>65520)throw console.error(`unsupported baud rate ${t}`),new Error(`unsupported baud rate ${t}`);n=65536-n}r|=128;const i=n&65280|r,o=n&255;console.debug(`set baud rate ${t}, v1=${i}, v2=${o}`),await this.vendorOut(_p,xI,i),await this.vendorOut(_p,bI,o)}async open(){(async()=>{await this.device.open();const t=this.device.configuration?this.device.configuration.interfaces:[];await Promise.all(t.map(async r=>{console.log("Claiming interface",r.interfaceNumber);try{return await this.device.claimInterface(r.interfaceNumber)}catch(i){return console.error("error claiming interface ",r,`;, reason: ${i}`)}})),t[t.length-1].alternate.endpoints.forEach(r=>{if(r.type==="bulk")switch(r.direction){case"in":this.readEndpoint=r;break;case"out":this.writeEndpoint=r;break;default:console.error(`endpoint ${r.endpointNumber} has unexpected direction: ${r.direction}`);break}else console.debug("ignoring non-bulk endpoint: ",r)}),await this.init(),await this.setBaudRate(this.bitrate),this.isClosing=!1,await this.readLoop(),this.dispatchEvent(new Event("ready"))})().catch(t=>{console.log("Error during CH34x setup:",t),this.dispatchEvent(new CustomEvent("error",{detail:t}))})}async readLoop(){if(!this.readEndpoint){console.error("no read endpoint, aborting readLoop()"),await this.close();return}this.device.transferIn(this.readEndpoint.endpointNumber,this.readEndpoint.packetSize).then(t=>{if(t&&t.data&&t.data.byteLength){console.log(`Received ${t.data.byteLength} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(0)}))}else console.log("transferIn got no result, no result data, or data was empty")}).catch(t=>{t.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.warn("Device disconnected"),this.dispatchEvent(new Event("disconnected")),this.isClosing=!0):console.error("Error reading data:",t)}).finally(async()=>{!this.isClosing&&this.device.opened&&await this.readLoop()})}async close(){return this.isClosing=!0,this.dispatchEvent(new Event("disconnected")),new Promise((t,n)=>{setTimeout(async()=>{try{await this.device.releaseInterface(0),await this.device.close(),t()}catch(r){console.error("Error while closing:",r),n(r)}},2e3)})}async write(t){return new Promise((n,r)=>{if(!this.writeEndpoint){r("no writeEndpoint");return}this.device.transferOut(this.writeEndpoint?.endpointNumber,t).then(()=>{n({status:"ok",bytesWritten:t.byteLength})}).catch(i=>{console.error(`error writing to ${this.device.constructor.name}: ${i}`),r(i)})})}async setControlLines(){return this.vendorOut(SI,~((this.dtr?kI:0)|(this.rts?MI:0)),0)}async init(){await this.checkState("init 1",_I,0,new Uint8Array([-1,0])),await this.vendorOut(Iw,0,0),await this.setBaudRate(9600),await this.checkState("init 4",wp,Lw,new Uint8Array([-1,0])),await this.vendorOut(_p,Lw,CI|EI|TI),await this.checkState("init 6",wp,1798,new Uint8Array([-1,-1])),await this.vendorOut(Iw,20511,55562),await this.setBaudRate(9600),await this.setControlLines(),await this.checkState("init 10",wp,1798,new Uint8Array([-1,-1]))}}class Fw{device;driver;connected=!1;readable;writable;constructor(t,n){this.device=t,this.driver=n,this.readable=n.getReadableStreamFromDataSource(),this.writable=n.getWritableStreamFromDataSink()}getInfo(){return{usbVendorId:this.device.vendorId,usbProductId:this.device.productId}}async open(t){return new Promise((n,r)=>{this.driver.open(this.device,t).then(()=>{this.connected=!0,n(),console.log(`${this.driver.name} opened`)}).catch(r)})}}class z0 extends oC{options;name;noDataWaitTimeMs=300;readable;writable;inboundDataQueue=[];constructor(t){super(),this.name=this.constructor.name,this.options=t}getReadableStreamFromDataSource(){const t=this;return new ReadableStream({start(n){r().catch(i=>n.error(i));async function r(){return t.dataRequest().then(i=>i.length===0?(Cl("No data from source: closing"),n.close(),new Uint8Array):(n.enqueue(i),r()))}},cancel(){Cl("cancel() called on underlying source"),t.closeImpl()}})}getWritableStreamFromDataSink(){const t=new CountQueuingStrategy({highWaterMark:1}),n=new TextDecoder,r=this;return new WritableStream({write(i){const o=n.decode(i);return console.log(`sending to ${r.name}: ${o}`),new Promise((a,s)=>{r.write(i).then(l=>{console.log(`successfully sent to ${r.name}: ${l.status}, bytesWritten: ${l.bytesWritten}`),a()}).catch(l=>{console.log(`error sending to ${r.name}: ${l.toString()}`),s(l)})})},close(){console.log(`${r.name} sink closed`)},abort(i){console.log(`${r.name} Sink error:`,i)}},t)}async dataRequest(){if(this.inboundDataQueue.length===0)return console.debug(`dataRequest() called, closed? ${this.closed}`),this.closed?Promise.resolve(new Uint8Array):new Promise(n=>{setTimeout(()=>{this.dataRequest().then(r=>{n(r)})},this.noDataWaitTimeMs)});const t=this.inboundDataQueue.splice(0,this.inboundDataQueue.length);return new Promise(n=>{const r=t.reduce((o,a)=>o+a.length,0),i=new Uint8Array(r);t.reduce((o,a)=>(i.set(a,o),o+a.length),0),n(i)})}}class NI extends z0{delegate;constructor(){super([{filters:[{vendorId:Aw,productId:DI},{vendorId:Aw,productId:OI}]}])}async open(t,n){return new Promise((r,i)=>{this.delegate=new PI(t,n),this.delegate.addEventListener("data",o=>{const a=o.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",o=>{i(o)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0}),this.delegate.open()})}async closeImpl(){return this.delegate?.close()}async write(t){return this.delegate?this.delegate.write(t):new Promise((n,r)=>{r("not yet initialized")})}}class RI extends z0{delegate;constructor(){super([{filters:[{vendorId:1659,productId:9123},{vendorId:1659,productId:8963}]}])}async open(t,n){return new Promise((r,i)=>{this.delegate=new wI(t,n),this.delegate.addEventListener("data",o=>{const a=o.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",o=>{i(o)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0}),this.delegate.open()})}async closeImpl(){return this.delegate?.close()}async write(t){return this.delegate?this.delegate.write(t):new Promise((n,r)=>{r("not yet initialized")})}}class II extends z0{delegate;constructor(){super([{filters:[{vendorId:1027,productId:24577}]}])}async open(t,n){return new Promise((r,i)=>{this.delegate=new aI(t,n),this.delegate.addEventListener("data",o=>{const a=o.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",o=>{i(o.detail)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0})})}async closeImpl(){return this.delegate.closeAsync()}async write(t){return this.delegate.writeAsync(t)}}class ga{static supportedDrivers=[new II,new RI,new NI];static async getPorts(){const t=[];return navigator.usb&&(await navigator.usb.getDevices()).forEach(r=>{const i=ga.findDriverForDevice(r);i&&t.push(new Fw(r,i))}),t}async requestPort(){return new Promise((t,n)=>{const r=ga.supportedDrivers.flatMap(i=>i.options.flatMap(o=>o.filters));navigator.usb.requestDevice({filters:r}).then(i=>{const o=ga.findDriverForDevice(i);o?t(new Fw(i,o)):n(`could not find driver for device ${JSON.stringify(i)}`)})})}static findDriverForDevice(t){return this.supportedDrivers.find(n=>n.options.flatMap(i=>i.filters).find(i=>i.vendorId==t.vendorId&&i.productId===t.productId))}}class LI{listeners=[];intervalMs;intervalId;constructor(t=1e3){this.intervalMs=t}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}tick(){const t=Date.now();this.listeners.forEach(n=>{n.tick(t)})}start(){this.intervalId=setInterval(()=>{this.tick()},this.intervalMs)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}}const mC=new LI;function W0(e){const t=_.useContext(xt),n=()=>{},r=_.useRef(n);_.useEffect(()=>{r.current=e},[e]),_.useEffect(()=>{const i={tick:()=>{r.current()}};return t.timingSignal.addListener(i),()=>t.timingSignal.removeListener(i)},[])}const Me=lC,ns=new WR,Xr=new wR,gC=new _R(Xr,ns),AI=new QR;function FI(){ns.setPortaCountClient(Xr)}function $I(){gt.synth.getVoices(),gt.setSpeechEnabled(Me.getSetting(H.SPEECH_ENABLED));const e=gt.findVoiceByName(Me.getSetting(H.SPEECH_VOICE));e&&gt.setSelectedVoice(e),Xr.addListener({particleConcentrationReceived(r){if(!gt.isSayingSomething()&&Me.speechEnabled&&Me.sayParticleCount){const i=r.concentration,o=Math.ceil(i),a=o<20?(Math.ceil(i*10)/10).toFixed(1):o,s=Me.verboseSpeech?`Particle count is ${a}`:a.toString();gt.sayIt(s)}}});let t="";const n={instructionsChanged(r){const i=r.split(".",2)[0];t!==r&&(t=r,gt.sayItLater(i))},estimatedFitFactorChanged(r){Me.sayEstimatedFitFactor&&gt.sayItPolitely(`Estimated Fit Factor is ${r.toFixed(0)}`)}};ns.addListener(n)}function jI(e){const t=Me.getProtocolDefinition(e),n=sC(t),r=Xr.settings,i=r.numExercises||n;i!==n&&console.warn(`numExercises (${i} does not match num exercise for protocol ${e} (${n})`);const o=[];let a=0;return t.forEach(s=>{if(s.mask_sample){a++;const l={instructions:s.instructions,ambient_purge:r.ambientPurge||vt.defaultAmbientPurgeDuration,ambient_sample:r.ambientSample||vt.defaultAmbientSampleDuration,mask_purge:r.maskPurge||vt.defaultMaskPurgeDuration,mask_sample:r.maskSample.get(a)||vt.defaultMaskSampleDuration};a>i?console.log(`Ignoring extra exercises. Device is configured for ${i}. Ignoring exercise ${a}`):o.push(l)}}),o.push({instructions:"finalize",ambient_purge:r.ambientPurge,ambient_sample:r.ambientSample,mask_purge:0,mask_sample:0}),o}async function vC(){const e=navigator.serial?(await navigator.serial.getPorts()).filter(a=>a.getInfo().usbVendorId):[],t=await ga.getPorts(),n=t.length>0?t[0]:null,r=e.length>0?e[0]:null,i=Me.getSetting(H.SELECTED_DATA_SOURCE);let o=null;i===We.WebUsbSerial&&n?o=n:i===We.WebSerial&&r?o=r:n?(o=n,Me.saveSetting(H.SELECTED_DATA_SOURCE,We.WebUsbSerial)):r&&(o=r,Me.saveSetting(H.SELECTED_DATA_SOURCE,We.WebSerial)),o?(console.debug(`auto-connecting to port ${JSON.stringify(o)}`),Xr.connect(o)):Me.getSetting(H.ENABLE_AUTO_CONNECT)&&setTimeout(()=>vC(),1500)}async function HI(){const e=new Date,t=new Date(e.getTime()-e.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);function n(r){const i=new Date(r);try{return new Date(i.getTime()-i.getTimezoneOffset()*60*1e3).toISOString().substring(0,10)===t}catch{return!1}}return Rn.getData().then(r=>{const i=ol(r.map(s=>s.Mask)),o=ol(r.map(s=>s.Notes)),a=ol(r.filter(s=>n(s.Time)).map(s=>s.Participant));Me.saveSetting(H.COMBINED_MASK_LIST,i),Me.saveSetting(H.TEST_NOTES,[...o].sort(ts.compare)),Me.saveSetting(H.COMBINED_PARTICIPANT_LIST,a)})}function UI(){Xr.baudRate=Me.getSetting(H.BAUD_RATE),Xr.syncOnConnect=Me.getSetting(H.SYNC_DEVICE_STATE_ON_CONNECT)}function VI(){let e=!1,t=kt.Disconnected;function n({executorRunning:i,activity:o}){i!==void 0&&(e=i),o!==void 0&&(t=o),Me.saveSetting(H.ACTIVITY,e?kt.Testing:t)}const r={started(){n({executorRunning:!0})},cancelled(){n({executorRunning:!1})},completed(){n({executorRunning:!1})},activityChanged(i){n({activity:i})},connectionStatusChanged(i){switch(i){case $t.DISCONNECTED:n({activity:kt.Disconnected});break;default:n({activity:kt.Idle});break}}};Xr.addListener(r),gC.addListener(r)}function BI(){const e={newTestStarted(n){const r=q0(n.Mask);if(!r)return;const i=Me.getSetting(H.COMBINED_MASK_LIST);new Set(i.map(a=>a.toLowerCase())).has(r.toLowerCase())||Me.saveSetting(H.COMBINED_MASK_LIST,[...i,r].toSorted(ts.compare))}};ns.addListener(e);const t=ol([...Me.getSetting(H.MASK_LIST),...Me.getSetting(H.COMBINED_MASK_LIST)]);Me.saveSetting(H.COMBINED_MASK_LIST,t),Me.getSetting(H.AUTO_UPDATE_MASK_LIST)&&Me.saveSetting(H.MASK_LIST,t)}function YI(){const e={newTestStarted(n){const r=q0(n.Participant);if(!r)return;const i=Me.getSetting(H.COMBINED_PARTICIPANT_LIST);new Set(i.map(a=>a.toLowerCase())).has(r.toLowerCase())||Me.saveSetting(H.COMBINED_PARTICIPANT_LIST,[...i,r].toSorted(ts.compare))}};ns.addListener(e);const t=ol([...Me.getSetting(H.PARTICIPANT_LIST),...Me.getSetting(H.COMBINED_PARTICIPANT_LIST)]);Me.saveSetting(H.COMBINED_PARTICIPANT_LIST,t),Me.saveSetting(H.PARTICIPANT_LIST,t)}function zI(){Object.entries(tg).forEach(([e,t])=>{la.setDefault(e,t)})}async function WI(){zI(),await Me.loadAllSettings(),await Rn.open(),await gd.open(),UI(),$I(),FI(),await HI(),VI(),BI(),YI(),mC.start(),Me.getSetting(H.ENABLE_AUTO_CONNECT)&&await vC()}function q0(e){return(e??"").replaceAll(/\s+/g," ")}function ol(e){const t=new Set;return[...e.reduce((r,i)=>{const o=q0(i),a=o.toLowerCase();return a&&!t.has(a)&&(t.add(a),r.add(o)),r},new Set)].toSorted(ts.compare)}await WI();const yC={portaCountClient:Xr,settings:Me,dataCollector:ns,protocolExecutor:gC,portaCountSimulator:AI,timingSignal:mC},xt=_.createContext(yC);function qI(e,t){const n=_.useRef(),r=_.useRef(),i=o=>{r.current===void 0&&(r.current=o),e({frameCurrentTime:o}),n.current=requestAnimationFrame(i)};_.useEffect(()=>(n.current=requestAnimationFrame(i),()=>{n.current&&cancelAnimationFrame(n.current)}),t)}function QI(e,t={}){const n=_.useContext(UR),[r,i]=_.useState(n.getConfig(e,t));return _.useEffect(()=>{const s={subscriptions:()=>[e],configChanged(l,u){i(u)}};return n.addListener(s),()=>n.removeListener(s)},[]),[r,s=>{const l=typeof s=="function"?s(n.getConfig(e,t)):s;n.setConfig(e,l),i(l)},()=>n.getConfig(e)]}function ae(e){return QI(e)}function GI(){const e=_.useContext(xt),t=e.settings.getProtocolNames(),[n,r]=ae(H.SELECTED_PROTOCOL),i=o=>{const a=n;r(o),a!==o&&e.protocolExecutor.protocolIsExecuting()&&e.protocolExecutor.cancel()};return S.jsx("select",{id:"protocol-select",onChange:o=>i(o.target.value),value:n,children:t.map(o=>S.jsx("option",{value:o,children:o},o))})}var wC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$w=R.createContext&&R.createContext(wC),KI=["attr","size","title"];function XI(e,t){if(e==null)return{};var n=ZI(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZI(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sf.apply(this,arguments)}function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(n),!0).forEach(function(r){JI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JI(e,t,n){return t=eL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eL(e){var t=tL(e,"string");return typeof t=="symbol"?t:t+""}function tL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _C(e){return e&&e.map((t,n)=>R.createElement(t.tag,lf({key:n},t.attr),_C(t.child)))}function it(e){return t=>R.createElement(nL,sf({attr:lf({},e.attr)},t),_C(e.child))}function nL(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=XI(e,KI),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),R.createElement("svg",sf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:lf(lf({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&R.createElement("title",null,o),e.children)};return $w!==void 0?R.createElement($w.Consumer,null,n=>t(n)):t(wC)}function rL(e){return it({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM6 4.5l6 3.5-6 3.5z"},child:[]}]})(e)}function iL(e){return it({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM5 5h6v6h-6z"},child:[]}]})(e)}function oL(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707m0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707m-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707"},child:[]}]})(e)}function aL(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},child:[]}]})(e)}function Hw(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 4v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2m4.271 1.055a.5.5 0 0 1 .52.038L8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .271-.445"},child:[]}]})(e)}function sL(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 9a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3A.5.5 0 0 1 6 9M3.854 4.146a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708z"},child:[]},{tag:"path",attr:{d:"M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"},child:[]}]})(e)}function SC(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 2A2.5 2.5 0 0 0 10 4.5a.5.5 0 0 1-1 0A3.5 3.5 0 1 1 12.5 8H.5a.5.5 0 0 1 0-1h12a2.5 2.5 0 0 0 0-5m-7 1a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 1 1 2 2h-5a.5.5 0 0 1 0-1h5a1 1 0 0 0 0-2M0 9.5A.5.5 0 0 1 .5 9h10.042a3 3 0 1 1-3 3 .5.5 0 0 1 1 0 2 2 0 1 0 2-2H.5a.5.5 0 0 1-.5-.5"},child:[]}]})(e)}function xC(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"},child:[]}]})(e)}function bC(e){return it({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,104a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,104Zm-8,24H88a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Zm88-24v24a32,32,0,0,1-32,32h-5.19c-7.19,15.8-21.79,29.43-43.23,40.16a191.16,191.16,0,0,1-46.15,15.71,7.93,7.93,0,0,1-2.86,0,191.16,191.16,0,0,1-46.15-15.71C59,189.43,44.38,175.8,37.19,160H32A32,32,0,0,1,0,128V104A32,32,0,0,1,32,72h.85a16,16,0,0,1,9.68-10l80-29.09a16.06,16.06,0,0,1,10.94,0l80,29.09a16,16,0,0,1,9.68,10H224A32,32,0,0,1,256,104ZM32.55,144a58.74,58.74,0,0,1-.55-8V88a16,16,0,0,0-16,16v24a16,16,0,0,0,16,16ZM208,136V77.09L128,48,48,77.09V136c0,45,69.09,61.52,80,63.84C138.89,197.52,208,181,208,136Zm32-32a16,16,0,0,0-16-16v48a58.74,58.74,0,0,1-.55,8H224a16,16,0,0,0,16-16Z"},child:[]}]})(e)}function lL(e){return it({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,128a79.94,79.94,0,0,0-32.7-64.47l-6.24-34.38A16,16,0,0,0,153.32,16H102.68A16,16,0,0,0,86.94,29.15L80.7,63.53a79.9,79.9,0,0,0,0,128.94l6.24,34.38A16,16,0,0,0,102.68,240h50.64a16,16,0,0,0,15.74-13.15l6.24-34.38A79.94,79.94,0,0,0,208,128ZM102.68,32h50.64l3.91,21.55a79.75,79.75,0,0,0-58.46,0ZM64,128a64,64,0,1,1,64,64A64.07,64.07,0,0,1,64,128Zm89.32,96H102.68l-3.91-21.55a79.75,79.75,0,0,0,58.46,0ZM120,128V88a8,8,0,0,1,16,0v32h32a8,8,0,0,1,0,16H128A8,8,0,0,1,120,128Z"},child:[]}]})(e)}function uL(e){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M224 232a32 32 0 0 1 64 0m160-32h16m-400 0H48m16 0c0 96 16 128 80 128s80-32 80-128c0 0-16-16-80-16s-80 16-80 16zm384 0c0 96-16 128-80 128s-80-32-80-128c0 0 16-16 80-16s80 16 80 16z"},child:[]}]})(e)}function cL(e){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 256a112 112 0 1 0-112-112 112 112 0 0 0 112 112zm0 32c-69.42 0-208 42.88-208 128v64h416v-64c0-85.12-138.58-128-208-128z"},child:[]}]})(e)}function fL(e){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 112 48v16H96a64 64 0 0 0-64 64v12a4 4 0 0 0 4 4h440a4 4 0 0 0 4-4v-12a64 64 0 0 0-64-64zm61 112H35a3 3 0 0 0-3 3v237a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V179a3 3 0 0 0-3-3zM224 307.43A28.57 28.57 0 0 1 195.43 336h-70.86A28.57 28.57 0 0 1 96 307.43v-70.86A28.57 28.57 0 0 1 124.57 208h70.86A28.57 28.57 0 0 1 224 236.57z"},child:[]}]})(e)}function Mu({duration:e,source:t,state:n,override:r}){return S.jsxs("div",{className:`${t}-${n}-segment`,style:{flexBasis:`${e}px`,flexGrow:e,minWidth:"0px"},children:[t===Te.MASK&&n===Mn.SAMPLE&&Ge(1e3*e),r&&` (${r})`]})}function dL({stage:e,elementRef:t,currentTestResults:n,exerciseNum:r,currentEstimate:i}){const o=e.ambient_purge+e.ambient_sample+e.mask_purge+e.mask_sample,a=i!==void 0?i:r&&n?n[`Ex ${r}`]:void 0;return S.jsxs("div",{className:"protocol-stage-element",ref:t,style:{flexBasis:`${o}px`,flexGrow:o,overflow:"hidden"},children:[S.jsx("div",{className:"stage-instructions",children:e.instructions.split(".")[0]}),S.jsxs("div",{className:"stage-segments",children:[S.jsx(Mu,{duration:e.ambient_purge,source:Te.AMBIENT,state:Mn.PURGE}),S.jsx(Mu,{duration:e.ambient_sample,source:Te.AMBIENT,state:Mn.SAMPLE}),S.jsx(Mu,{duration:e.mask_purge,source:Te.MASK,state:Mn.PURGE}),S.jsx(Mu,{duration:e.mask_sample,source:Te.MASK,state:Mn.SAMPLE,override:a})]})]})}function hL(e){return it({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"},child:[]}]})(e)}function pL(e){return it({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(e)}function mL(){const t=_.useContext(xt),[n]=_.useState(t.dataCollector),[r,i]=_.useState(""),o=_.useRef(null),[a,s]=_.useState([0,0]),l=_.useMemo(()=>o.current?o.current.clientHeight:30*1.5,[o.current]);function u(h){if(o.current){const m=f(h);o.current.style.fontSize=m+"px"}}function c(h,m,g){const v=m.split(/\s+/);let p=0,w=0;return v.forEach(y=>{const x=y.length*h;w+x<g?w+=x+h:(p++,w=x)}),p}function f(h){let m=1;if(o.current){const g=o.current.clientHeight>window.innerHeight*.7?o.current.clientHeight:l;console.debug(`calculateFontSize max height ${g}`);const v=o.current.clientWidth,p=h.length,w=v/p,y=Math.sqrt(v*g/p);for(let x=w;x<y&&!(c(x,h,v)*x>g);x++)m=x}return Math.max(m,30)}const d={instructionsChanged(h){i(h.replace(/\./,`.
`))}};return _.useEffect(()=>{n.addListener(d);const h=new ResizeObserver(([m])=>{s([m.target.clientWidth,m.target.clientHeight])});return o.current&&h.observe(o.current),()=>{n.removeListener(d),h.disconnect()}},[]),_.useEffect(()=>{u(r)},[r,a]),S.jsxs("fieldset",{style:{display:"inline-block",flexGrow:1,height:"inherit"},className:"info-box-compact",children:[S.jsx("legend",{children:"Test Instructions"}),S.jsx("textarea",{id:"test-instructions",ref:o,style:{width:"100%",minHeight:"1em",height:"inherit",overflow:"auto",resize:"none",border:"none",alignContent:"center",textAlign:"center",textWrap:"wrap",whiteSpaceCollapse:"collapse"},readOnly:!0,value:r,onChange:()=>null})]})}function gL(e){return it({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2 22 3.41zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59 3.41 22z"},child:[]}]})(e)}function vL(e){return it({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"circle",attr:{cx:"7",cy:"12",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17",cy:"12",r:"1.5"},child:[]}]})(e)}function Du({icon:e,text:t,children:n}){return S.jsxs("div",{className:"icon-text svg-container thin-border blue-bg number-field",style:{display:"inline-flex",gap:"0.2em"},children:[S.jsx("div",{className:"wide-display",children:t}),S.jsx("div",{className:"narrow-display",children:e?e({}):null}),n]})}function yL({...e}){const t=_.useContext(xt),n=t.protocolExecutor,r=t.portaCountClient,i=t.dataCollector,[o,a]=_.useState(),[s,l]=_.useState(Date.now()),[u,c]=_.useState(!1),[f]=ae(H.SELECTED_PROTOCOL),[d,h]=_.useState({}),[m,g]=_.useState(!0),[v,p]=_.useState([]),[w,y]=_.useState([]),[x,E]=_.useState(!1),[b,C]=_.useState(0),[k,N]=_.useState(Ge(0)),A=_.useRef(null),O=_.useRef(null),V=_.useRef(null),I=n.lastAmbientSegment?vi(n.lastAmbientSegment):void 0,T=o?vi(o):void 0,P=I&&T?md(I/T):"?",[D]=ae(H.ENABLE_TEST_INSTRUCTIONS_ZOOM),[$]=ae(H.ACTIVITY),[M,F]=ae(H.ZOOM_INSTRUCTIONS),[B]=ae(H.SHOW_EXTERNAL_CONTROL);_.useEffect(()=>{o&&q(o)},[o]),_.useEffect(()=>{F(D&&$===kt.Testing)},[D,$]);function q(j){const X=aC(j),he=j.index===o?.index,ve=j.duration*1e3-(Date.now()-s);if(!X)return"";const Ht=d[`Ex ${j.exerciseNumber}`];return Ht?`done - ${Ht}`:he?ve>0?`${Ge(ve)} (${P})`:`${Ge(ve)} (${P})`:Ge(1e3*j.duration)}function G(){const j={},X={},he=uC(v);v.forEach(ve=>{X[ve.index]=ve.duration,j[ve.stageIndex]=(j[ve.stageIndex]??0)+ve.duration}),C(he)}function me(j){j.index===0&&G(),a(j),l(j.segmentStartTimeMs||Date.now()),c(!0)}function ce(){n.currentSegment&&a(n.currentSegment)}_.useEffect(()=>{const j={testStarted(X){E(!0),a(v[0]),l(X),ne({source:Ee.Internal})},testTerminated(){E(!1),a(void 0)},fitFactorResultsReceived(X){if(X.exerciseNum==="Final")E(!1),a(void 0);else{const he=v.reduce((ve,Ht,Ih,pO)=>ve||(Ht.exerciseNumber===X.exerciseNum+1?pO[Ih]:null),null);a(he||void 0),l(X.timestamp)}}};return r.addListener(j),()=>{r.removeListener(j)}},[v]),_.useEffect(()=>{const j={started(){c(!0)},segmentDataUpdated(){},segmentChanged(he){me(he)},cancelled(){A.current&&A.current.classList.replace("in-progress","paused"),c(!1),a(void 0)},completed(){c(!1),a(void 0)}},X={currentTestUpdated(he){h(he),g(!0)}};return n.addListener(j),i.addListener(X),ne({}),ce(),()=>{n.removeListener(j),i.removeListener(X)}},[]),_.useEffect(()=>{h({}),ne({}),g(!0)},[f]),_.useEffect(()=>{u?O.current?.classList.replace("idle","in-progress"):O.current?.classList.replace("in-progress","idle")},[u]),W0(ge);function ne({protocolName:j=f,source:X=Ee.External}){const he=X===Ee.External?t.settings.getProtocolDefinition(j):jI(j);y(he),p(af(he)),g(!0)}function ge(){(m||o&&o.state&&o.state!==Mn.IDLE)&&(N(Ge(z(1e3*(o?.duration??0)))),G(),g(!1))}function z(j,X=!0){const he=Date.now()-s,ve=Math.min(he,j);return o?o.protocolStartTimeOffsetSeconds*1e3+(X?ve:he):0}qI(()=>{if(!(!u&&!x)&&A.current){const j=1e3*(o?.duration??0),X=z(j,!x);Date.now()-s>=j?A.current.classList.replace("in-progress","paused"):A.current.classList.replace("paused","in-progress"),o&&(A.current.style.right=`calc(${100-.1*X/b}% - 12px)`)}},[u,x,o]);function re(){n.cancel()}function L(){return o&&o.source===Te.MASK&&T&&!isNaN(T)?T.toFixed(T<100?1:0):"?"}function Q(){if(!o)return"?";if(o.source===Te.AMBIENT){const j=vi(o);if(j)return j.toFixed(0)}return I?I.toFixed(0):"?"}function de(){i.recordTestStart(Ee.Manual)}_.useEffect(()=>{F(D&&$===kt.Testing)},[$,D]);function Y(){F(j=>!j)}function le(){const j=[];let X=0;return w.forEach((he,ve)=>{he.mask_sample&&X++,j.push(S.jsx(dL,{elementRef:V,stage:he,exerciseNum:X,currentTestResults:d,currentEstimate:o&&o.stageIndex===ve?P:void 0},ve))}),j}return S.jsxs("section",{id:"custom-control-panel",...e,style:{paddingTop:"0.5em",height:M?"inherit":"auto",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[S.jsxs("fieldset",{id:"protocol-executor-panel-main",ref:O,className:"idle",style:{minWidth:0,overflow:"auto",paddingBottom:"0.2em"},children:[S.jsxs("legend",{style:{textAlign:"start",display:"inline-flex",flexWrap:"wrap",paddingInline:"0.5rem"},children:["Protocol ",S.jsx(GI,{}),B&&S.jsxs("button",{disabled:u||r.state.connectionStatus!==$t.RECEIVING,className:"icon-button start",onClick:()=>n.executeProtocol(v),children:["Start ",S.jsx("div",{className:"svg-container",children:S.jsx(rL,{})})]}),B&&S.jsxs("button",{disabled:!u,onClick:()=>re(),className:"icon-button stop",children:["Stop ",S.jsx("div",{className:"svg-container",children:S.jsx(iL,{})})]}),S.jsxs("button",{disabled:u,onClick:()=>de(),className:"icon-button",children:["Manual ",S.jsx("div",{className:"svg-container",children:S.jsx(pL,{})})]}),S.jsxs("div",{style:{display:"inline-flex"},children:[S.jsxs(Du,{icon:lL,text:"Time:",children:[k," / ",Ge(b*1e3)]}),S.jsx(Du,{icon:SC,text:"Ambient:",children:Q()}),S.jsx(Du,{icon:bC,text:"Mask:",children:L()}),S.jsx(Du,{icon:uL,text:"Estimate:",children:P})]})]}),S.jsxs("section",{id:"protocol-visualizer",style:{position:"relative"},children:[S.jsx("div",{id:"protocol-pos-pointer",ref:A,className:"protocol-position-pointer paused",style:{float:"inline-start",zIndex:1}}),S.jsx("div",{id:"new-protocol-visualizer-container",style:{display:"flex",flexDirection:"row"},children:le()})]})]}),S.jsxs("div",{id:"testing-mode-container",className:`test-instructions-container ${M&&"test-in-progress"}`,children:[S.jsx("div",{style:{padding:"0.2em",position:"absolute",right:0,backgroundColor:"inherit",aspectRatio:1,zIndex:10},onClick:()=>Y(),children:M?S.jsx(gL,{}):S.jsx(oL,{})}),S.jsx(mL,{})]})]})}function wL(e){return it({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 14 4 9l5-5"},child:[]},{tag:"path",attr:{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11"},child:[]}]})(e)}function xo({debounce:e=!0,debounceDelay:t=500,resize:n=!0,onChange:r,initialValue:i,label:o,placeholder:a,autocompleteOptions:s=[],id:l,oneLine:u=!1,scrollable:c=!1,onChangeOnlyOnBlur:f,className:d}){const[h,m]=R.useState(i),g=_.useRef(null),v=_.useRef(null),[p,w]=_.useState(null),[y,x]=_.useState(!1),[E,b]=_.useState(!0),[C,k]=_.useState(!0),[N,A]=_.useState(0),O=_.useRef(null),V=_.useRef(null),I=_.useMemo(()=>{const L=Array.isArray(s)?s:s();if((h??"").trim().length===0||!C)return L;function de(Y){const le=Y.value.toLowerCase();return(h??"").toLowerCase().split(/\s+/).every(j=>le.includes(j))}return L.filter(Y=>de(Y))},[s,h,C]),T=_.useCallback(L=>{const Q=I.length;switch(L.ctrlKey?`Ctrl-${L.key.toUpperCase()}`:L.code){case"Escape":if(h!==i){ce();break}if(C&&Q<N){k(!1);break}M();break;case"Ctrl-N":case"Ctrl-F":case"ArrowDown":if(!Q)break;w(Y=>(Y===null?0:Y+1)%Q),x(!0);break;case"Ctrl-P":case"Ctrl-B":case"ArrowUp":if(!Q)break;w(Y=>(Q+(Y===null?Q-1:Y-1))%Q),x(!0);break;case"Enter":if(!y||!Q||p===null)break;Q===1&&I[0].value.toLowerCase()===(h??"").toLowerCase()?(L.preventDefault(),ne(h)):Q>0&&(L.preventDefault(),ne(I[p].value)),M();break;case"Tab":y&&Q?p===null||Q===1&&I[0].value.toLowerCase()===(h??"").toLowerCase()?ne(h):Q>0?ne(I[p].value):console.debug("tab fallthrough"):ne(h),M();break;default:k(!0),x(!0);break}},[I,p,h,y]);_.useEffect(()=>{P(h)},[]),_.useEffect(()=>{m(i)},[i]),_.useEffect(()=>{if(P(h),h||w(null),!f&&r)if(e){const L=setTimeout(()=>{i!==h&&r(h)},t);return()=>clearTimeout(L)}else r(h)},[h]),_.useEffect(()=>{if(V.current&&p!==null){const L=V.current.children.item(p);L&&L.scrollIntoView({block:"center"}),b(!1)}},[p]),_.useEffect(()=>{w(L=>L===null||I.length===0?null:Math.min(L,I.length-1))},[I]),_.useEffect(()=>{if(y){let L=function(){document.removeEventListener("click",Q),document.removeEventListener("focusin",de),document.removeEventListener("mousemove",Y)};const Q=le=>{if(console.debug("global click listener:",le),le.target!==V.current){if(O.current){const j=O.current.getBoundingClientRect();if(le.clientX>=j.left&&le.clientX<=j.right&&le.clientY>=j.top&&le.clientY<=j.bottom)return}v.current&&(console.debug("clicked outside component, value is",h,"event value is",v.current.value),ne(v.current.value),M(),L())}},de=le=>{E&&le.target!==v.current&&v.current&&(console.debug("focusIn different element, value is",v.current.value),ne(v.current.value),M(),L())},Y=le=>{le.type==="mousemove"&&b(!0)};return document.addEventListener("click",Q),document.addEventListener("focusin",de),document.addEventListener("mousemove",Y),()=>{L()}}},[y,E]),_.useEffect(()=>{const L=Array.isArray(s)?s:s();A(L.length)},[s]);function P(L){n&&g.current&&(g.current.dataset.value=L)}function D(L){console.debug("textarea onchange",L.target.value),m(L.target.value)}function $(){E&&w(null)}function M(){w(null),x(!1),k(!0),v.current&&v.current.blur()}function F(L){ne(L.value),M()}function B(L){I.length>1&&L.type==="mousedown"&&document.activeElement===v.current&&x(Q=>!Q)}function q(){I.length>1&&x(!0)}const G=_.useCallback(()=>I.map(L=>{const Q=p!==null&&I[p]===L;return S.jsx("li",{className:`autocomplete-option ${Q&&"selected"}`,onMouseEnter:()=>$(),onClick:()=>F(L),children:L.label},L.value)}),[I,p]);function me(){m("")}function ce(){m(i)}function ne(L){if(console.debug(`updateValue '${i}' => '${L}'`),L===i){console.debug("no change");return}m(L),r&&r(L)}function ge(L){if(console.debug("onBlur handler",h,"autocomplete visible?",y),y){console.debug("let autocomplete handle update"),L.preventDefault();return}ne(h)}const z=v.current?.getBoundingClientRect(),re=`smart-text-area-${l}-textarea`;return S.jsxs("label",{id:`smart-text-area-${l}-container`,className:`smart-text-area-container ${d}`,ref:O,children:[o&&(KE(o)?S.jsx("label",{id:`smart-text-area-${l}-label`,htmlFor:re,className:"smart-text-area-label",children:o}):o),S.jsx("label",{id:`smart-text-area-${l}-textarea-resizer`,className:"textarea-resizer",ref:g,children:S.jsx("textarea",{id:re,className:`smart-text-area-textarea ${u?"one-line":""} ${c?"scrollable":""}`,placeholder:a,value:h,ref:v,onChange:D,onFocus:q,onBlur:L=>ge(L),onMouseDown:B,onKeyDown:L=>T(L)})}),S.jsx("div",{className:"clear-content-icon svg-container",children:h===i||!i?S.jsx(xC,{onClick:()=>me()}):S.jsx(wL,{onClick:()=>ce()})}),y&&Wl.createPortal(S.jsx("div",{id:`smart-text-area-${l}-autocomplete-options`,className:`smart-text-area-autocomplete-container ${I.length<N&&"some-options-filtered"}`,ref:V,style:{top:z?.bottom,left:z?.left,width:z?.width},children:G()}),document.body)]})}function _L(e){const[t]=ae(H.COMBINED_MASK_LIST);function n(i){e.onChange&&e.onChange(i)}const r=_.useCallback(()=>t.toSorted(ts.compare).map(i=>({label:i,value:i})),[t]);return S.jsx(xo,{id:`mask-${e.id}`,className:e.className,onChangeOnlyOnBlur:!0,label:e.label,initialValue:e.value,autocompleteOptions:r,placeholder:e.placeholder||"Click to add mask",onChange:i=>n(i||"")})}function SL(e){const[t]=ae(H.COMBINED_PARTICIPANT_LIST);function n(r){e.onChange&&e.onChange(r)}return S.jsx(xo,{id:"participant",label:e.label,initialValue:e.value,onChangeOnlyOnBlur:!0,autocompleteOptions:t.map(r=>({label:r,value:r})),placeholder:"Click to add participant",onChange:r=>n(r||"")})}function xL(e){const[t,n]=ae(H.TEST_NOTES);function r(i){e.onChange&&e.onChange(i),n(o=>[...new Set([...o,i])].filter(a=>a&&a.trim().length>0).toSorted(ts.compare))}return S.jsx(xo,{id:"notes",onChangeOnlyOnBlur:!0,label:e.label,initialValue:e.value,autocompleteOptions:t.map(i=>({label:i,value:i})),placeholder:"Click to add notes",onChange:i=>r(i||"")})}function bL(){const[e,t,n]=ae(H.TEST_TEMPLATE);function r(u){u=u.trim(),a({Participant:u,Time:e.Participant!==u?new Date().toISOString():e.Time})}function i(u){a({Mask:u})}function o(u){a({Notes:u})}function a(u){const c={};Object.assign(c,n()),Object.assign(c,u),console.debug(`updateTestTemplate -> ${JSON.stringify(c)}`),t(c)}function s(){a({Participant:"",Mask:"",Notes:""})}function l(){a({Mask:"",Notes:""})}return S.jsx("div",{id:"current-participant-panel",children:S.jsx("div",{children:S.jsxs("div",{id:"participant-parameters",style:{display:"flex",textAlign:"start",flexDirection:"row",flexWrap:"wrap",gap:"2px"},children:[S.jsx("div",{className:"thin-border-2 participant-info",children:S.jsx(SL,{value:e.Participant,onChange:u=>r(u||""),label:S.jsxs("span",{id:"smart-text-area-participant-label",className:"smart-text-area-label",children:["Name ",S.jsx("div",{className:"svg-container",children:S.jsx(Hw,{onClick:()=>s()})})]})})}),S.jsx("div",{className:"thin-border-2 participant-info",children:S.jsx(_L,{value:e.Mask,id:"mask",onChange:u=>i(u||""),label:S.jsxs("span",{id:"smart-text-area-mask-label",className:"smart-text-area-label",children:["Mask ",S.jsx("div",{className:"svg-container",children:S.jsx(Hw,{onClick:()=>l()})})]})})}),S.jsx("div",{className:"thin-border-2 participant-info remainder",style:{flexGrow:1},children:S.jsx(xL,{value:e.Notes,label:"Notes",onChange:u=>o(u||"")})})]})})})}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(null,arguments)}function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function EL(e,t){if(bo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EC(e){var t=EL(e,"string");return bo(t)=="symbol"?t:t+""}function Hs(e,t,n){return(t=EC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(r){Hs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EC(r.key),r)}}function TL(e,t,n){return t&&Vw(e.prototype,t),n&&Vw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rg(e,t){return rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},rg(e,t)}function kL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rg(e,t)}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uf(e)}function CC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CC=function(){return!!e})()}function ML(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DL(e,t){if(t&&(bo(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ML(e)}function OL(e){var t=CC();return function(){var n,r=uf(e);if(t){var i=uf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return DL(this,n)}}function ig(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function PL(e){if(Array.isArray(e))return ig(e)}function NL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TC(e,t){if(e){if(typeof e=="string")return ig(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ig(e,t):void 0}}function RL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function va(e){return PL(e)||NL(e)||TC(e)||RL()}var IL=!1;function LL(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function AL(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var FL=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!IL:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=LL(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),It="-ms-",cf="-moz-",Pe="-webkit-",kC="comm",Q0="rule",G0="decl",$L="@import",MC="@keyframes",jL="@layer",HL=Math.abs,vd=String.fromCharCode,UL=Object.assign;function VL(e,t){return Mt(e,0)^45?(((t<<2^Mt(e,0))<<2^Mt(e,1))<<2^Mt(e,2))<<2^Mt(e,3):0}function DC(e){return e.trim()}function BL(e,t){return(e=t.exec(e))?e[0]:e}function Ne(e,t,n){return e.replace(t,n)}function og(e,t){return e.indexOf(t)}function Mt(e,t){return e.charCodeAt(t)|0}function Tl(e,t,n){return e.slice(t,n)}function tr(e){return e.length}function K0(e){return e.length}function Ou(e,t){return t.push(e),e}function YL(e,t){return e.map(t).join("")}var yd=1,Ra=1,OC=0,nn=0,ut=0,rs="";function wd(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:yd,column:Ra,length:a,return:""}}function Ss(e,t){return UL(wd("",null,null,"",null,null,0),e,{length:-e.length},t)}function zL(){return ut}function WL(){return ut=nn>0?Mt(rs,--nn):0,Ra--,ut===10&&(Ra=1,yd--),ut}function un(){return ut=nn<OC?Mt(rs,nn++):0,Ra++,ut===10&&(Ra=1,yd++),ut}function hr(){return Mt(rs,nn)}function fc(){return nn}function Ql(e,t){return Tl(rs,e,t)}function kl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PC(e){return yd=Ra=1,OC=tr(rs=e),nn=0,[]}function NC(e){return rs="",e}function dc(e){return DC(Ql(nn-1,ag(e===91?e+2:e===40?e+1:e)))}function qL(e){for(;(ut=hr())&&ut<33;)un();return kl(e)>2||kl(ut)>3?"":" "}function QL(e,t){for(;--t&&un()&&!(ut<48||ut>102||ut>57&&ut<65||ut>70&&ut<97););return Ql(e,fc()+(t<6&&hr()==32&&un()==32))}function ag(e){for(;un();)switch(ut){case e:return nn;case 34:case 39:e!==34&&e!==39&&ag(ut);break;case 40:e===41&&ag(e);break;case 92:un();break}return nn}function GL(e,t){for(;un()&&e+ut!==57;)if(e+ut===84&&hr()===47)break;return"/*"+Ql(t,nn-1)+"*"+vd(e===47?e:un())}function KL(e){for(;!kl(hr());)un();return Ql(e,nn)}function XL(e){return NC(hc("",null,null,null,[""],e=PC(e),0,[0],e))}function hc(e,t,n,r,i,o,a,s,l){for(var u=0,c=0,f=a,d=0,h=0,m=0,g=1,v=1,p=1,w=0,y="",x=i,E=o,b=r,C=y;v;)switch(m=w,w=un()){case 40:if(m!=108&&Mt(C,f-1)==58){og(C+=Ne(dc(w),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:C+=dc(w);break;case 9:case 10:case 13:case 32:C+=qL(m);break;case 92:C+=QL(fc()-1,7);continue;case 47:switch(hr()){case 42:case 47:Ou(ZL(GL(un(),fc()),t,n),l);break;default:C+="/"}break;case 123*g:s[u++]=tr(C)*p;case 125*g:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+c:p==-1&&(C=Ne(C,/\f/g,"")),h>0&&tr(C)-f&&Ou(h>32?Yw(C+";",r,n,f-1):Yw(Ne(C," ","")+";",r,n,f-2),l);break;case 59:C+=";";default:if(Ou(b=Bw(C,t,n,u,c,i,s,y,x=[],E=[],f),o),w===123)if(c===0)hc(C,t,b,b,x,o,f,s,E);else switch(d===99&&Mt(C,3)===110?100:d){case 100:case 108:case 109:case 115:hc(e,b,b,r&&Ou(Bw(e,b,b,0,0,i,s,y,i,x=[],f),E),i,E,f,s,r?x:E);break;default:hc(C,b,b,b,[""],E,0,s,E)}}u=c=h=0,g=p=1,y=C="",f=a;break;case 58:f=1+tr(C),h=m;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&WL()==125)continue}switch(C+=vd(w),w*g){case 38:p=c>0?1:(C+="\f",-1);break;case 44:s[u++]=(tr(C)-1)*p,p=1;break;case 64:hr()===45&&(C+=dc(un())),d=hr(),c=f=tr(y=C+=KL(fc())),w++;break;case 45:m===45&&tr(C)==2&&(g=0)}}return o}function Bw(e,t,n,r,i,o,a,s,l,u,c){for(var f=i-1,d=i===0?o:[""],h=K0(d),m=0,g=0,v=0;m<r;++m)for(var p=0,w=Tl(e,f+1,f=HL(g=a[m])),y=e;p<h;++p)(y=DC(g>0?d[p]+" "+w:Ne(w,/&\f/g,d[p])))&&(l[v++]=y);return wd(e,t,n,i===0?Q0:s,l,u,c)}function ZL(e,t,n){return wd(e,t,n,kC,vd(zL()),Tl(e,2,-2),0)}function Yw(e,t,n,r){return wd(e,t,n,G0,Tl(e,0,r),Tl(e,r+1,-1),r)}function ya(e,t){for(var n="",r=K0(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function JL(e,t,n,r){switch(e.type){case jL:if(e.children.length)break;case $L:case G0:return e.return=e.return||e.value;case kC:return"";case MC:return e.return=e.value+"{"+ya(e.children,r)+"}";case Q0:e.value=e.props.join(",")}return tr(n=ya(e.children,r))?e.return=e.value+"{"+n+"}":""}function eA(e){var t=K0(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function tA(e){return function(t){t.root||(t=t.return)&&e(t)}}function nA(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var rA=function(t,n,r){for(var i=0,o=0;i=o,o=hr(),i===38&&o===12&&(n[r]=1),!kl(o);)un();return Ql(t,nn)},iA=function(t,n){var r=-1,i=44;do switch(kl(i)){case 0:i===38&&hr()===12&&(n[r]=1),t[r]+=rA(nn-1,n,r);break;case 2:t[r]+=dc(i);break;case 4:if(i===44){t[++r]=hr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=vd(i)}while(i=un());return t},oA=function(t,n){return NC(iA(PC(t),n))},zw=new WeakMap,aA=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!zw.get(r))&&!i){zw.set(t,!0);for(var o=[],a=oA(n,o),s=r.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},sA=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function RC(e,t){switch(VL(e,t)){case 5103:return Pe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+e+cf+e+It+e+e;case 6828:case 4268:return Pe+e+It+e+e;case 6165:return Pe+e+It+"flex-"+e+e;case 5187:return Pe+e+Ne(e,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+It+"flex-$1$2")+e;case 5443:return Pe+e+It+"flex-item-"+Ne(e,/flex-|-self/,"")+e;case 4675:return Pe+e+It+"flex-line-pack"+Ne(e,/align-content|flex-|-self/,"")+e;case 5548:return Pe+e+It+Ne(e,"shrink","negative")+e;case 5292:return Pe+e+It+Ne(e,"basis","preferred-size")+e;case 6060:return Pe+"box-"+Ne(e,"-grow","")+Pe+e+It+Ne(e,"grow","positive")+e;case 4554:return Pe+Ne(e,/([^-])(transform)/g,"$1"+Pe+"$2")+e;case 6187:return Ne(Ne(Ne(e,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),e,"")+e;case 5495:case 3959:return Ne(e,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return Ne(Ne(e,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+It+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+e+e;case 4095:case 3583:case 4068:case 2532:return Ne(e,/(.+)-inline(.+)/,Pe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tr(e)-1-t>6)switch(Mt(e,t+1)){case 109:if(Mt(e,t+4)!==45)break;case 102:return Ne(e,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+cf+(Mt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~og(e,"stretch")?RC(Ne(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Mt(e,t+1)!==115)break;case 6444:switch(Mt(e,tr(e)-3-(~og(e,"!important")&&10))){case 107:return Ne(e,":",":"+Pe)+e;case 101:return Ne(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pe+(Mt(e,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+It+"$2box$3")+e}break;case 5936:switch(Mt(e,t+11)){case 114:return Pe+e+It+Ne(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Pe+e+It+Ne(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Pe+e+It+Ne(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Pe+e+It+e+e}return e}var lA=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case G0:t.return=RC(t.value,t.length);break;case MC:return ya([Ss(t,{value:Ne(t.value,"@","@"+Pe)})],i);case Q0:if(t.length)return YL(t.props,function(o){switch(BL(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ya([Ss(t,{props:[Ne(o,/:(read-\w+)/,":"+cf+"$1")]})],i);case"::placeholder":return ya([Ss(t,{props:[Ne(o,/:(plac\w+)/,":"+Pe+"input-$1")]}),Ss(t,{props:[Ne(o,/:(plac\w+)/,":"+cf+"$1")]}),Ss(t,{props:[Ne(o,/:(plac\w+)/,It+"input-$1")]})],i)}return""})}},uA=[lA],cA=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||uA,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),p=1;p<v.length;p++)o[v[p]]=!0;s.push(g)});var l,u=[aA,sA];{var c,f=[JL,tA(function(g){c.insert(g)})],d=eA(u.concat(i,f)),h=function(v){return ya(XL(v),d)};l=function(v,p,w,y){c=w,h(v?v+"{"+p.styles+"}":p.styles),y&&(m.inserted[p.name]=!0)}}var m={key:n,sheet:new FL({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(s),m},IC={exports:{}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bt=typeof Symbol=="function"&&Symbol.for,X0=bt?Symbol.for("react.element"):60103,Z0=bt?Symbol.for("react.portal"):60106,_d=bt?Symbol.for("react.fragment"):60107,Sd=bt?Symbol.for("react.strict_mode"):60108,xd=bt?Symbol.for("react.profiler"):60114,bd=bt?Symbol.for("react.provider"):60109,Ed=bt?Symbol.for("react.context"):60110,J0=bt?Symbol.for("react.async_mode"):60111,Cd=bt?Symbol.for("react.concurrent_mode"):60111,Td=bt?Symbol.for("react.forward_ref"):60112,kd=bt?Symbol.for("react.suspense"):60113,fA=bt?Symbol.for("react.suspense_list"):60120,Md=bt?Symbol.for("react.memo"):60115,Dd=bt?Symbol.for("react.lazy"):60116,dA=bt?Symbol.for("react.block"):60121,hA=bt?Symbol.for("react.fundamental"):60117,pA=bt?Symbol.for("react.responder"):60118,mA=bt?Symbol.for("react.scope"):60119;function vn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case X0:switch(e=e.type,e){case J0:case Cd:case _d:case xd:case Sd:case kd:return e;default:switch(e=e&&e.$$typeof,e){case Ed:case Td:case Dd:case Md:case bd:return e;default:return t}}case Z0:return t}}}function LC(e){return vn(e)===Cd}je.AsyncMode=J0;je.ConcurrentMode=Cd;je.ContextConsumer=Ed;je.ContextProvider=bd;je.Element=X0;je.ForwardRef=Td;je.Fragment=_d;je.Lazy=Dd;je.Memo=Md;je.Portal=Z0;je.Profiler=xd;je.StrictMode=Sd;je.Suspense=kd;je.isAsyncMode=function(e){return LC(e)||vn(e)===J0};je.isConcurrentMode=LC;je.isContextConsumer=function(e){return vn(e)===Ed};je.isContextProvider=function(e){return vn(e)===bd};je.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===X0};je.isForwardRef=function(e){return vn(e)===Td};je.isFragment=function(e){return vn(e)===_d};je.isLazy=function(e){return vn(e)===Dd};je.isMemo=function(e){return vn(e)===Md};je.isPortal=function(e){return vn(e)===Z0};je.isProfiler=function(e){return vn(e)===xd};je.isStrictMode=function(e){return vn(e)===Sd};je.isSuspense=function(e){return vn(e)===kd};je.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_d||e===Cd||e===xd||e===Sd||e===kd||e===fA||typeof e=="object"&&e!==null&&(e.$$typeof===Dd||e.$$typeof===Md||e.$$typeof===bd||e.$$typeof===Ed||e.$$typeof===Td||e.$$typeof===hA||e.$$typeof===pA||e.$$typeof===mA||e.$$typeof===dA)};je.typeOf=vn;IC.exports=je;var gA=IC.exports,AC=gA,vA={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FC={};FC[AC.ForwardRef]=vA;FC[AC.Memo]=yA;var wA=!0;function _A(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var $C=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||wA===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},SA=function(t,n,r){$C(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function xA(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var bA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},EA=!1,CA=/[A-Z]|^ms/g,TA=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jC=function(t){return t.charCodeAt(1)===45},Ww=function(t){return t!=null&&typeof t!="boolean"},Sp=nA(function(e){return jC(e)?e:e.replace(CA,"-$&").toLowerCase()}),qw=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(TA,function(r,i,o){return nr={name:i,styles:o,next:nr},i})}return bA[t]!==1&&!jC(t)&&typeof n=="number"&&n!==0?n+"px":n},kA="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ml(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return nr={name:i.name,styles:i.styles,next:nr},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)nr={name:a.name,styles:a.styles,next:nr},a=a.next;var s=o.styles+";";return s}return MA(e,t,n)}case"function":{if(e!==void 0){var l=nr,u=n(e);return nr=l,Ml(e,t,u)}break}}var c=n;return c}function MA(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ml(e,t,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var s=a;Ww(s)&&(r+=Sp(o)+":"+qw(o,s)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&EA)throw new Error(kA);if(Array.isArray(a)&&typeof a[0]=="string"&&t==null)for(var l=0;l<a.length;l++)Ww(a[l])&&(r+=Sp(o)+":"+qw(o,a[l])+";");else{var u=Ml(e,t,a);switch(o){case"animation":case"animationName":{r+=Sp(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var Qw=/label:\s*([^\s;{]+)\s*(;|$)/g,nr;function HC(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";nr=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Ml(n,t,o);else{var a=o;i+=a[0]}for(var s=1;s<e.length;s++)if(i+=Ml(n,t,e[s]),r){var l=o;i+=l[s]}Qw.lastIndex=0;for(var u="",c;(c=Qw.exec(i))!==null;)u+="-"+c[1];var f=xA(i)+u;return{name:f,styles:i,next:nr}}var DA=function(t){return t()},OA=im.useInsertionEffect?im.useInsertionEffect:!1,PA=OA||DA,NA=!1,UC=_.createContext(typeof HTMLElement<"u"?cA({key:"css"}):null);UC.Provider;var RA=function(t){return _.forwardRef(function(n,r){var i=_.useContext(UC);return t(n,i,r)})},IA=_.createContext({}),ev={}.hasOwnProperty,sg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",LA=function(t,n){var r={};for(var i in n)ev.call(n,i)&&(r[i]=n[i]);return r[sg]=t,r},AA=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return $C(n,r,i),PA(function(){return SA(n,r,i)}),null},FA=RA(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[sg],o=[r],a="";typeof e.className=="string"?a=_A(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var s=HC(o,void 0,_.useContext(IA));a+=t.key+"-"+s.name;var l={};for(var u in e)ev.call(e,u)&&u!=="css"&&u!==sg&&!NA&&(l[u]=e[u]);return l.className=a,n&&(l.ref=n),_.createElement(_.Fragment,null,_.createElement(AA,{cache:t,serialized:s,isStringTag:typeof i=="string"}),_.createElement(i,l))}),$A=FA,ue=function(t,n){var r=arguments;if(n==null||!ev.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=$A,o[1]=LA(t,n);for(var a=2;a<i;a++)o[a]=r[a];return _.createElement.apply(null,o)};function tv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HC(t)}var jA=function(){var t=tv.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function HA(e){if(Array.isArray(e))return e}function UA(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function VA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ur(e,t){return HA(e)||UA(e,t)||TC(e,t)||VA()}function BA(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function wr(e,t){if(e==null)return{};var n,r,i=BA(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YA(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Ia=Math.min,co=Math.max,ff=Math.round,Pu=Math.floor,pr=e=>({x:e,y:e}),zA={left:"right",right:"left",bottom:"top",top:"bottom"},WA={start:"end",end:"start"};function qA(e,t,n){return co(e,Ia(t,n))}function Od(e,t){return typeof e=="function"?e(t):e}function La(e){return e.split("-")[0]}function Gl(e){return e.split("-")[1]}function QA(e){return e==="x"?"y":"x"}function nv(e){return e==="y"?"height":"width"}function Dl(e){return["top","bottom"].includes(La(e))?"y":"x"}function rv(e){return QA(Dl(e))}function GA(e,t,n){n===void 0&&(n=!1);const r=Gl(e),i=rv(e),o=nv(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=df(a)),[a,df(a)]}function KA(e){const t=df(e);return[lg(e),t,lg(t)]}function lg(e){return e.replace(/start|end/g,t=>WA[t])}function XA(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function ZA(e,t,n,r){const i=Gl(e);let o=XA(La(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(lg)))),o}function df(e){return e.replace(/left|right|bottom|top/g,t=>zA[t])}function JA(e){return{top:0,right:0,bottom:0,left:0,...e}}function VC(e){return typeof e!="number"?JA(e):{top:e,right:e,bottom:e,left:e}}function hf(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Gw(e,t,n){let{reference:r,floating:i}=e;const o=Dl(t),a=rv(t),s=nv(a),l=La(t),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Gl(t)){case"start":h[a]-=d*(n&&u?-1:1);break;case"end":h[a]+=d*(n&&u?-1:1);break}return h}const e3=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=Gw(u,r,l),d=r,h={},m=0;for(let g=0;g<s.length;g++){const{name:v,fn:p}=s[g],{x:w,y,data:x,reset:E}=await p({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});c=w??c,f=y??f,h={...h,[v]:{...h[v],...x}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(u=E.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:f}=Gw(u,d,l)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function t3(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Od(t,e),m=VC(h),v=s[d?f==="floating"?"reference":"floating":f],p=hf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),w=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),x=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},E=hf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:y,strategy:l}):w);return{top:(p.top-E.top+m.top)/x.y,bottom:(E.bottom-p.bottom+m.bottom)/x.y,left:(p.left-E.left+m.left)/x.x,right:(E.right-p.right+m.right)/x.x}}const n3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=Od(e,t)||{};if(u==null)return{};const f=VC(c),d={x:n,y:r},h=rv(i),m=nv(h),g=await a.getDimensions(u),v=h==="y",p=v?"top":"left",w=v?"bottom":"right",y=v?"clientHeight":"clientWidth",x=o.reference[m]+o.reference[h]-d[h]-o.floating[m],E=d[h]-o.reference[h],b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=b?b[y]:0;(!C||!await(a.isElement==null?void 0:a.isElement(b)))&&(C=s.floating[y]||o.floating[m]);const k=x/2-E/2,N=C/2-g[m]/2-1,A=Ia(f[p],N),O=Ia(f[w],N),V=A,I=C-g[m]-O,T=C/2-g[m]/2+k,P=qA(V,T,I),D=!l.arrow&&Gl(i)!=null&&T!==P&&o.reference[m]/2-(T<V?A:O)-g[m]/2<0,$=D?T<V?T-V:T-I:0;return{[h]:d[h]+$,data:{[h]:P,centerOffset:T-P-$,...D&&{alignmentOffset:$}},reset:D}}}),r3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Od(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const p=La(i),w=Dl(s),y=La(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=d||(y||!g?[df(s)]:KA(s)),b=m!=="none";!d&&b&&E.push(...ZA(s,g,m,x));const C=[s,...E],k=await t3(t,v),N=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&N.push(k[p]),f){const T=GA(i,a,x);N.push(k[T[0]],k[T[1]])}if(A=[...A,{placement:i,overflows:N}],!N.every(T=>T<=0)){var O,V;const T=(((O=o.flip)==null?void 0:O.index)||0)+1,P=C[T];if(P)return{data:{index:T,overflows:A},reset:{placement:P}};let D=(V=A.filter($=>$.overflows[0]<=0).sort(($,M)=>$.overflows[1]-M.overflows[1])[0])==null?void 0:V.placement;if(!D)switch(h){case"bestFit":{var I;const $=(I=A.filter(M=>{if(b){const F=Dl(M.placement);return F===w||F==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(F=>F>0).reduce((F,B)=>F+B,0)]).sort((M,F)=>M[1]-F[1])[0])==null?void 0:I[0];$&&(D=$);break}case"initialPlacement":D=s;break}if(i!==D)return{reset:{placement:D}}}return{}}}};async function i3(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=La(n),s=Gl(n),l=Dl(n)==="y",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,f=Od(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(h=s==="end"?m*-1:m),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const o3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await i3(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}};function Pd(){return typeof window<"u"}function is(e){return BC(e)?(e.nodeName||"").toLowerCase():"#document"}function cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _r(e){var t;return(t=(BC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BC(e){return Pd()?e instanceof Node||e instanceof cn(e).Node:!1}function Bt(e){return Pd()?e instanceof Element||e instanceof cn(e).Element:!1}function yr(e){return Pd()?e instanceof HTMLElement||e instanceof cn(e).HTMLElement:!1}function Kw(e){return!Pd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cn(e).ShadowRoot}function Kl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=In(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function a3(e){return["table","td","th"].includes(is(e))}function Nd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function iv(e){const t=ov(),n=Bt(e)?In(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function s3(e){let t=Li(e);for(;yr(t)&&!Aa(t);){if(iv(t))return t;if(Nd(t))return null;t=Li(t)}return null}function ov(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Aa(e){return["html","body","#document"].includes(is(e))}function In(e){return cn(e).getComputedStyle(e)}function Rd(e){return Bt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Li(e){if(is(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Kw(e)&&e.host||_r(e);return Kw(t)?t.host:t}function YC(e){const t=Li(e);return Aa(t)?e.ownerDocument?e.ownerDocument.body:e.body:yr(t)&&Kl(t)?t:YC(t)}function Ol(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=YC(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=cn(i);if(o){const s=ug(a);return t.concat(a,a.visualViewport||[],Kl(i)?i:[],s&&n?Ol(s):[])}return t.concat(i,Ol(i,[],n))}function ug(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zC(e){const t=In(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=yr(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=ff(n)!==o||ff(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function av(e){return Bt(e)?e:e.contextElement}function wa(e){const t=av(e);if(!yr(t))return pr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=zC(t);let a=(o?ff(n.width):n.width)/r,s=(o?ff(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const l3=pr(0);function WC(e){const t=cn(e);return!ov()||!t.visualViewport?l3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function u3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==cn(e)?!1:t}function Eo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=av(e);let a=pr(1);t&&(r?Bt(r)&&(a=wa(r)):a=wa(e));const s=u3(o,n,r)?WC(o):pr(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,f=i.height/a.y;if(o){const d=cn(o),h=r&&Bt(r)?cn(r):r;let m=d,g=ug(m);for(;g&&r&&h!==m;){const v=wa(g),p=g.getBoundingClientRect(),w=In(g),y=p.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,x=p.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,u*=v.y,c*=v.x,f*=v.y,l+=y,u+=x,m=cn(g),g=ug(m)}}return hf({width:c,height:f,x:l,y:u})}function sv(e,t){const n=Rd(e).scrollLeft;return t?t.left+n:Eo(_r(e)).left+n}function qC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:sv(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function c3(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=_r(r),s=t?Nd(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=pr(1);const c=pr(0),f=yr(r);if((f||!f&&!o)&&((is(r)!=="body"||Kl(a))&&(l=Rd(r)),yr(r))){const h=Eo(r);u=wa(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=a&&!f&&!o?qC(a,l,!0):pr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function f3(e){return Array.from(e.getClientRects())}function d3(e){const t=_r(e),n=Rd(e),r=e.ownerDocument.body,i=co(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=co(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+sv(e);const s=-n.scrollTop;return In(r).direction==="rtl"&&(a+=co(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function h3(e,t){const n=cn(e),r=_r(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=ov();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function p3(e,t){const n=Eo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=yr(e)?wa(e):pr(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:a,height:s,x:l,y:u}}function Xw(e,t,n){let r;if(t==="viewport")r=h3(e,n);else if(t==="document")r=d3(_r(e));else if(Bt(t))r=p3(t,n);else{const i=WC(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return hf(r)}function QC(e,t){const n=Li(e);return n===t||!Bt(n)||Aa(n)?!1:In(n).position==="fixed"||QC(n,t)}function m3(e,t){const n=t.get(e);if(n)return n;let r=Ol(e,[],!1).filter(s=>Bt(s)&&is(s)!=="body"),i=null;const o=In(e).position==="fixed";let a=o?Li(e):e;for(;Bt(a)&&!Aa(a);){const s=In(a),l=iv(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Kl(a)&&!l&&QC(e,a))?r=r.filter(c=>c!==a):i=s,a=Li(a)}return t.set(e,r),r}function g3(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Nd(t)?[]:m3(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,c)=>{const f=Xw(t,c,i);return u.top=co(f.top,u.top),u.right=Ia(f.right,u.right),u.bottom=Ia(f.bottom,u.bottom),u.left=co(f.left,u.left),u},Xw(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function v3(e){const{width:t,height:n}=zC(e);return{width:t,height:n}}function y3(e,t,n){const r=yr(t),i=_r(t),o=n==="fixed",a=Eo(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=pr(0);if(r||!r&&!o)if((is(t)!=="body"||Kl(i))&&(s=Rd(t)),r){const d=Eo(t,!0,o,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=sv(i));const u=i&&!r&&!o?qC(i,s):pr(0),c=a.left+s.scrollLeft-l.x-u.x,f=a.top+s.scrollTop-l.y-u.y;return{x:c,y:f,width:a.width,height:a.height}}function xp(e){return In(e).position==="static"}function Zw(e,t){if(!yr(e)||In(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _r(e)===n&&(n=n.ownerDocument.body),n}function GC(e,t){const n=cn(e);if(Nd(e))return n;if(!yr(e)){let i=Li(e);for(;i&&!Aa(i);){if(Bt(i)&&!xp(i))return i;i=Li(i)}return n}let r=Zw(e,t);for(;r&&a3(r)&&xp(r);)r=Zw(r,t);return r&&Aa(r)&&xp(r)&&!iv(r)?n:r||s3(e)||n}const w3=async function(e){const t=this.getOffsetParent||GC,n=this.getDimensions,r=await n(e.floating);return{reference:y3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _3(e){return In(e).direction==="rtl"}const S3={convertOffsetParentRelativeRectToViewportRelativeRect:c3,getDocumentElement:_r,getClippingRect:g3,getOffsetParent:GC,getElementRects:w3,getClientRects:f3,getDimensions:v3,getScale:wa,isElement:Bt,isRTL:_3};function x3(e,t){let n=null,r;const i=_r(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h=Pu(c),m=Pu(i.clientWidth-(u+f)),g=Pu(i.clientHeight-(c+d)),v=Pu(u),w={rootMargin:-h+"px "+-m+"px "+-g+"px "+-v+"px",threshold:co(0,Ia(1,l))||1};let y=!0;function x(E){const b=E[0].intersectionRatio;if(b!==l){if(!y)return a();b?a(!1,b):r=setTimeout(()=>{a(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(x,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,w)}n.observe(e)}return a(!0),o}function KC(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=av(e),c=i||o?[...u?Ol(u):[],...Ol(t)]:[];c.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),o&&p.addEventListener("resize",n)});const f=u&&s?x3(u,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(p=>{let[w]=p;w&&w.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,g=l?Eo(e):null;l&&v();function v(){const p=Eo(e);g&&(p.x!==g.x||p.y!==g.y||p.width!==g.width||p.height!==g.height)&&n(),g=p,m=requestAnimationFrame(v)}return n(),()=>{var p;c.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f?.(),(p=h)==null||p.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const b3=o3,E3=r3,Jw=n3,C3=(e,t,n)=>{const r=new Map,i={platform:S3,...n},o={...i.platform,_c:r};return e3(e,t,{...i,platform:o})};var cg=_.useLayoutEffect,T3=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],pf=function(){};function k3(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function M3(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(k3(e,a)));return o.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var mf=function(t){return F3(t)?t.filter(Boolean):bo(t)==="object"&&t!==null?[t]:[]},XC=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=wr(t,T3);return oe({},n)},nt=function(t,n,r){var i=t.cx,o=t.getStyles,a=t.getClassNames,s=t.className;return{css:o(n,t),className:i(r??{},a(n,t),s)}};function Id(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function D3(e){return Id(e)?window.innerHeight:e.clientHeight}function ZC(e){return Id(e)?window.pageYOffset:e.scrollTop}function gf(e,t){if(Id(e)){window.scrollTo(0,t);return}e.scrollTop=t}function O3(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function P3(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Nu(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:pf,i=ZC(e),o=t-i,a=10,s=0;function l(){s+=a;var u=P3(s,i,o,n);gf(e,u),s<n?window.requestAnimationFrame(l):r(e)}l()}function e_(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?gf(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&gf(e,Math.max(t.offsetTop-i,0))}function N3(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function t_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function R3(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var JC=!1,I3={get passive(){return JC=!0}},Ru=typeof window<"u"?window:{};Ru.addEventListener&&Ru.removeEventListener&&(Ru.addEventListener("p",pf,I3),Ru.removeEventListener("p",pf,!1));var L3=JC;function A3(e){return e!=null}function F3(e){return Array.isArray(e)}function Us(e,t,n){return e?t:n}var $3=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(t).filter(function(a){var s=Ur(a,1),l=s[0];return!r.includes(l)});return o.reduce(function(a,s){var l=Ur(s,2),u=l[0],c=l[1];return a[u]=c,a},{})},j3=["children","innerProps"],H3=["children","innerProps"];function U3(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,l=O3(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),f=c.height,d=n.getBoundingClientRect(),h=d.bottom,m=d.height,g=d.top,v=n.offsetParent.getBoundingClientRect(),p=v.top,w=a?window.innerHeight:D3(l),y=ZC(l),x=parseInt(getComputedStyle(n).marginBottom,10),E=parseInt(getComputedStyle(n).marginTop,10),b=p-E,C=w-g,k=b+y,N=f-y-g,A=h-w+y+x,O=y+g-E,V=160;switch(i){case"auto":case"bottom":if(C>=m)return{placement:"bottom",maxHeight:t};if(N>=m&&!a)return o&&Nu(l,A,V),{placement:"bottom",maxHeight:t};if(!a&&N>=r||a&&C>=r){o&&Nu(l,A,V);var I=a?C-x:N-x;return{placement:"bottom",maxHeight:I}}if(i==="auto"||a){var T=t,P=a?b:k;return P>=r&&(T=Math.min(P-x-s,t)),{placement:"top",maxHeight:T}}if(i==="bottom")return o&&gf(l,A),{placement:"bottom",maxHeight:t};break;case"top":if(b>=m)return{placement:"top",maxHeight:t};if(k>=m&&!a)return o&&Nu(l,O,V),{placement:"top",maxHeight:t};if(!a&&k>=r||a&&b>=r){var D=t;return(!a&&k>=r||a&&b>=r)&&(D=a?b-E:k-E),o&&Nu(l,O,V),{placement:"top",maxHeight:D}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function V3(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var eT=function(t){return t==="auto"?"bottom":t},B3=function(t,n){var r,i=t.placement,o=t.theme,a=o.borderRadius,s=o.spacing,l=o.colors;return oe((r={label:"menu"},Hs(r,V3(i),"100%"),Hs(r,"position","absolute"),Hs(r,"width","100%"),Hs(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},tT=_.createContext(null),Y3=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,u=_.useContext(tT)||{},c=u.setPortalPlacement,f=_.useRef(null),d=_.useState(i),h=Ur(d,2),m=h[0],g=h[1],v=_.useState(null),p=Ur(v,2),w=p[0],y=p[1],x=l.spacing.controlHeight;return cg(function(){var E=f.current;if(E){var b=a==="fixed",C=s&&!b,k=U3({maxHeight:i,menuEl:E,minHeight:r,placement:o,shouldScroll:C,isFixedPosition:b,controlHeight:x});g(k.maxHeight),y(k.placement),c?.(k.placement)}},[i,o,a,s,r,c,x]),n({ref:f,placerProps:oe(oe({},t),{},{placement:w||eT(o),maxHeight:m})})},z3=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return ue("div",fe({},nt(t,"menu",{menu:!0}),{ref:r},i),n)},W3=z3,q3=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return oe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Q3=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,o=t.isMulti;return ue("div",fe({},nt(t,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},nT=function(t,n){var r=t.theme,i=r.spacing.baseUnit,o=r.colors;return oe({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},G3=nT,K3=nT,X3=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,o=wr(t,j3);return ue("div",fe({},nt(oe(oe({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},Z3=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,o=wr(t,H3);return ue("div",fe({},nt(oe(oe({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},J3=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},eF=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,o=t.innerProps,a=t.menuPlacement,s=t.menuPosition,l=_.useRef(null),u=_.useRef(null),c=_.useState(eT(a)),f=Ur(c,2),d=f[0],h=f[1],m=_.useMemo(function(){return{setPortalPlacement:h}},[]),g=_.useState(null),v=Ur(g,2),p=v[0],w=v[1],y=_.useCallback(function(){if(i){var C=N3(i),k=s==="fixed"?0:window.pageYOffset,N=C[d]+k;(N!==p?.offset||C.left!==p?.rect.left||C.width!==p?.rect.width)&&w({offset:N,rect:C})}},[i,s,d,p?.offset,p?.rect.left,p?.rect.width]);cg(function(){y()},[y]);var x=_.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=KC(i,l.current,y,{elementResize:"ResizeObserver"in window}))},[i,y]);cg(function(){x()},[x]);var E=_.useCallback(function(C){l.current=C,x()},[x]);if(!n&&s!=="fixed"||!p)return null;var b=ue("div",fe({ref:E},nt(oe(oe({},t),{},{offset:p.offset,position:s,rect:p.rect}),"menuPortal",{"menu-portal":!0}),o),r);return ue(tT.Provider,{value:m},n?Wl.createPortal(b,n):b)},tF=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},nF=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,o=t.isRtl;return ue("div",fe({},nt(t,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},rF=function(t,n){var r=t.theme.spacing,i=t.isMulti,o=t.hasValue,a=t.selectProps.controlShouldRenderValue;return oe({alignItems:"center",display:i&&o&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},iF=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,o=t.hasValue;return ue("div",fe({},nt(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},oF=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},aF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},nt(t,"indicatorsContainer",{indicators:!0}),r),n)},n_,sF=["size"],lF=["innerProps","isRtl","size"],uF={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},rT=function(t){var n=t.size,r=wr(t,sF);return ue("svg",fe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:uF},r))},lv=function(t){return ue(rT,fe({size:20},t),ue("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},iT=function(t){return ue(rT,fe({size:20},t),ue("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},oT=function(t,n){var r=t.isFocused,i=t.theme,o=i.spacing.baseUnit,a=i.colors;return oe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:o*2,":hover":{color:r?a.neutral80:a.neutral40}})},cF=oT,fF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},nt(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ue(iT,null))},dF=oT,hF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},nt(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ue(lv,null))},pF=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing.baseUnit,a=i.colors;return oe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:o*2,marginTop:o*2})},mF=function(t){var n=t.innerProps;return ue("span",fe({},n,nt(t,"indicatorSeparator",{"indicator-separator":!0})))},gF=jA(n_||(n_=YA([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),vF=function(t,n){var r=t.isFocused,i=t.size,o=t.theme,a=o.colors,s=o.spacing.baseUnit;return oe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2})},bp=function(t){var n=t.delay,r=t.offset;return ue("span",{css:tv({animation:"".concat(gF," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},yF=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,o=i===void 0?4:i,a=wr(t,lF);return ue("div",fe({},nt(oe(oe({},a),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ue(bp,{delay:0,offset:r}),ue(bp,{delay:160,offset:!0}),ue(bp,{delay:320,offset:!r}))},wF=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.theme,a=o.colors,s=o.borderRadius,l=o.spacing;return oe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},_F=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.innerRef,a=t.innerProps,s=t.menuIsOpen;return ue("div",fe({ref:o},nt(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),a,{"aria-disabled":r||void 0}),n)},SF=_F,xF=["data"],bF=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},EF=function(t){var n=t.children,r=t.cx,i=t.getStyles,o=t.getClassNames,a=t.Heading,s=t.headingProps,l=t.innerProps,u=t.label,c=t.theme,f=t.selectProps;return ue("div",fe({},nt(t,"group",{group:!0}),l),ue(a,fe({},s,{selectProps:f,theme:c,getStyles:i,getClassNames:o,cx:r}),u),ue("div",null,n))},CF=function(t,n){var r=t.theme,i=r.colors,o=r.spacing;return oe({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},TF=function(t){var n=XC(t);n.data;var r=wr(n,xF);return ue("div",fe({},nt(t,"groupHeading",{"group-heading":!0}),r))},kF=EF,MF=["innerRef","isDisabled","isHidden","inputClassName"],DF=function(t,n){var r=t.isDisabled,i=t.value,o=t.theme,a=o.spacing,s=o.colors;return oe(oe({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},OF),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:s.neutral80})},aT={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},OF={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":oe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},aT)},PF=function(t){return oe({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},aT)},NF=function(t){var n=t.cx,r=t.value,i=XC(t),o=i.innerRef,a=i.isDisabled,s=i.isHidden,l=i.inputClassName,u=wr(i,MF);return ue("div",fe({},nt(t,"input",{"input-container":!0}),{"data-value":r||""}),ue("input",fe({className:n({input:!0},l),ref:o,style:PF(s),disabled:a},u)))},RF=NF,IF=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,a=r.colors;return oe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},LF=function(t,n){var r=t.theme,i=r.borderRadius,o=r.colors,a=t.cropWithEllipsis;return oe({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},AF=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,a=r.colors,s=t.isFocused;return oe({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:s?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},sT=function(t){var n=t.children,r=t.innerProps;return ue("div",r,n)},FF=sT,$F=sT;function jF(e){var t=e.children,n=e.innerProps;return ue("div",fe({role:"button"},n),t||ue(lv,{size:14}))}var HF=function(t){var n=t.children,r=t.components,i=t.data,o=t.innerProps,a=t.isDisabled,s=t.removeProps,l=t.selectProps,u=r.Container,c=r.Label,f=r.Remove;return ue(u,{data:i,innerProps:oe(oe({},nt(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),o),selectProps:l},ue(c,{data:i,innerProps:oe({},nt(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ue(f,{data:i,innerProps:oe(oe({},nt(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},UF=HF,VF=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.isSelected,a=t.theme,s=a.spacing,l=a.colors;return oe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?l.primary:l.primary50}})},BF=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.isSelected,a=t.innerRef,s=t.innerProps;return ue("div",fe({},nt(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:a,"aria-disabled":r},s),n)},YF=BF,zF=function(t,n){var r=t.theme,i=r.spacing,o=r.colors;return oe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},WF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},nt(t,"placeholder",{placeholder:!0}),r),n)},qF=WF,QF=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing,a=i.colors;return oe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},GF=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return ue("div",fe({},nt(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},KF=GF,lT={ClearIndicator:hF,Control:SF,DropdownIndicator:fF,DownChevron:iT,CrossIcon:lv,Group:kF,GroupHeading:TF,IndicatorsContainer:aF,IndicatorSeparator:mF,Input:RF,LoadingIndicator:yF,Menu:W3,MenuList:Q3,MenuPortal:eF,LoadingMessage:Z3,NoOptionsMessage:X3,MultiValue:UF,MultiValueContainer:FF,MultiValueLabel:$F,MultiValueRemove:jF,Option:YF,Placeholder:qF,SelectContainer:nF,SingleValue:KF,ValueContainer:iF},XF=function(t){return oe(oe({},lT),t.components)},r_=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function ZF(e,t){return!!(e===t||r_(e)&&r_(t))}function JF(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!ZF(e[n],t[n]))return!1;return!0}function e$(e,t){t===void 0&&(t=JF);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var t$={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},n$=function(t){return ue("span",fe({css:t$},t))},i_=n$,r$={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,o=t.context,a=t.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,o=t.labels,a=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,o=t.label,a=o===void 0?"":o,s=t.selectValue,l=t.isDisabled,u=t.isSelected,c=t.isAppleDevice,f=function(g,v){return g&&g.length?"".concat(g.indexOf(v)+1," of ").concat(g.length):""};if(n==="value"&&s)return"value ".concat(a," focused, ").concat(f(s,r),".");if(n==="menu"&&c){var d=l?" disabled":"",h="".concat(u?" selected":"").concat(d);return"".concat(a).concat(h,", ").concat(f(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},i$=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.focusableOptions,a=t.isFocused,s=t.selectValue,l=t.selectProps,u=t.id,c=t.isAppleDevice,f=l.ariaLiveMessages,d=l.getOptionLabel,h=l.inputValue,m=l.isMulti,g=l.isOptionDisabled,v=l.isSearchable,p=l.menuIsOpen,w=l.options,y=l.screenReaderStatus,x=l.tabSelectsValue,E=l.isLoading,b=l["aria-label"],C=l["aria-live"],k=_.useMemo(function(){return oe(oe({},r$),f||{})},[f]),N=_.useMemo(function(){var P="";if(n&&k.onChange){var D=n.option,$=n.options,M=n.removedValue,F=n.removedValues,B=n.value,q=function(re){return Array.isArray(re)?null:re},G=M||D||q(B),me=G?d(G):"",ce=$||F||void 0,ne=ce?ce.map(d):[],ge=oe({isDisabled:G&&g(G,s),label:me,labels:ne},n);P=k.onChange(ge)}return P},[n,k,g,s,d]),A=_.useMemo(function(){var P="",D=r||i,$=!!(r&&s&&s.includes(r));if(D&&k.onFocus){var M={focused:D,label:d(D),isDisabled:g(D,s),isSelected:$,options:o,context:D===r?"menu":"value",selectValue:s,isAppleDevice:c};P=k.onFocus(M)}return P},[r,i,d,g,k,o,s,c]),O=_.useMemo(function(){var P="";if(p&&w.length&&!E&&k.onFilter){var D=y({count:o.length});P=k.onFilter({inputValue:h,resultsMessage:D})}return P},[o,h,p,k,w,y,E]),V=n?.action==="initial-input-focus",I=_.useMemo(function(){var P="";if(k.guidance){var D=i?"value":p?"menu":"input";P=k.guidance({"aria-label":b,context:D,isDisabled:r&&g(r,s),isMulti:m,isSearchable:v,tabSelectsValue:x,isInitialFocus:V})}return P},[b,r,i,m,g,v,p,k,s,x,V]),T=ue(_.Fragment,null,ue("span",{id:"aria-selection"},N),ue("span",{id:"aria-focused"},A),ue("span",{id:"aria-results"},O),ue("span",{id:"aria-guidance"},I));return ue(_.Fragment,null,ue(i_,{id:u},V&&T),ue(i_,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!V&&T))},o$=i$,fg=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],a$=new RegExp("["+fg.map(function(e){return e.letters}).join("")+"]","g"),uT={};for(var Ep=0;Ep<fg.length;Ep++)for(var Cp=fg[Ep],Tp=0;Tp<Cp.letters.length;Tp++)uT[Cp.letters[Tp]]=Cp.base;var cT=function(t){return t.replace(a$,function(n){return uT[n]})},s$=e$(cT),o_=function(t){return t.replace(/^\s+|\s+$/g,"")},l$=function(t){return"".concat(t.label," ").concat(t.value)},u$=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=oe({ignoreCase:!0,ignoreAccents:!0,stringify:l$,trim:!0,matchFrom:"any"},t),o=i.ignoreCase,a=i.ignoreAccents,s=i.stringify,l=i.trim,u=i.matchFrom,c=l?o_(r):r,f=l?o_(s(n)):s(n);return o&&(c=c.toLowerCase(),f=f.toLowerCase()),a&&(c=s$(c),f=cT(f)),u==="start"?f.substr(0,c.length)===c:f.indexOf(c)>-1}},c$=["innerRef"];function f$(e){var t=e.innerRef,n=wr(e,c$),r=$3(n,"onExited","in","enter","exit","appear");return ue("input",fe({ref:t},r,{css:tv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var d$=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function h$(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,a=_.useRef(!1),s=_.useRef(!1),l=_.useRef(0),u=_.useRef(null),c=_.useCallback(function(v,p){if(u.current!==null){var w=u.current,y=w.scrollTop,x=w.scrollHeight,E=w.clientHeight,b=u.current,C=p>0,k=x-E-y,N=!1;k>p&&a.current&&(r&&r(v),a.current=!1),C&&s.current&&(o&&o(v),s.current=!1),C&&p>k?(n&&!a.current&&n(v),b.scrollTop=x,N=!0,a.current=!0):!C&&-p>y&&(i&&!s.current&&i(v),b.scrollTop=0,N=!0,s.current=!0),N&&d$(v)}},[n,r,i,o]),f=_.useCallback(function(v){c(v,v.deltaY)},[c]),d=_.useCallback(function(v){l.current=v.changedTouches[0].clientY},[]),h=_.useCallback(function(v){var p=l.current-v.changedTouches[0].clientY;c(v,p)},[c]),m=_.useCallback(function(v){if(v){var p=L3?{passive:!1}:!1;v.addEventListener("wheel",f,p),v.addEventListener("touchstart",d,p),v.addEventListener("touchmove",h,p)}},[h,d,f]),g=_.useCallback(function(v){v&&(v.removeEventListener("wheel",f,!1),v.removeEventListener("touchstart",d,!1),v.removeEventListener("touchmove",h,!1))},[h,d,f]);return _.useEffect(function(){if(t){var v=u.current;return m(v),function(){g(v)}}},[t,m,g]),function(v){u.current=v}}var a_=["boxSizing","height","overflow","paddingRight","position"],s_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function l_(e){e.cancelable&&e.preventDefault()}function u_(e){e.stopPropagation()}function c_(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function f_(){return"ontouchstart"in window||navigator.maxTouchPoints}var d_=!!(typeof window<"u"&&window.document&&window.document.createElement),xs=0,Yo={capture:!1,passive:!1};function p$(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=_.useRef({}),o=_.useRef(null),a=_.useCallback(function(l){if(d_){var u=document.body,c=u&&u.style;if(r&&a_.forEach(function(m){var g=c&&c[m];i.current[m]=g}),r&&xs<1){var f=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,h=window.innerWidth-d+f||0;Object.keys(s_).forEach(function(m){var g=s_[m];c&&(c[m]=g)}),c&&(c.paddingRight="".concat(h,"px"))}u&&f_()&&(u.addEventListener("touchmove",l_,Yo),l&&(l.addEventListener("touchstart",c_,Yo),l.addEventListener("touchmove",u_,Yo))),xs+=1}},[r]),s=_.useCallback(function(l){if(d_){var u=document.body,c=u&&u.style;xs=Math.max(xs-1,0),r&&xs<1&&a_.forEach(function(f){var d=i.current[f];c&&(c[f]=d)}),u&&f_()&&(u.removeEventListener("touchmove",l_,Yo),l&&(l.removeEventListener("touchstart",c_,Yo),l.removeEventListener("touchmove",u_,Yo)))}},[r]);return _.useEffect(function(){if(t){var l=o.current;return a(l),function(){s(l)}}},[t,a,s]),function(l){o.current=l}}var m$=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},g$={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function v$(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,o=e.onBottomArrive,a=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,u=h$({isEnabled:i,onBottomArrive:o,onBottomLeave:a,onTopArrive:s,onTopLeave:l}),c=p$({isEnabled:n}),f=function(h){u(h),c(h)};return ue(_.Fragment,null,n&&ue("div",{onClick:m$,css:g$}),t(f))}var y$={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},w$=function(t){var n=t.name,r=t.onFocus;return ue("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:y$,value:"",onChange:function(){}})},_$=w$;function uv(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function S$(){return uv(/^iPhone/i)}function fT(){return uv(/^Mac/i)}function x$(){return uv(/^iPad/i)||fT()&&navigator.maxTouchPoints>1}function b$(){return S$()||x$()}function E$(){return fT()||b$()}var C$=function(t){return t.label},dT=function(t){return t.label},hT=function(t){return t.value},T$=function(t){return!!t.isDisabled},k$={clearIndicator:dF,container:tF,control:wF,dropdownIndicator:cF,group:bF,groupHeading:CF,indicatorsContainer:oF,indicatorSeparator:pF,input:DF,loadingIndicator:vF,loadingMessage:K3,menu:B3,menuList:q3,menuPortal:J3,multiValue:IF,multiValueLabel:LF,multiValueRemove:AF,noOptionsMessage:G3,option:VF,placeholder:zF,singleValue:QF,valueContainer:rF},M$={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},D$=4,pT=4,O$=38,P$=pT*2,N$={baseUnit:pT,controlHeight:O$,menuGutter:P$},kp={borderRadius:D$,colors:M$,spacing:N$},R$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:t_(),captureMenuScroll:!t_(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:u$(),formatGroupLabel:C$,getOptionLabel:dT,getOptionValue:hT,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:T$,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!R3(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function h_(e,t,n,r){var i=vT(e,t,n),o=yT(e,t,n),a=gT(e,t),s=vf(e,t);return{type:"option",data:t,isDisabled:i,isSelected:o,label:a,value:s,index:r}}function pc(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,s){return h_(e,a,t,s)}).filter(function(a){return m_(e,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=h_(e,n,t,r);return m_(e,o)?o:void 0}).filter(A3)}function mT(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,va(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function p_(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,va(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function I$(e,t){return mT(pc(e,t))}function m_(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!_T(e)||!o)&&wT(e,{label:a,value:s,data:i},r)}function L$(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var o=t.indexOf(n);if(o>-1)return n;if(i<t.length)return t[i]}return null}function A$(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var Mp=function(t,n){var r,i=(r=t.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},gT=function(t,n){return t.getOptionLabel(n)},vf=function(t,n){return t.getOptionValue(n)};function vT(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function yT(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=vf(e,t);return n.some(function(i){return vf(e,i)===r})}function wT(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var _T=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},F$=1,cv=function(e){kL(n,e);var t=OL(n);function n(r){var i;if(CL(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=E$(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,u){var c=i.props,f=c.onChange,d=c.name;u.name=d,i.ariaOnChange(l,u),f(l,u)},i.setValue=function(l,u,c){var f=i.props,d=f.closeMenuOnSelect,h=f.isMulti,m=f.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),d&&(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:u,option:c})},i.selectOption=function(l){var u=i.props,c=u.blurInputOnSelect,f=u.isMulti,d=u.name,h=i.state.selectValue,m=f&&i.isOptionSelected(l,h),g=i.isOptionDisabled(l,h);if(m){var v=i.getOptionValue(l);i.setValue(h.filter(function(p){return i.getOptionValue(p)!==v}),"deselect-option",l)}else if(!g)f?i.setValue([].concat(va(h),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:d});return}c&&i.blurInput()},i.removeValue=function(l){var u=i.props.isMulti,c=i.state.selectValue,f=i.getOptionValue(l),d=c.filter(function(m){return i.getOptionValue(m)!==f}),h=Us(u,d,d[0]||null);i.onChange(h,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Us(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,u=i.state.selectValue,c=u[u.length-1],f=u.slice(0,u.length-1),d=Us(l,f,f[0]||null);c&&i.onChange(d,{action:"pop-value",removedValue:c})},i.getFocusedOptionId=function(l){return Mp(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return p_(pc(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return M3.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(l){return gT(i.props,l)},i.getOptionValue=function(l){return vf(i.props,l)},i.getStyles=function(l,u){var c=i.props.unstyled,f=k$[l](u,c);f.boxSizing="border-box";var d=i.props.styles[l];return d?d(f,u):f},i.getClassNames=function(l,u){var c,f;return(c=(f=i.props.classNames)[l])===null||c===void 0?void 0:c.call(f,u)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return XF(i.props)},i.buildCategorizedOptions=function(){return pc(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return mT(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,u){i.setState({ariaSelection:oe({value:l},u)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var u=i.props,c=u.isMulti,f=u.menuIsOpen;i.focusInput(),f?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Id(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var u=l.touches,c=u&&u.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var u=l.touches,c=u&&u.item(0);if(c){var f=Math.abs(c.clientX-i.initialTouchX),d=Math.abs(c.clientY-i.initialTouchY),h=5;i.userIsDragging=f>h||d>h}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var u=i.props.inputValue,c=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var u=i.getFocusableOptions(),c=u.indexOf(l);i.setState({focusedOption:l,focusedOptionId:c>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return _T(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var u=i.props,c=u.isMulti,f=u.backspaceRemovesValue,d=u.escapeClearsValue,h=u.inputValue,m=u.isClearable,g=u.isDisabled,v=u.menuIsOpen,p=u.onKeyDown,w=u.tabSelectsValue,y=u.openMenuOnFocus,x=i.state,E=x.focusedOption,b=x.focusedValue,C=x.selectValue;if(!g&&!(typeof p=="function"&&(p(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!c||h)return;i.focusValue("previous");break;case"ArrowRight":if(!c||h)return;i.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(b)i.removeValue(b);else{if(!f)return;c?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!v||!w||!E||y&&i.isOptionSelected(E,C))return;i.selectOption(E);break;case"Enter":if(l.keyCode===229)break;if(v){if(!E||i.isComposing)return;i.selectOption(E);break}return;case"Escape":v?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:h}),i.onMenuClose()):m&&d&&i.clearValue();break;case" ":if(h)return;if(!v){i.openMenu("first");break}if(!E)return;i.selectOption(E);break;case"ArrowUp":v?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":v?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!v)return;i.focusOption("pageup");break;case"PageDown":if(!v)return;i.focusOption("pagedown");break;case"Home":if(!v)return;i.focusOption("first");break;case"End":if(!v)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++F$),i.state.selectValue=mf(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),s=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=a[s],i.state.focusedOptionId=Mp(o,a[s])}return i}return TL(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&e_(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isDisabled,s=o.menuIsOpen,l=this.state.isFocused;(l&&!a&&i.isDisabled||l&&s&&!i.menuIsOpen)&&this.focusInput(),l&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(e_(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,a=this.state,s=a.selectValue,l=a.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(s[0]);f>-1&&(c=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c],focusedOptionId:this.getFocusedOptionId(u[c])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,a=o.selectValue,s=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(s);s||(l=-1);var u=a.length-1,c=-1;if(a.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:a[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,a=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,u=s.indexOf(a);a||(u=-1),i==="up"?l=u>0?u-1:s.length-1:i==="down"?l=(u+1)%s.length:i==="pageup"?(l=u-o,l<0&&(l=0)):i==="pagedown"?(l=u+o,l>s.length-1&&(l=s.length-1)):i==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(kp):oe(oe({},kp),this.props.theme):kp}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,a=this.getStyles,s=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,f=this.props,d=f.isMulti,h=f.isRtl,m=f.options,g=this.hasValue();return{clearValue:i,cx:o,getStyles:a,getClassNames:s,getValue:l,hasValue:g,isMulti:d,isRtl:h,options:m,selectOption:u,selectProps:f,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,a=i.isMulti;return o===void 0?a:o}},{key:"isOptionDisabled",value:function(i,o){return vT(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return yT(this.props,i,o)}},{key:"filterOption",value:function(i,o){return wT(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:a,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,a=i.isSearchable,s=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,f=i.menuIsOpen,d=i.required,h=this.getComponents(),m=h.Input,g=this.state,v=g.inputIsHidden,p=g.ariaSelection,w=this.commonProps,y=s||this.getElementId("input"),x=oe(oe(oe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?p?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?_.createElement(m,fe({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:y,innerRef:this.getInputRef,isDisabled:o,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},x)):_.createElement(f$,fe({id:y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:pf,onFocus:this.onInputFocus,disabled:o,tabIndex:u,inputMode:"none",form:c,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),a=o.MultiValue,s=o.MultiValueContainer,l=o.MultiValueLabel,u=o.MultiValueRemove,c=o.SingleValue,f=o.Placeholder,d=this.commonProps,h=this.props,m=h.controlShouldRenderValue,g=h.isDisabled,v=h.isMulti,p=h.inputValue,w=h.placeholder,y=this.state,x=y.selectValue,E=y.focusedValue,b=y.isFocused;if(!this.hasValue()||!m)return p?null:_.createElement(f,fe({},d,{key:"placeholder",isDisabled:g,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),w);if(v)return x.map(function(k,N){var A=k===E,O="".concat(i.getOptionLabel(k),"-").concat(i.getOptionValue(k));return _.createElement(a,fe({},d,{components:{Container:s,Label:l,Remove:u},isFocused:A,isDisabled:g,key:O,index:N,removeProps:{onClick:function(){return i.removeValue(k)},onTouchEnd:function(){return i.removeValue(k)},onMouseDown:function(I){I.preventDefault()}},data:k}),i.formatOptionLabel(k,"value"))});if(p)return null;var C=x[0];return _.createElement(c,fe({},d,{data:C,isDisabled:g}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(o,fe({},a,{innerProps:f,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!o||!u)return null;var f={"aria-hidden":"true"};return _.createElement(o,fe({},a,{innerProps:f,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,a=i.IndicatorSeparator;if(!o||!a)return null;var s=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return _.createElement(a,fe({},s,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var a=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(o,fe({},a,{innerProps:u,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),a=o.Group,s=o.GroupHeading,l=o.Menu,u=o.MenuList,c=o.MenuPortal,f=o.LoadingMessage,d=o.NoOptionsMessage,h=o.Option,m=this.commonProps,g=this.state.focusedOption,v=this.props,p=v.captureMenuScroll,w=v.inputValue,y=v.isLoading,x=v.loadingMessage,E=v.minMenuHeight,b=v.maxMenuHeight,C=v.menuIsOpen,k=v.menuPlacement,N=v.menuPosition,A=v.menuPortalTarget,O=v.menuShouldBlockScroll,V=v.menuShouldScrollIntoView,I=v.noOptionsMessage,T=v.onMenuScrollToTop,P=v.onMenuScrollToBottom;if(!C)return null;var D=function(me,ce){var ne=me.type,ge=me.data,z=me.isDisabled,re=me.isSelected,L=me.label,Q=me.value,de=g===ge,Y=z?void 0:function(){return i.onOptionHover(ge)},le=z?void 0:function(){return i.selectOption(ge)},j="".concat(i.getElementId("option"),"-").concat(ce),X={id:j,onClick:le,onMouseMove:Y,onMouseOver:Y,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:re};return _.createElement(h,fe({},m,{innerProps:X,data:ge,isDisabled:z,isSelected:re,key:j,label:L,type:ne,value:Q,isFocused:de,innerRef:de?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(me.data,"menu"))},$;if(this.hasOptions())$=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var me=G.data,ce=G.options,ne=G.index,ge="".concat(i.getElementId("group"),"-").concat(ne),z="".concat(ge,"-heading");return _.createElement(a,fe({},m,{key:ge,data:me,options:ce,Heading:s,headingProps:{id:z,data:G.data},label:i.formatGroupLabel(G.data)}),G.options.map(function(re){return D(re,"".concat(ne,"-").concat(re.index))}))}else if(G.type==="option")return D(G,"".concat(G.index))});else if(y){var M=x({inputValue:w});if(M===null)return null;$=_.createElement(f,m,M)}else{var F=I({inputValue:w});if(F===null)return null;$=_.createElement(d,m,F)}var B={minMenuHeight:E,maxMenuHeight:b,menuPlacement:k,menuPosition:N,menuShouldScrollIntoView:V},q=_.createElement(Y3,fe({},m,B),function(G){var me=G.ref,ce=G.placerProps,ne=ce.placement,ge=ce.maxHeight;return _.createElement(l,fe({},m,B,{innerRef:me,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:y,placement:ne}),_.createElement(v$,{captureEnabled:p,onTopArrive:T,onBottomArrive:P,lockEnabled:O},function(z){return _.createElement(u,fe({},m,{innerRef:function(L){i.getMenuListRef(L),z(L)},innerProps:{role:"listbox","aria-multiselectable":m.isMulti,id:i.getElementId("listbox")},isLoading:y,maxHeight:ge,focusedOption:g}),$)}))});return A||N==="fixed"?_.createElement(c,fe({},m,{appendTo:A,controlElement:this.controlRef,menuPlacement:k,menuPosition:N}),q):q}},{key:"renderFormField",value:function(){var i=this,o=this.props,a=o.delimiter,s=o.isDisabled,l=o.isMulti,u=o.name,c=o.required,f=this.state.selectValue;if(c&&!this.hasValue()&&!s)return _.createElement(_$,{name:u,onFocus:this.onValueInputFocus});if(!(!u||s))if(l)if(a){var d=f.map(function(g){return i.getOptionValue(g)}).join(a);return _.createElement("input",{name:u,type:"hidden",value:d})}else{var h=f.length>0?f.map(function(g,v){return _.createElement("input",{key:"i-".concat(v),name:u,type:"hidden",value:i.getOptionValue(g)})}):_.createElement("input",{name:u,type:"hidden",value:""});return _.createElement("div",null,h)}else{var m=f[0]?this.getOptionValue(f[0]):"";return _.createElement("input",{name:u,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,a=o.ariaSelection,s=o.focusedOption,l=o.focusedValue,u=o.isFocused,c=o.selectValue,f=this.getFocusableOptions();return _.createElement(o$,fe({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:s,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,a=i.IndicatorsContainer,s=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,f=u.id,d=u.isDisabled,h=u.menuIsOpen,m=this.state.isFocused,g=this.commonProps=this.getCommonProps();return _.createElement(s,fe({},g,{className:c,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:m}),this.renderLiveRegion(),_.createElement(o,fe({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:m,menuIsOpen:h}),_.createElement(l,fe({},g,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(a,fe({},g,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a=o.prevProps,s=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,u=o.ariaSelection,c=o.isFocused,f=o.prevWasFocused,d=o.instancePrefix,h=i.options,m=i.value,g=i.menuIsOpen,v=i.inputValue,p=i.isMulti,w=mf(m),y={};if(a&&(m!==a.value||h!==a.options||g!==a.menuIsOpen||v!==a.inputValue)){var x=g?I$(i,w):[],E=g?p_(pc(i,w),"".concat(d,"-option")):[],b=s?L$(o,w):null,C=A$(o,x),k=Mp(E,C);y={selectValue:w,focusedOption:C,focusedOptionId:k,focusableOptionsWithIds:E,focusedValue:b,clearFocusValueOnUpdate:!1}}var N=l!=null&&i!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},A=u,O=c&&f;return c&&!O&&(A={value:Us(p,w,w[0]||null),options:w,action:"initial-input-focus"},O=!f),u?.action==="initial-input-focus"&&(A=null),oe(oe(oe({},y),N),{},{prevProps:i,ariaSelection:A,prevWasFocused:O})}}]),n}(_.Component);cv.defaultProps=R$;var $$=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function ST(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,o=e.defaultValue,a=o===void 0?null:o,s=e.inputValue,l=e.menuIsOpen,u=e.onChange,c=e.onInputChange,f=e.onMenuClose,d=e.onMenuOpen,h=e.value,m=wr(e,$$),g=_.useState(s!==void 0?s:n),v=Ur(g,2),p=v[0],w=v[1],y=_.useState(l!==void 0?l:i),x=Ur(y,2),E=x[0],b=x[1],C=_.useState(h!==void 0?h:a),k=Ur(C,2),N=k[0],A=k[1],O=_.useCallback(function(M,F){typeof u=="function"&&u(M,F),A(M)},[u]),V=_.useCallback(function(M,F){var B;typeof c=="function"&&(B=c(M,F)),w(B!==void 0?B:M)},[c]),I=_.useCallback(function(){typeof d=="function"&&d(),b(!0)},[d]),T=_.useCallback(function(){typeof f=="function"&&f(),b(!1)},[f]),P=s!==void 0?s:p,D=l!==void 0?l:E,$=h!==void 0?h:N;return oe(oe({},m),{},{inputValue:P,menuIsOpen:D,onChange:O,onInputChange:V,onMenuClose:T,onMenuOpen:I,value:$})}var j$=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],g_=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(t).toLowerCase(),o=String(r.getOptionValue(n)).toLowerCase(),a=String(r.getOptionLabel(n)).toLowerCase();return o===i||a===i},Dp={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,r,i){return!(!t||n.some(function(o){return g_(t,o,i)})||r.some(function(o){return g_(t,o,i)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function H$(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,r=e.createOptionPosition,i=r===void 0?"last":r,o=e.formatCreateLabel,a=o===void 0?Dp.formatCreateLabel:o,s=e.isValidNewOption,l=s===void 0?Dp.isValidNewOption:s,u=e.getNewOptionData,c=u===void 0?Dp.getNewOptionData:u,f=e.onCreateOption,d=e.options,h=d===void 0?[]:d,m=e.onChange,g=wr(e,j$),v=g.getOptionValue,p=v===void 0?hT:v,w=g.getOptionLabel,y=w===void 0?dT:w,x=g.inputValue,E=g.isLoading,b=g.isMulti,C=g.value,k=g.name,N=_.useMemo(function(){return l(x,mf(C),h,{getOptionValue:p,getOptionLabel:y})?c(x,a(x)):void 0},[a,c,y,p,x,l,h,C]),A=_.useMemo(function(){return(n||!E)&&N?i==="first"?[N].concat(va(h)):[].concat(va(h),[N]):h},[n,i,E,N,h]),O=_.useCallback(function(V,I){if(I.action!=="select-option")return m(V,I);var T=Array.isArray(V)?V:[V];if(T[T.length-1]===N){if(f)f(x);else{var P=c(x,x),D={action:"create-option",name:k,option:P};m(Us(b,[].concat(va(mf(C)),[P]),P),D)}return}m(V,I)},[c,x,b,k,N,f,m,C]);return oe(oe({},g),{},{options:A,onChange:O})}var U$=_.forwardRef(function(e,t){var n=ST(e),r=H$(n);return _.createElement(cv,fe({ref:t},r))}),V$=U$,B$=_.forwardRef(function(e,t){var n=ST(e);return _.createElement(cv,fe({ref:t},n))}),Y$=B$;function fv({options:e,children:t,onChange:n,value:r,id:i}){const o=a=>S.jsx("div",{id:i,style:{width:"100%",height:"100%"},children:S.jsx(lT.DropdownIndicator,{...a,children:t})});return S.jsx("div",{className:"svg-container",children:S.jsx(Y$,{components:{DropdownIndicator:o},options:e,value:r?{value:r,label:r}:null,styles:{control:()=>({height:"inherit"}),container:()=>({aspectRatio:"1/1",height:"inherit"}),valueContainer:()=>({height:0,width:0,overflow:"hidden"}),indicatorsContainer:()=>({height:"inherit"}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:()=>({padding:0,height:"inherit"}),menu:a=>({...a,zIndex:10,width:"max-content",textAlign:"left"})},tabSelectsValue:!1,isSearchable:!1,onChange:a=>{n(a?.value)}})})}function xT({compact:e=!1}){const n=_.useContext(xt).portaCountClient.externalController,[r,i]=_.useState(""),[o]=ae(H.SHOW_EXTERNAL_CONTROL);function a(){n.sendCommand(r),i("")}const s={"":"","Switch to App Control":be.INVOKE_EXTERNAL_CONTROL,"Switch to PortaCount Control":be.RELEASE_FROM_EXTERNAL_CONTROL,"Request Settings":be.REQUEST_SETTINGS,"Request Runtime Status":be.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE,"Request Voltage Status":be.REQUEST_VOLTAGE_INFO,"Sample from Ambient":be.SWITCH_VALVE_ON,"Sample from Mask":be.SWITCH_VALVE_OFF,"Disable data transmission":be.DISABLE_CONTINUOUS_DATA_TRANSMISSION,"Enable data transmission":be.ENABLE_CONTINUOUS_DATA_TRANSMISSION,"Beep!":be.SOUND_BEEPER_INSIDE_THE_PORTACOUNT_PLUS.replace("xx","02"),"Power Off":be.TURN_POWER_OFF},l=Object.entries(s).map(([c,f])=>({value:f,label:c})),u=o?S.jsx(fv,{options:l,onChange:c=>n.sendCommand(c),children:S.jsx(sL,{})}):null;return S.jsx(S.Fragment,{children:e?u:S.jsxs("div",{style:{display:"inline-flex",height:"fit-content"},children:[S.jsx(V$,{name:"Mask",options:l,value:r?{value:r,label:r}:null,styles:{menu:c=>({...c,zIndex:2,width:"max-content",textAlign:"left"}),singleValue:c=>({...c,whiteSpace:"normal",width:"9rem"}),input:c=>({...c,width:"9rem"})},tabSelectsValue:!1,onChange:c=>i(c?.value),allowCreateWhileLoading:!0,isSearchable:!0,placeholder:"Type command..."}),S.jsx("input",{type:"button",value:"Send",id:"send-command-button",onClick:a})]})})}function lt({trueLabel:e,falseLabel:t,setting:n}){const[r,i]=ae(n);function o(l){return l.toString().replace(/^(.)/,(u,c)=>`${c[0].toUpperCase()}`).replace(/(-(.))/g,(u,c)=>` ${c[1].toUpperCase()}`)}const a=e??o(n),s=`${a.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`;return S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{className:"setting-name",htmlFor:s,children:r?a:t||a}),S.jsxs("label",{className:"switch",children:[S.jsx("input",{type:"checkbox",id:s,onChange:l=>i(l.target.checked),checked:r}),S.jsx("span",{className:"slider round"})]})]})}function bT({trueLabel:e,falseLabel:t,value:n,setValue:r}){const i=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`;return S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{className:"setting-name",htmlFor:i,children:n?e:t||e}),S.jsxs("label",{className:"switch",children:[S.jsx("input",{type:"checkbox",id:i,onChange:o=>r(o.target.checked),checked:n}),S.jsx("span",{className:"slider round"})]})]})}function ET({trueLabel:e,falseLabel:t,trueValue:n,value:r,setValue:i,...o}){const a=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`,s=t??e,l=n??e,u=o.disabled?"disabled":"";return S.jsxs("div",{style:{display:"inline-flex"},children:[S.jsx("label",{className:`setting-name ${u}`,htmlFor:a,children:r}),S.jsxs("label",{className:"switch",children:[S.jsx("input",{...o,type:"checkbox",id:a,onChange:c=>i(c.target.checked?e:s),checked:r===l}),S.jsx("span",{className:`slider round ${u}`})]})]})}function z$(){const t=_.useContext(xt).portaCountClient,[n]=ae(H.SHOW_EXTERNAL_CONTROL),[r,i]=_.useState(t.state.controlSource);function o(l){return l!==$t.RECEIVING}const[a,s]=_.useState(o(t.state.connectionStatus));return _.useEffect(()=>{const l={controlSourceChanged(u){i(u)},connectionStatusChanged(u){s(o(u))}};return t.addListener(l),()=>{t.removeListener(l)}},[]),S.jsxs("fieldset",{className:"info-box-compact",children:[S.jsx("legend",{children:"Control"}),n?S.jsx(ET,{trueLabel:Ee.External,falseLabel:Ee.Internal,value:r,setValue:l=>t.externalController.controlSource=l,disabled:a}):r]})}function W$(){const t=_.useContext(xt).portaCountClient,[n]=ae(H.SHOW_EXTERNAL_CONTROL),[r,i]=_.useState(t.state.sampleSource);function o(l){return l===Ee.Internal}const[a,s]=_.useState(o(t.state.controlSource));return _.useEffect(()=>{const l={sampleSourceChanged(u){i(u)},controlSourceChanged(u){s(o(u))}};return t.addListener(l),()=>{t.removeListener(l)}},[]),S.jsxs("fieldset",{id:"portacount-sample-source-widget",className:"info-box-compact",children:[S.jsx("legend",{children:"Source"}),n?S.jsx(ET,{trueLabel:Te.MASK,falseLabel:Te.AMBIENT,value:r,setValue:l=>t.externalController.sampleSource=l,disabled:a}):r]})}function CT({label:e="Activity",border:t=!0}){const[n]=ae(H.ACTIVITY);return e?S.jsxs("fieldset",{className:"info-box-compact",children:[S.jsx("legend",{children:"Activity"}),n]}):S.jsx("div",{className:t?"thin-border":"",children:n})}function TT({label:e="Last line",border:t=!0}){const r=_.useContext(xt).portaCountClient,[i,o]=_.useState(r.state.lastLine);_.useEffect(()=>{const s={lineReceived(l){o(l)}};return r.addListener(s),()=>{r.removeListener(s)}},[]),_.useEffect(()=>{const s=setTimeout(()=>{o(""),console.debug("last line timeout expired")},3e3);return()=>clearTimeout(s)},[i]);const a=S.jsx(S.Fragment,{children:i.trim().length==0?"":i});return e?S.jsxs("fieldset",{className:"info-box-compact",style:{width:"8rem"},children:[S.jsxs("legend",{className:"number-field no-wrap",children:[e," ",i.trim().length>0?hR(new Date,!0):""]}),S.jsx("div",{className:"console-8020",children:a})]}):S.jsx("div",{className:`console-8020 ${t&&"thin-border"}`,children:a})}var dg=new Map,Iu=new WeakMap,v_=0,q$=void 0;function Q$(e){return e?(Iu.has(e)||(v_+=1,Iu.set(e,v_.toString())),Iu.get(e)):"0"}function G$(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Q$(e.root):e[t]}`).toString()}function K$(e){const t=G$(e);let n=dg.get(t);if(!n){const r=new Map;let i;const o=new IntersectionObserver(a=>{a.forEach(s=>{var l;const u=s.isIntersecting&&i.some(c=>s.intersectionRatio>=c);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(l=r.get(s.target))==null||l.forEach(c=>{c(u,s)})})},e);i=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:r},dg.set(t,n)}return n}function X$(e,t,n={},r=q$){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:o,elements:a}=K$(n),s=a.get(e)||[];return a.has(e)||a.set(e,s),s.push(t),o.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(a.delete(e),o.unobserve(e)),a.size===0&&(o.disconnect(),dg.delete(i))}}function Z$({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:o,skip:a,initialInView:s,fallbackInView:l,onChange:u}={}){var c;const[f,d]=_.useState(null),h=_.useRef(),[m,g]=_.useState({inView:!!s,entry:void 0});h.current=u,_.useEffect(()=>{if(a||!f)return;let y;return y=X$(f,(x,E)=>{g({inView:x,entry:E}),h.current&&h.current(x,E),E.isIntersecting&&o&&y&&(y(),y=void 0)},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},l),()=>{y&&y()}},[Array.isArray(e)?e.toString():e,f,i,r,o,a,n,l,t]);const v=(c=m.entry)==null?void 0:c.target,p=_.useRef();!f&&v&&!o&&!a&&p.current!==v&&(p.current=v,g({inView:!!s,entry:void 0}));const w=[d,m.inView,m.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}function J$(e){return it({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M19.892 4.09a3.75 3.75 0 0 0-5.303 0l-4.5 4.5c-.074.074-.144.15-.21.229l4.965 4.966a3.75 3.75 0 0 0-1.986-4.428.75.75 0 0 1 .646-1.353 5.253 5.253 0 0 1 2.502 6.944l5.515 5.515a.75.75 0 0 1-1.061 1.06l-18-18.001A.75.75 0 0 1 3.521 2.46l5.294 5.295a5.31 5.31 0 0 1 .213-.227l4.5-4.5a5.25 5.25 0 1 1 7.425 7.425l-1.757 1.757a.75.75 0 1 1-1.06-1.06l1.756-1.757a3.75 3.75 0 0 0 0-5.304ZM5.846 11.773a.75.75 0 0 1 0 1.06l-1.757 1.758a3.75 3.75 0 0 0 5.303 5.304l3.129-3.13a.75.75 0 1 1 1.06 1.061l-3.128 3.13a5.25 5.25 0 1 1-7.425-7.426l1.757-1.757a.75.75 0 0 1 1.061 0Zm2.401.26a.75.75 0 0 1 .957.458c.18.512.474.992.885 1.403.31.311.661.555 1.035.733a.75.75 0 0 1-.647 1.354 5.244 5.244 0 0 1-1.449-1.026 5.232 5.232 0 0 1-1.24-1.965.75.75 0 0 1 .46-.957Z",clipRule:"evenodd"},child:[]}]})(e)}function kT({compact:e=!1}){const t=_.useContext(xt),[n]=_.useState(t.dataCollector),[r]=_.useState(t.portaCountClient),[i]=ae(H.ENABLE_SIMULATOR),[o]=ae(H.BAUD_RATE),a=[3,30,300,1200,14400,28800,56760],[s,l]=ae(H.SIMULATOR_FILE_SPEED),[u,c]=ae(H.SELECTED_DATA_SOURCE),[f,d]=_.useState(r.state.connectionStatus),[,h]=ae(H.CONNECTION_STATUS_IN_VIEW),[m]=ae(H.ENABLE_WEB_SERIAL_DRIVERS),{ref:g,inView:v}=Z$();_.useEffect(()=>{const O={connectionStatusChanged(V){d(V)}};return r.addListener(O),()=>{r.removeListener(O)}},[]),_.useEffect(()=>{h(v)},[v]);function p(){n.dataSource=We.WebUsbSerial,new ga().requestPort().then(w)}function w(O){console.log(`got serial port ${O.toLocaleString()}, using baud rate ${o}`),r.connect(O)}function y(){n.dataSource=We.WebSerial,"serial"in navigator?(console.log("webserial supported!"),navigator.serial.requestPort().then(w)):console.log("no serial support. As of this writing, web serial is only supported on desktop chrome.")}function x(){n.dataSource=We.Simulator,w(t.portaCountSimulator.port)}function E(){n.dataSource=We.Simulator;function O(V,I=null){return{readable:V,writable:I,connected:!1,getInfo(){return{}},open(){return this.connected=!0,Promise.resolve()}}}if("showOpenFilePicker"in window)window.showOpenFilePicker({id:"simulator-files"}).then(V=>{V[0].getFile().then(I=>{const T=gw(new gi(I,s)),P=O(T,null);w(P)})});else{const V=gw(new gi("./fit-test-console/simulator-data/test-data.txt",s)),I=O(V,null);w(I)}}function b(){C(u)}function C(O){switch(O){case We.WebUsbSerial:p();break;case We.WebSerial:y();break;case We.Simulator:n.fitFactorEstimator.resetChart(),x();break;case We.SimulatorFile:n.fitFactorEstimator.resetChart(),E();break;default:console.log(`unexpected dataSource : ${O}`);break}}function k(O){C(O)}const N=[{value:We.WebUsbSerial,label:"App drivers (webusb serial)"}];m&&N.push({value:We.WebSerial,label:"Computer drivers (webserial)"}),i&&N.push({value:We.SimulatorFile,label:"Simulator (file)"},{value:We.Simulator,label:"Simulator"});const A=S.jsxs(fv,{id:"compact-driver-selector-widget",options:N,onChange:O=>k(O),children:[f===$t.DISCONNECTED&&S.jsx(J$,{color:"red"}),f===$t.WAITING&&S.jsx(vL,{color:"orange"}),f===$t.RECEIVING&&S.jsx(hL,{color:"green"})]});return e?A:S.jsxs("fieldset",{id:"driver-selector-widget",className:"info-box-compact",ref:g,children:[S.jsxs("legend",{children:["Data Source ",S.jsx("span",{className:mR(f),children:f})]}),S.jsxs("div",{style:{display:"inline-block"},children:[S.jsx("select",{id:"data-source-selector",value:u,onChange:O=>c(O.target.value),disabled:r.state.connectionStatus!==$t.DISCONNECTED,children:N.map(O=>S.jsx("option",{value:O.value,children:O.label},O.value))}),u===We.SimulatorFile&&S.jsxs("div",{style:{display:"inline-block"},children:[S.jsx("label",{htmlFor:"simulation-speed-select"}),S.jsx("select",{id:"simulation-speed-select",value:s,onChange:O=>l(Number(O.target.value)),children:a.map(O=>S.jsxs("option",{value:O,children:[O," bps"]},O))})]})]}),S.jsx("input",{className:"button",type:"button",value:"Connect",id:"connect-button",disabled:r.state.connectionStatus!==$t.DISCONNECTED,onClick:b})]})}function e5({...e}){return S.jsx("fieldset",{style:{borderBottom:"none",borderInline:"none",paddingInline:0,minWidth:0},children:e.children})}const t5="modulepreload",n5=function(e,t){return new URL(e,t).href},y_={},Ld=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(u=>{if(u=n5(u,r),u in y_)return;y_[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let m=a.length-1;m>=0;m--){const g=a[m];if(g.href===u&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":t5,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})},MT=_.lazy(()=>Ld(()=>import("./ResultsTable-B4lPvnWC.js"),__vite__mapDeps([0,1]),import.meta.url)),r5=_.lazy(()=>Ld(()=>import("./SimpleFitTestProtocolPanel-C5S0-jUB.js"),__vite__mapDeps([2,3]),import.meta.url)),i5=_.lazy(()=>Ld(()=>import("./QRScanner-B2ZUiug1.js"),[],import.meta.url));function o5(){const e=_.useContext(xt),[,t]=_.useState({}),n=_.useCallback(()=>{t({})},[]),[r]=ae(H.SELECTED_PROTOCOL),[i]=ae(H.TEST_TEMPLATE),[o,a]=_.useState([]);_.useEffect(()=>{const u={subscriptions:()=>[H.TEST_TEMPLATE],settingsChanged(c,f){console.log(`setting ${c} changed to ${JSON.stringify(f)}`),s(f.Participant)}};return e.settings.addListener(u),s(i.Participant),()=>{e.settings.removeListener(u)}},[]),_.useEffect(()=>{console.debug(`selectedProtocolChanged, num exercises is ${e.settings.numExercises}`),n()},[r]);function s(u){const c=new Date;u=(u??"").trim();const f=new Date(c.getTime()-c.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);Rn.getData(d=>{const h=new Date(d.Time),m=new Date(h.getTime()-h.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);return(d.Participant??"").trim()===u&&m.startsWith(f)}).then(d=>{a(d)})}async function l(u){await Promise.all(u.map(c=>Rn.deleteRecordById(c))),s(i.Participant)}return S.jsx("div",{id:"current-participant-info",children:S.jsxs(e5,{children:[S.jsxs("legend",{children:["Results",i.Participant?` for ${i.Participant}`:""]}),S.jsx("div",{style:{justifySelf:"center",maxWidth:"100%"},children:S.jsx(MT,{tableData:o,setTableData:a,searchableColumns:[],hideColumns:["Participant","Time"],minExercisesToShow:e.settings.numExercises,columnSortingSettingKey:H.PARTICIPANT_RESULTS_TABLE_SORT,columnFilterSettingKey:H.PARTICIPANT_RESULTS_TABLE_FILTER,deleteRowsCallback:l})})]})})}function DT(){return S.jsxs("div",{style:{display:"block"},children:["This app requires Chrome browser for some features. Get it here: ",S.jsx("a",{href:"https://www.google.com/chrome/",children:"https://www.google.com/chrome/"})]})}function a5(){const e=navigator.userAgent.includes("Chrome");return S.jsx(S.Fragment,{children:!e&&S.jsx(DT,{})})}function s5(){const[e]=ae(H.SHOW_EXTERNAL_CONTROL),[t]=ae(H.USE_COMPACT_UI),[n]=ae(H.ZOOM_INSTRUCTIONS);return S.jsxs(S.Fragment,{children:[S.jsx(a5,{}),!n&&S.jsxs("section",{id:"control-widgets",style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifySelf:"center"},children:[!t&&S.jsx(kT,{}),!t&&e&&S.jsx(z$,{}),!t&&e&&S.jsx(W$,{}),!t&&S.jsx(CT,{}),!t&&S.jsx(TT,{}),!t&&e&&S.jsx(xT,{})]}),!n&&S.jsx(bL,{}),S.jsx(yL,{}),!n&&S.jsx(o5,{})]})}function l5(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:a}=e;let s,l,u;const c=async(d=!0)=>{await l,await u?.()};async function f(){if("serviceWorker"in navigator){if(s=await Ld(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[],import.meta.url).then(({Workbox:d})=>new d("./sw.js",{scope:"./",type:"classic"})).catch(d=>{a?.(d)}),!s)return;u=async()=>{await s?.messageSkipWaiting()};{let d=!1;const h=()=>{d=!0,s?.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()}),n?.()};s.addEventListener("installed",m=>{typeof m.isUpdate>"u"?typeof m.isExternal<"u"?m.isExternal?h():!d&&r?.():m.isExternal?window.location.reload():!d&&r?.():m.isUpdate||r?.()}),s.addEventListener("waiting",h),s.addEventListener("externalwaiting",h)}s.register({immediate:t}).then(d=>{o?o("./sw.js",d):i?.(d)}).catch(d=>{a?.(d)})}}return l=f(),c}var dv={};Object.defineProperty(dv,"__esModule",{value:!0});dv.parse=m5;dv.serialize=g5;const u5=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,c5=/^[\u0021-\u003A\u003C-\u007E]*$/,f5=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,d5=/^[\u0020-\u003A\u003D-\u007E]*$/,h5=Object.prototype.toString,p5=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function m5(e,t){const n=new p5,r=e.length;if(r<2)return n;const i=t?.decode||v5;let o=0;do{const a=e.indexOf("=",o);if(a===-1)break;const s=e.indexOf(";",o),l=s===-1?r:s;if(a>l){o=e.lastIndexOf(";",a-1)+1;continue}const u=w_(e,o,a),c=__(e,a,u),f=e.slice(u,c);if(n[f]===void 0){let d=w_(e,a+1,l),h=__(e,l,d);const m=i(e.slice(d,h));n[f]=m}o=l+1}while(o<r);return n}function w_(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function __(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function g5(e,t,n){const r=n?.encode||encodeURIComponent;if(!u5.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!c5.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!f5.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!d5.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!y5(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function v5(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function y5(e){return h5.call(e)==="[object Date]"}/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S_="popstate";function w5(e={}){function t(i,o){let{pathname:a="/",search:s="",hash:l=""}=Ao(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),hg("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:Pl(o))}function r(i,o){Ln(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return S5(t,n,r,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ln(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _5(){return Math.random().toString(36).substring(2,10)}function x_(e,t){return{usr:e.state,key:e.key,idx:t}}function hg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ao(t):t,state:n,key:t&&t.key||r||_5()}}function Pl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ao(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S5(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,u=c();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function f(){s="POP";let v=c(),p=v==null?null:v-u;u=v,l&&l({action:s,location:g.location,delta:p})}function d(v,p){s="PUSH";let w=hg(g.location,v,p);n&&n(w,v),u=c()+1;let y=x_(w,u),x=g.createHref(w);try{a.pushState(y,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(x)}o&&l&&l({action:s,location:g.location,delta:1})}function h(v,p){s="REPLACE";let w=hg(g.location,v,p);n&&n(w,v),u=c();let y=x_(w,u),x=g.createHref(w);a.replaceState(y,"",x),o&&l&&l({action:s,location:g.location,delta:0})}function m(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:Pl(v);return w=w.replace(/ $/,"%20"),Ze(p,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,p)}let g={get action(){return s},get location(){return e(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(S_,f),l=v,()=>{i.removeEventListener(S_,f),l=null}},createHref(v){return t(i,v)},createURL:m,encodeLocation(v){let p=m(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:h,go(v){return a.go(v)}};return g}function OT(e,t,n="/"){return x5(e,t,n,!1)}function x5(e,t,n,r){let i=typeof t=="string"?Ao(t):t,o=Ai(i.pathname||"/",n);if(o==null)return null;let a=PT(e);b5(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=I5(o);s=N5(a[l],u,r)}return s}function PT(e,t=[],n=[],r=""){let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Vr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),PT(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:O5(u,o.index),routesMeta:c})};return e.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))i(o,a);else for(let s of NT(o.path))i(o,a,s)}),t}function NT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=NT(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function b5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:P5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var E5=/^:[\w-]+$/,C5=3,T5=2,k5=1,M5=10,D5=-2,b_=e=>e==="*";function O5(e,t){let n=e.split("/"),r=n.length;return n.some(b_)&&(r+=D5),t&&(r+=T5),n.filter(i=>!b_(i)).reduce((i,o)=>i+(E5.test(o)?C5:o===""?k5:M5),r)}function P5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function N5(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",f=yf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=yf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Vr([o,f.pathname]),pathnameBase:$5(Vr([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Vr([o,f.pathnameBase]))}return a}function yf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=R5(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},d)=>{if(c==="*"){let m=s[d]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const h=s[d];return f&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function R5(e,t=!1,n=!0){Ln(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function I5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ln(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ai(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function L5(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ao(e):e;return{pathname:n?n.startsWith("/")?n:A5(n,t):t,search:j5(r),hash:H5(i)}}function A5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Op(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function RT(e){let t=F5(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function IT(e,t,n,r=!1){let i;typeof e=="string"?i=Ao(e):(i={...e},Ze(!i.pathname||!i.pathname.includes("?"),Op("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Op("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Op("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?t[f]:"/"}let l=L5(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Vr=e=>e.join("/").replace(/\/\/+/g,"/"),$5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function U5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var LT=["POST","PUT","PATCH","DELETE"];new Set(LT);var V5=["GET",...LT];new Set(V5);var os=_.createContext(null);os.displayName="DataRouter";var Ad=_.createContext(null);Ad.displayName="DataRouterState";var AT=_.createContext({isTransitioning:!1});AT.displayName="ViewTransition";var B5=_.createContext(new Map);B5.displayName="Fetchers";var Y5=_.createContext(null);Y5.displayName="Await";var Sr=_.createContext(null);Sr.displayName="Navigation";var Xl=_.createContext(null);Xl.displayName="Location";var xr=_.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var hv=_.createContext(null);hv.displayName="RouteError";function z5(e,{relative:t}={}){Ze(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Sr),{hash:i,pathname:o,search:a}=Jl(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:Vr([n,o])),r.createHref({pathname:s,search:a,hash:i})}function Zl(){return _.useContext(Xl)!=null}function ai(){return Ze(Zl(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Xl).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(e){_.useContext(Sr).static||_.useLayoutEffect(e)}function Fd(){let{isDataRoute:e}=_.useContext(xr);return e?a4():W5()}function W5(){Ze(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(os),{basename:t,navigator:n}=_.useContext(Sr),{matches:r}=_.useContext(xr),{pathname:i}=ai(),o=JSON.stringify(RT(r)),a=_.useRef(!1);return $T(()=>{a.current=!0}),_.useCallback((l,u={})=>{if(Ln(a.current,FT),!a.current)return;if(typeof l=="number"){n.go(l);return}let c=IT(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Vr([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}var q5=_.createContext(null);function Q5(e){let t=_.useContext(xr).outlet;return t&&_.createElement(q5.Provider,{value:e},t)}function Jl(e,{relative:t}={}){let{matches:n}=_.useContext(xr),{pathname:r}=ai(),i=JSON.stringify(RT(n));return _.useMemo(()=>IT(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function G5(e,t){return jT(e,t)}function jT(e,t,n,r){Ze(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(Sr),{matches:o}=_.useContext(xr),a=o[o.length-1],s=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",c=a&&a.route;{let p=c&&c.path||"";HT(l,!c||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let f=ai(),d;if(t){let p=typeof t=="string"?Ao(t):t;Ze(u==="/"||p.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),d=p}else d=f;let h=d.pathname||"/",m=h;if(u!=="/"){let p=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let g=OT(e,{pathname:m});Ln(c||g!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Ln(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=e4(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},s,p.params),pathname:Vr([u,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Vr([u,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,r);return t&&v?_.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},v):v}function K5(){let e=o4(),t=U5(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,a)}var X5=_.createElement(K5,null),Z5=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(xr.Provider,{value:this.props.routeContext},_.createElement(hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J5({routeContext:e,match:t,children:n}){let r=_.useContext(os);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(xr.Provider,{value:e},n)}function e4(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n?.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&o?.[u.route.id]!==void 0);Ze(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,s=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(s=l),u.route.id){let{loaderData:c,errors:f}=n,d=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||d){a=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let f,d=!1,h=null,m=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,h=u.route.errorElement||X5,a&&(s<0&&c===0?(HT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,m=null):s===c&&(d=!0,m=u.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,c+1)),v=()=>{let p;return f?p=h:d?p=m:u.route.Component?p=_.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=l,_.createElement(J5,{match:u,routeContext:{outlet:l,matches:g,isDataRoute:n!=null},children:p})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?_.createElement(Z5,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}function pv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t4(e){let t=_.useContext(os);return Ze(t,pv(e)),t}function n4(e){let t=_.useContext(Ad);return Ze(t,pv(e)),t}function r4(e){let t=_.useContext(xr);return Ze(t,pv(e)),t}function mv(e){let t=r4(e),n=t.matches[t.matches.length-1];return Ze(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function i4(){return mv("useRouteId")}function o4(){let e=_.useContext(hv),t=n4("useRouteError"),n=mv("useRouteError");return e!==void 0?e:t.errors?.[n]}function a4(){let{router:e}=t4("useNavigate"),t=mv("useNavigate"),n=_.useRef(!1);return $T(()=>{n.current=!0}),_.useCallback(async(i,o={})=>{Ln(n.current,FT),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var E_={};function HT(e,t,n){!t&&!E_[e]&&(E_[e]=!0,Ln(!1,n))}_.memo(s4);function s4({routes:e,future:t,state:n}){return jT(e,void 0,n,t)}function l4(e){return Q5(e.context)}function _n(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u4({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ze(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),s=_.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=Ao(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:d="default"}=n,h=_.useMemo(()=>{let m=Ai(l,a);return m==null?null:{location:{pathname:m,search:u,hash:c,state:f,key:d},navigationType:r}},[a,l,u,c,f,d,r]);return Ln(h!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:_.createElement(Sr.Provider,{value:s},_.createElement(Xl.Provider,{children:t,value:h}))}function c4({children:e,location:t}){return G5(pg(e),t)}function pg(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let o=[...t,i];if(r.type===_.Fragment){n.push.apply(n,pg(r.props.children,o));return}Ze(r.type===_n,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=pg(r.props.children,o)),n.push(a)}),n}var mc="get",gc="application/x-www-form-urlencoded";function $d(e){return e!=null&&typeof e.tagName=="string"}function f4(e){return $d(e)&&e.tagName.toLowerCase()==="button"}function d4(e){return $d(e)&&e.tagName.toLowerCase()==="form"}function h4(e){return $d(e)&&e.tagName.toLowerCase()==="input"}function p4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m4(e,t){return e.button===0&&(!t||t==="_self")&&!p4(e)}function mg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function g4(e,t){let n=mg(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var Lu=null;function v4(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var y4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pp(e){return e!=null&&!y4.has(e)?(Ln(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gc}"`),null):e}function w4(e,t){let n,r,i,o,a;if(d4(e)){let s=e.getAttribute("action");r=s?Ai(s,t):null,n=e.getAttribute("method")||mc,i=Pp(e.getAttribute("enctype"))||gc,o=new FormData(e)}else if(f4(e)||h4(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(r=l?Ai(l,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||mc,i=Pp(e.getAttribute("formenctype"))||Pp(s.getAttribute("enctype"))||gc,o=new FormData(s,e),!v4()){let{name:u,type:c,value:f}=e;if(c==="image"){let d=u?`${u}.`:"";o.append(`${d}x`,"0"),o.append(`${d}y`,"0")}else u&&o.append(u,f)}}else{if($d(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mc,r=null,i=gc,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function gv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function _4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function x4(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await _4(o,n);return a.links?a.links():[]}return[]}));return T4(r.flat(1).filter(S4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function C_(e,t,n,r,i,o){let a=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,s=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,u)=>a(l,u)||s(l,u)):o==="data"?t.filter((l,u)=>{let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function b4(e,t){return E4(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function E4(e){return[...new Set(e)]}function C4(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function T4(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(C4(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function k4(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function M4(){let e=_.useContext(os);return gv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function D4(){let e=_.useContext(Ad);return gv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vv=_.createContext(void 0);vv.displayName="FrameworkContext";function UT(){let e=_.useContext(vv);return gv(e,"You must render this element inside a <HydratedRouter> element"),e}function O4(e,t){let n=_.useContext(vv),[r,i]=_.useState(!1),[o,a]=_.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,d=_.useRef(null);_.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let g=p=>{p.forEach(w=>{a(w.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return d.current&&v.observe(d.current),()=>{v.disconnect()}}},[e]),_.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let h=()=>{i(!0)},m=()=>{i(!1),a(!1)};return n?e!=="intent"?[o,d,{}]:[o,d,{onFocus:bs(s,h),onBlur:bs(l,m),onMouseEnter:bs(u,h),onMouseLeave:bs(c,m),onTouchStart:bs(f,h)}]:[!1,d,{}]}function bs(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function P4({page:e,...t}){let{router:n}=M4(),r=_.useMemo(()=>OT(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(R4,{page:e,matches:r,...t}):null}function N4(e){let{manifest:t,routeModules:n}=UT(),[r,i]=_.useState([]);return _.useEffect(()=>{let o=!1;return x4(e,t,n).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,n]),r}function R4({page:e,matches:t,...n}){let r=ai(),{manifest:i,routeModules:o}=UT(),{loaderData:a,matches:s}=D4(),l=_.useMemo(()=>C_(e,t,s,i,r,"data"),[e,t,s,i,r]),u=_.useMemo(()=>C_(e,t,s,i,r,"assets"),[e,t,s,i,r]),c=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let h=new Set,m=!1;if(t.forEach(v=>{let p=i.routes[v.route.id];!p||!p.hasLoader||(!l.some(w=>w.route.id===v.route.id)&&v.route.id in a&&o[v.route.id]?.shouldRevalidate||p.hasClientLoader?m=!0:h.add(v.route.id))}),h.size===0)return[];let g=k4(e);return m&&h.size>0&&g.searchParams.set("_routes",t.filter(v=>h.has(v.route.id)).map(v=>v.route.id).join(",")),[g.pathname+g.search]},[a,r,i,l,t,e,o]),f=_.useMemo(()=>b4(u,i),[u,i]),d=N4(u);return _.createElement(_.Fragment,null,c.map(h=>_.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...n})),f.map(h=>_.createElement("link",{key:h,rel:"modulepreload",href:h,...n})),d.map(({key:h,link:m})=>_.createElement("link",{key:h,...m})))}function I4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var VT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VT&&(window.__reactRouterVersion="7.1.3")}catch{}function L4({basename:e,children:t,window:n}){let r=_.useRef();r.current==null&&(r.current=w5({window:n,v5Compat:!0}));let i=r.current,[o,a]=_.useState({action:i.action,location:i.location}),s=_.useCallback(l=>{_.startTransition(()=>a(l))},[a]);return _.useLayoutEffect(()=>i.listen(s),[i,s]),_.createElement(u4,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var BT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YT=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f,...d},h){let{basename:m}=_.useContext(Sr),g=typeof u=="string"&&BT.test(u),v,p=!1;if(typeof u=="string"&&g&&(v=u,VT))try{let N=new URL(window.location.href),A=u.startsWith("//")?new URL(N.protocol+u):new URL(u),O=Ai(A.pathname,m);A.origin===N.origin&&O!=null?u=O+A.search+A.hash:p=!0}catch{Ln(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=z5(u,{relative:i}),[y,x,E]=O4(r,d),b=$4(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function C(N){t&&t(N),N.defaultPrevented||b(N)}let k=_.createElement("a",{...d,...E,href:v||w,onClick:p||o?t:C,ref:I4(h,x),target:l,"data-discover":!g&&n==="render"?"true":void 0});return y&&!g?_.createElement(_.Fragment,null,k,_.createElement(P4,{page:w})):k});YT.displayName="Link";var zT=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...u},c){let f=Jl(a,{relative:u.relative}),d=ai(),h=_.useContext(Ad),{navigator:m,basename:g}=_.useContext(Sr),v=h!=null&&Y4(f)&&s===!0,p=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=d.pathname,y=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(w=w.toLowerCase(),y=y?y.toLowerCase():null,p=p.toLowerCase()),y&&g&&(y=Ai(y,g)||y);const x=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=w===p||!i&&w.startsWith(p)&&w.charAt(x)==="/",b=y!=null&&(y===p||!i&&y.startsWith(p)&&y.charAt(p.length)==="/"),C={isActive:E,isPending:b,isTransitioning:v},k=E?t:void 0,N;typeof r=="function"?N=r(C):N=[r,E?"active":null,b?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(C):o;return _.createElement(YT,{...u,"aria-current":k,className:N,ref:c,style:A,to:a,viewTransition:s},typeof l=="function"?l(C):l)});zT.displayName="NavLink";var A4=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=mc,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...d},h)=>{let m=V4(),g=B4(s,{relative:u}),v=a.toLowerCase()==="get"?"get":"post",p=typeof s=="string"&&BT.test(s),w=y=>{if(l&&l(y),y.defaultPrevented)return;y.preventDefault();let x=y.nativeEvent.submitter,E=x?.getAttribute("formmethod")||a;m(x||y.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:f})};return _.createElement("form",{ref:h,method:v,action:g,onSubmit:r?l:w,...d,"data-discover":!p&&e==="render"?"true":void 0})});A4.displayName="Form";function F4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(e){let t=_.useContext(os);return Ze(t,F4(e)),t}function $4(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let s=Fd(),l=ai(),u=Jl(e,{relative:o});return _.useCallback(c=>{if(m4(c,t)){c.preventDefault();let f=n!==void 0?n:Pl(l)===Pl(u);s(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[l,s,u,n,r,t,e,i,o,a])}function j4(e){Ln(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(mg(e)),n=_.useRef(!1),r=ai(),i=_.useMemo(()=>g4(r.search,n.current?null:t.current),[r.search]),o=Fd(),a=_.useCallback((s,l)=>{const u=mg(typeof s=="function"?s(i):s);n.current=!0,o("?"+u,l)},[o,i]);return[i,a]}var H4=0,U4=()=>`__${String(++H4)}__`;function V4(){let{router:e}=WT("useSubmit"),{basename:t}=_.useContext(Sr),n=i4();return _.useCallback(async(r,i={})=>{let{action:o,method:a,encType:s,formData:l,body:u}=w4(r,t);if(i.navigate===!1){let c=i.fetcherKey||U4();await e.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function B4(e,{relative:t}={}){let{basename:n}=_.useContext(Sr),r=_.useContext(xr);Ze(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Jl(e||".",{relative:t})},a=ai();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(f=>f).forEach(f=>s.append("index",f));let c=s.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Vr([n,o.pathname])),Pl(o)}function Y4(e,t={}){let n=_.useContext(AT);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WT("useViewTransitionState"),i=Jl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ai(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ai(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yf(i.pathname,a)!=null||yf(i.pathname,o)!=null}new TextEncoder;function T_({label:e,value:t,setValue:n,options:r}){const i=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-select`;return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"labeled-setting",children:[S.jsxs("label",{htmlFor:i,children:[e,": "]}),S.jsx("select",{id:i,value:t,onChange:o=>n(o.target.value),children:r.map(o=>Object.entries(o).map(([a,s])=>S.jsx("option",{value:s,children:a},s)))})]})})}function z4(){const[e,t]=ae(H.SPEECH_ENABLED);return _.useEffect(()=>{gt.setSpeechEnabled(e)},[e]),S.jsx(bT,{trueLabel:"Enable speech",value:e,setValue:t})}var gg;(function(e){e.csv="text/csv",e.tsv="text/tab-separated-values",e.plain="text/plain"})(gg||(gg={}));var as=e=>e,dn=e=>e,al=as,jd=as,Fa=as,k_=as,M_=as,W4={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,fileExtension:"csv",mediaType:gg.csv,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},q4=`\r
`,Q4="\uFEFF",Hd=e=>Object.assign({},W4,e);let G4=class extends Error{constructor(t){super(t),this.name="CsvGenerationError"}},K4=class extends Error{constructor(t){super(t),this.name="EmptyHeadersError"}};class X4 extends Error{constructor(t){super(t),this.name="CsvDownloadEnvironmentError"}}class Z4 extends Error{constructor(t){super(t),this.name="UnsupportedDataFormatError"}}var J4=function(e,t){return t=='"'&&e.indexOf('"')>-1?e.replace(/"/g,'""'):e},e6=e=>k_(typeof e=="object"?e.key:e),t6=e=>M_(typeof e=="object"?e.displayLabel:e),n6=(e,...t)=>t.reduce((n,r)=>r(n),e),r6=e=>t=>e.useBom?jd(dn(t)+Q4):t,i6=e=>t=>e.showTitle?yv(jd(dn(t)+e.title))(Fa("")):t,yv=e=>t=>jd(dn(e)+dn(t)+q4),qT=e=>(t,n)=>o6(e)(Fa(dn(t)+dn(n))),o6=e=>t=>as(dn(t)+e.fieldSeparator),a6=(e,t)=>n=>{if(!e.showColumnHeaders)return n;if(t.length<1)throw new K4("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let r=Fa("");for(let i=0;i<t.length;i++){const o=t6(t[i]);r=qT(e)(r,QT(e,dn(o)))}return r=Fa(dn(r).slice(0,-1)),yv(n)(r)},s6=(e,t,n)=>r=>{let i=r;for(var o=0;o<n.length;o++){let a=Fa("");for(let s=0;s<t.length;s++){const l=e6(t[s]),u=n[o][dn(l)];a=qT(e)(a,QT(e,u))}a=Fa(dn(a).slice(0,-1)),i=yv(i)(a)}return i},l6=e=>+e===e&&(!isFinite(e)||!!(e%1)),u6=(e,t)=>{if(l6(t)){if(e.decimalSeparator==="locale")return al(t.toLocaleString());if(e.decimalSeparator)return al(t.toString().replace(".",e.decimalSeparator))}return al(t.toString())},vc=(e,t)=>{let n=t;return(e.quoteStrings||e.fieldSeparator&&t.indexOf(e.fieldSeparator)>-1||e.quoteCharacter&&t.indexOf(e.quoteCharacter)>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(n=e.quoteCharacter+J4(t,e.quoteCharacter)+e.quoteCharacter),al(n)},c6=(e,t)=>{const n=t?"true":"false";return al(e.boolDisplay[n])},f6=(e,t)=>typeof t>"u"&&e.replaceUndefinedWith!==void 0?vc(e,e.replaceUndefinedWith+""):t===null?vc(e,"null"):vc(e,""),QT=(e,t)=>{if(typeof t=="number")return u6(e,t);if(typeof t=="string")return vc(e,t);if(typeof t=="boolean"&&e.boolDisplay)return c6(e,t);if(t===null||typeof t>"u")return f6(e,t);throw new Z4(`
    typeof ${typeof t} isn't supported. Only number, string, boolean, null and undefined are supported.
    Please convert the data in your object to one of those before generating the CSV.
    `)},d6=e=>t=>{const n=Hd(e),r=n.useKeysAsHeaders?Object.keys(t[0]):n.columnHeaders;let i=n6(jd(""),r6(n),i6(n),a6(n,r),s6(n,r,t));if(dn(i).length<1)throw new G4("Output is empty. Is your data formatted correctly?");return i},h6=e=>t=>{const n=Hd(e),r=dn(t),i=n.useTextFile?"text/plain":n.mediaType;return new Blob([r],{type:`${i};charset=utf8;`})},p6=e=>t=>{if(!window)throw new X4("Downloading only supported in a browser environment.");const n=h6(e)(t),r=Hd(e),i=r.useTextFile?"txt":r.fileExtension,o=`${r.filename}.${i}`,a=document.createElement("a");a.download=o,a.href=URL.createObjectURL(n),a.setAttribute("visibility","hidden"),document.body.appendChild(a),a.click(),document.body.removeChild(a)};function m6(e,t){const n=URL.createObjectURL(new Blob([new TextEncoder().encode(t).buffer],{type:"text/plain"})),r=document.createElement("a");return r.download=e,r.href=n,r}function vg(e,t="data",n="txt"){m6(`${t}_${new Date().toISOString().replace(/[:.]/g,"_")}.${n}`,e).click()}function g6(e){const t=Hd({fieldSeparator:",",filename:`fit-test-results-${new Date().toISOString().replace(/[:.]/g,"_")}`,decimalSeparator:".",columnHeaders:e.getAllColumns().map(o=>o.id)}),r=e.getSortedRowModel().rows.map(o=>o.original),i=d6(t)(r);return{csvConfig:t,csv:i}}function vK(e){const{csvConfig:t,csv:n}=g6(e);p6(t)(n)}function v6(){const[e,t]=ae(H.SPEECH_VOICE),n=_.useCallback(r=>{const i=gt.findVoiceByName(r);console.log(`looking for voice '${r}'; found voice ${i?.name}`);const o=gt.getSelectedVoice();i&&(!o||o.name!==i.name)&&(gt.setSelectedVoice(i),t(r),gt.sayItLater(`This is ${i.name} speaking.`))},[t]);return _.useEffect(()=>{const r=gt.findDefaultVoice();r&&t(r.name)},[]),_.useEffect(()=>{n(e)},[e,n]),S.jsx(S.Fragment,{children:S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{htmlFor:"speech-voice-select",children:"Voice: "}),S.jsx("select",{id:"speech-voice-select",value:e,onChange:r=>t(r.target.value),style:{textOverflow:"ellipsis",width:"15em"},children:gt.allVoices.map(r=>S.jsx("option",{value:r.name,children:`${r.name} (${r.lang}) ${r.default?" DEFAULT":""}`},r.name))})]})})}function y6({value:e,onChange:t,debounce:n=500,inputRef:r,id:i,...o}){const[a,s]=R.useState(e);return R.useEffect(()=>{s(e)},[e]),R.useEffect(()=>{const l=setTimeout(()=>{t(a)},n);return()=>clearTimeout(l)},[a]),S.jsx("input",{id:`debounced-input-${i}`,ref:r,...o,value:a,onChange:l=>s(l.target.value)})}function GT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=GT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=GT(e))&&(r&&(r+=" "),r+=t);return r}function Z(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ae(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Zr(e,t){const n=Z(e);return isNaN(t)?Ae(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Qn(e,t){const n=Z(e);if(isNaN(t))return Ae(e,NaN);if(!t)return n;const r=n.getDate(),i=Ae(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function wv(e,t){const n=+Z(e);return Ae(e,n+t)}const KT=6048e5,w6=864e5,Ud=6e4,Vd=36e5,_6=1e3;function S6(e,t){return wv(e,t*Vd)}let x6={};function Fo(){return x6}function Jr(e,t){const n=Fo(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Z(e),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function $a(e){return Jr(e,{weekStartsOn:1})}function XT(e){const t=Z(e),n=t.getFullYear(),r=Ae(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=$a(r),o=Ae(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=$a(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Co(e){const t=Z(e);return t.setHours(0,0,0,0),t}function wf(e){const t=Z(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ja(e,t){const n=Co(e),r=Co(t),i=+n-wf(n),o=+r-wf(r);return Math.round((i-o)/w6)}function b6(e){const t=XT(e),n=Ae(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),$a(n)}function yg(e,t){return wv(e,t*Ud)}function _v(e,t){const n=t*3;return Qn(e,n)}function E6(e,t){return wv(e,t*1e3)}function _f(e,t){const n=t*7;return Zr(e,n)}function Br(e,t){return Qn(e,t*12)}function D_(e){let t;return e.forEach(function(n){const r=Z(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function O_(e){let t;return e.forEach(n=>{const r=Z(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function C6(e,t){const n=Co(e),r=Co(t);return+n==+r}function Yr(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Sf(e){if(!Yr(e)&&typeof e!="number")return!1;const t=Z(e);return!isNaN(Number(t))}function xf(e,t){const n=Z(e),r=Z(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function fo(e){const t=Z(e);return Math.trunc(t.getMonth()/3)+1}function bf(e,t){const n=Z(e),r=Z(t),i=n.getFullYear()-r.getFullYear(),o=fo(n)-fo(r);return i*4+o}function Ef(e,t){const n=Z(e),r=Z(t);return n.getFullYear()-r.getFullYear()}function T6(e,t){const n=Z(e),r=Z(t),i=P_(n,r),o=Math.abs(ja(n,r));n.setDate(n.getDate()-i*o);const a=+(P_(n,r)===-i),s=i*(o-a);return s===0?0:s}function P_(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ZT(e){const t=Z(e);return t.setHours(23,59,59,999),t}function JT(e){const t=Z(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function wg(e){const t=Z(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function ek(e){const t=Z(e);return t.setDate(1),t.setHours(0,0,0,0),t}function tk(e){const t=Z(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Bd(e){const t=Z(e),n=Ae(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function k6(e,t){const n=Fo(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Z(e),o=i.getDay(),a=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const M6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D6=(e,t,n)=>{let r;const i=M6[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Np(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const O6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R6={date:Np({formats:O6,defaultWidth:"full"}),time:Np({formats:P6,defaultWidth:"full"}),dateTime:Np({formats:N6,defaultWidth:"full"})},I6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},L6=(e,t,n,r)=>I6[e];function Es(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):a;i=e.formattingValues[s]||e.formattingValues[a]}else{const a=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const A6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V6=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},B6={ordinalNumber:V6,era:Es({values:A6,defaultWidth:"wide"}),quarter:Es({values:F6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Es({values:$6,defaultWidth:"wide"}),day:Es({values:j6,defaultWidth:"wide"}),dayPeriod:Es({values:H6,defaultWidth:"wide",formattingValues:U6,defaultFormattingWidth:"wide"})};function Cs(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?z6(s,f=>f.test(a)):Y6(s,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(a.length);return{value:u,rest:c}}}function Y6(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function z6(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function W6(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=t.slice(i.length);return{value:a,rest:s}}}const q6=/^(\d+)(th|st|nd|rd)?/i,Q6=/\d+/i,G6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K6={any:[/^b/i,/^(a|c)/i]},X6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Z6={any:[/1/i,/2/i,/3/i,/4/i]},J6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},t8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},n8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},r8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},i8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},o8={ordinalNumber:W6({matchPattern:q6,parsePattern:Q6,valueCallback:e=>parseInt(e,10)}),era:Cs({matchPatterns:G6,defaultMatchWidth:"wide",parsePatterns:K6,defaultParseWidth:"any"}),quarter:Cs({matchPatterns:X6,defaultMatchWidth:"wide",parsePatterns:Z6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cs({matchPatterns:J6,defaultMatchWidth:"wide",parsePatterns:e8,defaultParseWidth:"any"}),day:Cs({matchPatterns:t8,defaultMatchWidth:"wide",parsePatterns:n8,defaultParseWidth:"any"}),dayPeriod:Cs({matchPatterns:r8,defaultMatchWidth:"any",parsePatterns:i8,defaultParseWidth:"any"})},nk={code:"en-US",formatDistance:D6,formatLong:R6,formatRelative:L6,localize:B6,match:o8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function a8(e){const t=Z(e);return ja(t,Bd(t))+1}function Sv(e){const t=Z(e),n=+$a(t)-+b6(t);return Math.round(n/KT)+1}function xv(e,t){const n=Z(e),r=n.getFullYear(),i=Fo(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Ae(e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=Jr(a,t),l=Ae(e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Jr(l,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function s8(e,t){const n=Fo(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=xv(e,t),o=Ae(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Jr(o,t)}function rk(e,t){const n=Z(e),r=+Jr(n,t)-+s8(n,t);return Math.round(r/KT)+1}function Le(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ci={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Le(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Le(n+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Le(i,t.length)}},zo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},N_={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ci.y(e,t)},Y:function(e,t,n,r){const i=xv(e,r),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return Le(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Le(o,t.length)},R:function(e,t){const n=XT(e);return Le(n,t.length)},u:function(e,t){const n=e.getFullYear();return Le(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Le(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Le(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ci.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Le(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=rk(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Le(i,t.length)},I:function(e,t,n){const r=Sv(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Le(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ci.d(e,t)},D:function(e,t,n){const r=a8(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Le(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Le(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Le(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Le(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=zo.noon:r===0?i=zo.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=zo.evening:r>=12?i=zo.afternoon:r>=4?i=zo.morning:i=zo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ci.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ci.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Le(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Le(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ci.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ci.s(e,t)},S:function(e,t){return ci.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return I_(r);case"XXXX":case"XX":return Ji(r);case"XXXXX":case"XXX":default:return Ji(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return I_(r);case"xxxx":case"xx":return Ji(r);case"xxxxx":case"xxx":default:return Ji(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+R_(r,":");case"OOOO":default:return"GMT"+Ji(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+R_(r,":");case"zzzz":default:return"GMT"+Ji(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Le(r,t.length)},T:function(e,t,n){const r=e.getTime();return Le(r,t.length)}};function R_(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+Le(o,2)}function I_(e,t){return e%60===0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):Ji(e,t)}function Ji(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Le(Math.trunc(r/60),2),o=Le(r%60,2);return n+i+t+o}const L_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ik=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},l8=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return L_(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",L_(r,t)).replace("{{time}}",ik(i,t))},Cf={p:ik,P:l8},u8=/^D+$/,c8=/^Y+$/,f8=["D","DD","YY","YYYY"];function ok(e){return u8.test(e)}function ak(e){return c8.test(e)}function _g(e,t,n){const r=d8(e,t,n);if(console.warn(r),f8.includes(e))throw new RangeError(r)}function d8(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const h8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m8=/^'([^]*?)'?$/,g8=/''/g,v8=/[a-zA-Z]/;function A_(e,t,n){const r=Fo(),i=n?.locale??r.locale??nk,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Z(e);if(!Sf(s))throw new RangeError("Invalid time value");let l=t.match(p8).map(c=>{const f=c[0];if(f==="p"||f==="P"){const d=Cf[f];return d(c,i.formatLong)}return c}).join("").match(h8).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const f=c[0];if(f==="'")return{isToken:!1,value:y8(c)};if(N_[f])return{isToken:!0,value:c};if(f.match(v8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:c}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(c=>{if(!c.isToken)return c.value;const f=c.value;(!n?.useAdditionalWeekYearTokens&&ak(f)||!n?.useAdditionalDayOfYearTokens&&ok(f))&&_g(f,t,String(e));const d=N_[f[0]];return d(s,f,i.localize,u)}).join("")}function y8(e){const t=e.match(m8);return t?t[1].replace(g8,"'"):e}function F_(e){return Z(e).getDate()}function w8(e){return Z(e).getDay()}function _8(e){const t=Z(e),n=t.getFullYear(),r=t.getMonth(),i=Ae(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function S8(){return Object.assign({},Fo())}function mr(e){return Z(e).getHours()}function x8(e){let n=Z(e).getDay();return n===0&&(n=7),n}function gr(e){return Z(e).getMinutes()}function Yt(e){return Z(e).getMonth()}function zr(e){return Z(e).getSeconds()}function Sg(e){return Z(e).getTime()}function _e(e){return Z(e).getFullYear()}function Fi(e,t){const n=Z(e),r=Z(t);return n.getTime()>r.getTime()}function To(e,t){const n=Z(e),r=Z(t);return+n<+r}function b8(e,t){const n=Z(e),r=Z(t);return+n==+r}function E8(e,t){const n=t instanceof Date?Ae(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const C8=10;class sk{subPriority=0;validate(t,n){return!0}}class T8 extends sk{constructor(t,n,r,i,o){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class k8 extends sk{priority=C8;subPriority=-1;set(t,n){return n.timestampIsSet?t:Ae(t,E8(t,Date))}}let Re=class{run(t,n,r,i){const o=this.parse(t,n,r,i);return o?{setter:new T8(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,n,r){return!0}};class M8 extends Re{priority=140;parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const at={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},or={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function st(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ke(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ar(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*Vd+o*Ud+a*_6),rest:t.slice(n[0].length)}}function lk(e){return Ke(at.anyDigitsSigned,e)}function rt(e,t){switch(e){case 1:return Ke(at.singleDigit,t);case 2:return Ke(at.twoDigits,t);case 3:return Ke(at.threeDigits,t);case 4:return Ke(at.fourDigits,t);default:return Ke(new RegExp("^\\d{1,"+e+"}"),t)}}function Tf(e,t){switch(e){case 1:return Ke(at.singleDigitSigned,t);case 2:return Ke(at.twoDigitsSigned,t);case 3:return Ke(at.threeDigitsSigned,t);case 4:return Ke(at.fourDigitsSigned,t);default:return Ke(new RegExp("^-?\\d{1,"+e+"}"),t)}}function bv(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function uk(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const o=r+50,a=Math.trunc(o/100)*100,s=e>=o%100;i=e+a-(s?100:0)}return n?i:1-i}function ck(e){return e%400===0||e%4===0&&e%100!==0}class D8 extends Re{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,r){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return st(rt(4,t),i);case"yo":return st(r.ordinalNumber(t,{unit:"year"}),i);default:return st(rt(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const i=t.getFullYear();if(r.isTwoDigitYear){const a=uk(r.year,i);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const o=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class O8 extends Re{priority=130;parse(t,n,r){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return st(rt(4,t),i);case"Yo":return st(r.ordinalNumber(t,{unit:"year"}),i);default:return st(rt(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,i){const o=xv(t,i);if(r.isTwoDigitYear){const s=uk(r.year,o);return t.setFullYear(s,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Jr(t,i)}const a=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(a,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Jr(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class P8 extends Re{priority=130;parse(t,n){return Tf(n==="R"?4:n.length,t)}set(t,n,r){const i=Ae(t,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),$a(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class N8 extends Re{priority=130;parse(t,n){return Tf(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class R8 extends Re{priority=120;parse(t,n,r){switch(n){case"Q":case"QQ":return rt(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class I8 extends Re{priority=120;parse(t,n,r){switch(n){case"q":case"qq":return rt(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class L8 extends Re{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,r){const i=o=>o-1;switch(n){case"M":return st(Ke(at.month,t),i);case"MM":return st(rt(2,t),i);case"Mo":return st(r.ordinalNumber(t,{unit:"month"}),i);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class A8 extends Re{priority=110;parse(t,n,r){const i=o=>o-1;switch(n){case"L":return st(Ke(at.month,t),i);case"LL":return st(rt(2,t),i);case"Lo":return st(r.ordinalNumber(t,{unit:"month"}),i);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function F8(e,t,n){const r=Z(e),i=rk(r,n)-t;return r.setDate(r.getDate()-i*7),r}class $8 extends Re{priority=100;parse(t,n,r){switch(n){case"w":return Ke(at.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return rt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,i){return Jr(F8(t,r,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function j8(e,t){const n=Z(e),r=Sv(n)-t;return n.setDate(n.getDate()-r*7),n}class H8 extends Re{priority=100;parse(t,n,r){switch(n){case"I":return Ke(at.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return rt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return $a(j8(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const U8=[31,28,31,30,31,30,31,31,30,31,30,31],V8=[31,29,31,30,31,30,31,31,30,31,30,31];class B8 extends Re{priority=90;subPriority=1;parse(t,n,r){switch(n){case"d":return Ke(at.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return rt(n.length,t)}}validate(t,n){const r=t.getFullYear(),i=ck(r),o=t.getMonth();return i?n>=1&&n<=V8[o]:n>=1&&n<=U8[o]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Y8 extends Re{priority=90;subpriority=1;parse(t,n,r){switch(n){case"D":case"DD":return Ke(at.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return rt(n.length,t)}}validate(t,n){const r=t.getFullYear();return ck(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Ev(e,t,n){const r=Fo(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Z(e),a=o.getDay(),l=(t%7+7)%7,u=7-i,c=t<0||t>6?t-(a+u)%7:(l+u)%7-(a+u)%7;return Zr(o,c)}class z8 extends Re{priority=90;parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=Ev(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class W8 extends Re{priority=90;parse(t,n,r,i){const o=a=>{const s=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+s};switch(n){case"e":case"ee":return st(rt(n.length,t),o);case"eo":return st(r.ordinalNumber(t,{unit:"day"}),o);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=Ev(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class q8 extends Re{priority=90;parse(t,n,r,i){const o=a=>{const s=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+s};switch(n){case"c":case"cc":return st(rt(n.length,t),o);case"co":return st(r.ordinalNumber(t,{unit:"day"}),o);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=Ev(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Q8(e,t){const n=Z(e),r=x8(n),i=t-r;return Zr(n,i)}class G8 extends Re{priority=90;parse(t,n,r){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return rt(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return st(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return st(r.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return st(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return st(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=Q8(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class K8 extends Re{priority=80;parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(bv(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class X8 extends Re{priority=80;parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(bv(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class Z8 extends Re{priority=80;parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(bv(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class J8 extends Re{priority=70;parse(t,n,r){switch(n){case"h":return Ke(at.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return rt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const i=t.getHours()>=12;return i&&r<12?t.setHours(r+12,0,0,0):!i&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class ej extends Re{priority=70;parse(t,n,r){switch(n){case"H":return Ke(at.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return rt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class tj extends Re{priority=70;parse(t,n,r){switch(n){case"K":return Ke(at.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return rt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class nj extends Re{priority=70;parse(t,n,r){switch(n){case"k":return Ke(at.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return rt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const i=r<=24?r%24:r;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class rj extends Re{priority=60;parse(t,n,r){switch(n){case"m":return Ke(at.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return rt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class ij extends Re{priority=50;parse(t,n,r){switch(n){case"s":return Ke(at.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return rt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class oj extends Re{priority=30;parse(t,n){const r=i=>Math.trunc(i*Math.pow(10,-n.length+3));return st(rt(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class aj extends Re{priority=10;parse(t,n){switch(n){case"X":return ar(or.basicOptionalMinutes,t);case"XX":return ar(or.basic,t);case"XXXX":return ar(or.basicOptionalSeconds,t);case"XXXXX":return ar(or.extendedOptionalSeconds,t);case"XXX":default:return ar(or.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Ae(t,t.getTime()-wf(t)-r)}incompatibleTokens=["t","T","x"]}class sj extends Re{priority=10;parse(t,n){switch(n){case"x":return ar(or.basicOptionalMinutes,t);case"xx":return ar(or.basic,t);case"xxxx":return ar(or.basicOptionalSeconds,t);case"xxxxx":return ar(or.extendedOptionalSeconds,t);case"xxx":default:return ar(or.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Ae(t,t.getTime()-wf(t)-r)}incompatibleTokens=["t","T","X"]}class lj extends Re{priority=40;parse(t){return lk(t)}set(t,n,r){return[Ae(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class uj extends Re{priority=20;parse(t){return lk(t)}set(t,n,r){return[Ae(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const cj={G:new M8,y:new D8,Y:new O8,R:new P8,u:new N8,Q:new R8,q:new I8,M:new L8,L:new A8,w:new $8,I:new H8,d:new B8,D:new Y8,E:new z8,e:new W8,c:new q8,i:new G8,a:new K8,b:new X8,B:new Z8,h:new J8,H:new ej,K:new tj,k:new nj,m:new rj,s:new ij,S:new oj,X:new aj,x:new sj,t:new lj,T:new uj},fj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hj=/^'([^]*?)'?$/,pj=/''/g,mj=/\S/,gj=/[a-zA-Z]/;function Rp(e,t,n,r){const i=S8(),o=r?.locale??i.locale??nk,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(t==="")return e===""?Z(n):Ae(n,NaN);const l={firstWeekContainsDate:a,weekStartsOn:s,locale:o},u=[new k8],c=t.match(dj).map(g=>{const v=g[0];if(v in Cf){const p=Cf[v];return p(g,o.formatLong)}return g}).join("").match(fj),f=[];for(let g of c){!r?.useAdditionalWeekYearTokens&&ak(g)&&_g(g,t,e),!r?.useAdditionalDayOfYearTokens&&ok(g)&&_g(g,t,e);const v=g[0],p=cj[v];if(p){const{incompatibleTokens:w}=p;if(Array.isArray(w)){const x=f.find(E=>w.includes(E.token)||E.token===v);if(x)throw new RangeError(`The format string mustn't contain \`${x.fullToken}\` and \`${g}\` at the same time`)}else if(p.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);f.push({token:v,fullToken:g});const y=p.run(e,g,o.match,l);if(!y)return Ae(n,NaN);u.push(y.setter),e=y.rest}else{if(v.match(gj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");if(g==="''"?g="'":v==="'"&&(g=vj(g)),e.indexOf(g)===0)e=e.slice(g.length);else return Ae(n,NaN)}}if(e.length>0&&mj.test(e))return Ae(n,NaN);const d=u.map(g=>g.priority).sort((g,v)=>v-g).filter((g,v,p)=>p.indexOf(g)===v).map(g=>u.filter(v=>v.priority===g).sort((v,p)=>p.subPriority-v.subPriority)).map(g=>g[0]);let h=Z(n);if(isNaN(h.getTime()))return Ae(n,NaN);const m={};for(const g of d){if(!g.validate(h,l))return Ae(n,NaN);const v=g.set(h,m,l);Array.isArray(v)?(h=v[0],Object.assign(m,v[1])):h=v}return Ae(n,h)}function vj(e){return e.match(hj)[1].replace(pj,"'")}function yj(e,t){const n=Z(e),r=Z(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function wj(e,t){const n=wg(e),r=wg(t);return+n==+r}function _j(e,t){const n=Z(e),r=Z(t);return n.getFullYear()===r.getFullYear()}function Nl(e,t){const n=+Z(e),[r,i]=[+Z(t.start),+Z(t.end)].sort((o,a)=>o-a);return n>=r&&n<=i}function Sj(e,t){return Zr(e,-t)}function xj(e,t){const r=Tj(e);let i;if(r.date){const l=kj(r.date,2);i=Mj(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let a=0,s;if(r.time&&(a=Dj(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(s=Oj(r.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(o+a),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(o+a+s)}const Au={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ej=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Cj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Tj(e){const t={},n=e.split(Au.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Au.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Au.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Au.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function kj(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function Mj(e,t){if(t===null)return new Date(NaN);const n=e.match(bj);if(!n)return new Date(NaN);const r=!!n[4],i=Ts(n[1]),o=Ts(n[2])-1,a=Ts(n[3]),s=Ts(n[4]),l=Ts(n[5])-1;if(r)return Lj(t,s,l)?Pj(t,s,l):new Date(NaN);{const u=new Date(0);return!Rj(t,o,a)||!Ij(t,i)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(i,a)),u)}}function Ts(e){return e?parseInt(e):1}function Dj(e){const t=e.match(Ej);if(!t)return NaN;const n=Ip(t[1]),r=Ip(t[2]),i=Ip(t[3]);return Aj(n,r,i)?n*Vd+r*Ud+i*1e3:NaN}function Ip(e){return e&&parseFloat(e.replace(",","."))||0}function Oj(e){if(e==="Z")return 0;const t=e.match(Cj);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Fj(r,i)?n*(r*Vd+i*Ud):NaN}function Pj(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const Nj=[31,null,31,30,31,30,31,31,30,31,30,31];function fk(e){return e%400===0||e%4===0&&e%100!==0}function Rj(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Nj[t]||(fk(e)?29:28))}function Ij(e,t){return t>=1&&t<=(fk(e)?366:365)}function Lj(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Aj(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Fj(e,t){return t>=0&&t<=59}function on(e,t){const n=Z(e),r=n.getFullYear(),i=n.getDate(),o=Ae(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const a=_8(o);return n.setMonth(t,Math.min(i,a)),n}function $j(e,t){let n=Z(e);return isNaN(+n)?Ae(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=on(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function yc(e,t){const n=Z(e);return n.setHours(t),n}function wc(e,t){const n=Z(e);return n.setMinutes(t),n}function Qo(e,t){const n=Z(e),r=Math.trunc(n.getMonth()/3)+1,i=t-r;return on(n,n.getMonth()+i*3)}function _c(e,t){const n=Z(e);return n.setSeconds(t),n}function er(e,t){const n=Z(e);return isNaN(+n)?Ae(e,NaN):(n.setFullYear(t),n)}function Ha(e,t){return Qn(e,-t)}function dk(e,t){return _v(e,-t)}function $_(e,t){return _f(e,-t)}function Ua(e,t){return Br(e,-t)}var Sc=typeof document<"u"?_.useLayoutEffect:_.useEffect;function kf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!kf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!kf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function hk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function j_(e,t){const n=hk(e);return Math.round(t*n)/n}function Lp(e){const t=_.useRef(e);return Sc(()=>{t.current=e}),t}function jj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,f]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=_.useState(r);kf(d,r)||h(r);const[m,g]=_.useState(null),[v,p]=_.useState(null),w=_.useCallback(M=>{M!==b.current&&(b.current=M,g(M))},[]),y=_.useCallback(M=>{M!==C.current&&(C.current=M,p(M))},[]),x=o||m,E=a||v,b=_.useRef(null),C=_.useRef(null),k=_.useRef(c),N=l!=null,A=Lp(l),O=Lp(i),V=Lp(u),I=_.useCallback(()=>{if(!b.current||!C.current)return;const M={placement:t,strategy:n,middleware:d};O.current&&(M.platform=O.current),C3(b.current,C.current,M).then(F=>{const B={...F,isPositioned:V.current!==!1};T.current&&!kf(k.current,B)&&(k.current=B,Wl.flushSync(()=>{f(B)}))})},[d,t,n,O,V]);Sc(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const T=_.useRef(!1);Sc(()=>(T.current=!0,()=>{T.current=!1}),[]),Sc(()=>{if(x&&(b.current=x),E&&(C.current=E),x&&E){if(A.current)return A.current(x,E,I);I()}},[x,E,I,A,N]);const P=_.useMemo(()=>({reference:b,floating:C,setReference:w,setFloating:y}),[w,y]),D=_.useMemo(()=>({reference:x,floating:E}),[x,E]),$=_.useMemo(()=>{const M={position:n,left:0,top:0};if(!D.floating)return M;const F=j_(D.floating,c.x),B=j_(D.floating,c.y);return s?{...M,transform:"translate("+F+"px, "+B+"px)",...hk(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:B}},[n,s,D.floating,c.x,c.y]);return _.useMemo(()=>({...c,update:I,refs:P,elements:D,floatingStyles:$}),[c,I,P,D,$])}const Hj=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Jw({element:r.current,padding:i}).fn(n):{}:r?Jw({element:r,padding:i}).fn(n):{}}}},Uj=(e,t)=>({...b3(e),options:[e,t]}),Vj=(e,t)=>({...E3(e),options:[e,t]}),Bj=(e,t)=>({...Hj(e),options:[e,t]}),pk={...im},Yj=pk.useInsertionEffect,zj=Yj||(e=>e());function Wj(e){const t=_.useRef(()=>{});return zj(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Mf=typeof document<"u"?_.useLayoutEffect:_.useEffect;function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xg.apply(this,arguments)}let H_=!1,qj=0;const U_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qj++;function Qj(){const[e,t]=_.useState(()=>H_?U_():void 0);return Mf(()=>{e==null&&t(U_())},[]),_.useEffect(()=>{H_=!0},[]),e}const Gj=pk.useId,mk=Gj||Qj,Kj=_.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:a}},width:s=14,height:l=7,tipRadius:u=0,strokeWidth:c=0,staticOffset:f,stroke:d,d:h,style:{transform:m,...g}={},...v}=t,p=mk(),[w,y]=_.useState(!1);if(Mf(()=>{if(!i)return;In(i).direction==="rtl"&&y(!0)},[i]),!i)return null;const[x,E]=r.split("-"),b=x==="top"||x==="bottom";let C=f;(b&&a!=null&&a.x||!b&&a!=null&&a.y)&&(C=null);const k=c*2,N=k/2,A=s/2*(u/-8+1),O=l/2*u/4,V=!!h,I=C&&E==="end"?"bottom":"top";let T=C&&E==="end"?"right":"left";C&&w&&(T=E==="end"?"left":"right");const P=o?.x!=null?C||o.x:"",D=o?.y!=null?C||o.y:"",$=h||"M0,0"+(" H"+s)+(" L"+(s-A)+","+(l-O))+(" Q"+s/2+","+l+" "+A+","+(l-O))+" Z",M={top:V?"rotate(180deg)":"",left:V?"rotate(90deg)":"rotate(-90deg)",bottom:V?"":"rotate(180deg)",right:V?"rotate(-90deg)":"rotate(90deg)"}[x];return _.createElement("svg",xg({},v,{"aria-hidden":!0,ref:n,width:V?s:s+k,height:s,viewBox:"0 0 "+s+" "+(l>s?l:s),style:{position:"absolute",pointerEvents:"none",[T]:P,[I]:D,[x]:b||V?"100%":"calc(100% - "+k/2+"px)",transform:[M,m].filter(F=>!!F).join(" "),...g}}),k>0&&_.createElement("path",{clipPath:"url(#"+p+")",fill:"none",stroke:d,strokeWidth:k+(h?0:1),d:$}),_.createElement("path",{stroke:k&&!h?v.fill:"none",d:$}),_.createElement("clipPath",{id:p},_.createElement("rect",{x:-N,y:N*(V?-1:1),width:s+k,height:s})))});function Xj(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const Zj=_.createContext(null),Jj=_.createContext(null),eH=()=>{var e;return((e=_.useContext(Zj))==null?void 0:e.id)||null},tH=()=>_.useContext(Jj);function nH(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=mk(),o=_.useRef({}),[a]=_.useState(()=>Xj()),s=eH()!=null,[l,u]=_.useState(r.reference),c=Wj((h,m,g)=>{o.current.openEvent=h?m:void 0,a.emit("openchange",{open:h,event:m,reason:g,nested:s}),n?.(h,m,g)}),f=_.useMemo(()=>({setPositionReference:u}),[]),d=_.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return _.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:d,events:a,floatingId:i,refs:f}),[t,c,d,a,i,f])}function rH(e){e===void 0&&(e={});const{nodeId:t}=e,n=nH({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,a]=_.useState(null),[s,l]=_.useState(null),c=i?.domReference||o,f=_.useRef(null),d=tH();Mf(()=>{c&&(f.current=c)},[c]);const h=jj({...e,elements:{...i,...s&&{reference:s}}}),m=_.useCallback(y=>{const x=Bt(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;l(x),h.refs.setReference(x)},[h.refs]),g=_.useCallback(y=>{(Bt(y)||y===null)&&(f.current=y,a(y)),(Bt(h.refs.reference.current)||h.refs.reference.current===null||y!==null&&!Bt(y))&&h.refs.setReference(y)},[h.refs]),v=_.useMemo(()=>({...h.refs,setReference:g,setPositionReference:m,domReference:f}),[h.refs,g,m]),p=_.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),w=_.useMemo(()=>({...h,...r,refs:v,elements:p,nodeId:t}),[h,v,p,t,r]);return Mf(()=>{r.dataRef.current.floatingContext=w;const y=d?.nodesRef.current.find(x=>x.id===t);y&&(y.context=w)}),_.useMemo(()=>({...h,context:w,refs:v,elements:p}),[h,v,p,w])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var bg=function(t,n){return bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},bg(t,n)};function Et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ke=function(){return ke=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},ke.apply(this,arguments)};function lr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var iH=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,o=e.className,a=e.children,s=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return R.createElement("div",{className:o,role:"dialog","aria-label":s,"aria-modal":"true"},a)},oH=function(e,t){var n=_.useRef(null),r=_.useRef(e);r.current=e;var i=_.useCallback(function(o){var a;n.current&&!n.current.contains(o.target)&&(t&&o.target instanceof HTMLElement&&o.target.classList.contains(t)||(a=r.current)===null||a===void 0||a.call(r,o))},[t]);return _.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},Yd=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,o=e.style,a=e.ignoreClass,s=oH(n,a);return R.createElement("div",{className:r,style:o,ref:function(l){s.current=l,i&&(i.current=l)}},t)},K;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(K||(K={}));function gk(){var e=typeof window<"u"?window:globalThis;return e}var eu=12,aH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Fe(e){if(e==null)return new Date;var t=typeof e=="string"?xj(e):Z(e);return Rr(t)?t:new Date}function Ap(e,t,n,r,i){var o,a=null,s=ho(n)||ho(sl()),l=!0;if(Array.isArray(t))return t.forEach(function(c){var f=Rp(e,c,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=Rr(f,i)&&e===Ye(f,c,n)),Rr(f,i)&&l&&(a=f)}),a;if(a=Rp(e,t,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=Rr(a)&&e===Ye(a,t,n);else if(!Rr(a)){var u=((o=t.match(aH))!==null&&o!==void 0?o:[]).map(function(c){var f=c[0];if(f==="p"||f==="P"){var d=Cf[f];return s?d(c,s.formatLong):f}return c}).join("");e.length>0&&(a=Rp(e,u.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Rr(a)||(a=new Date(e))}return Rr(a)&&l?a:null}function Rr(e,t){return Sf(e)&&!To(e,t??new Date("1/1/1800"))}function Ye(e,t,n){if(n==="en")return A_(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?ho(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&sl()&&ho(sl())&&(r=ho(sl())),A_(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Sn(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Ye(e,i,r)||""}function sH(e,t,n){if(!e)return"";var r=Sn(e,n),i=t?Sn(t,n):"";return"".concat(r," - ").concat(i)}function lH(e,t){if(!e?.length)return"";var n=e[0]?Sn(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Sn(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function Fp(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,o=i===void 0?0:i,a=t.second,s=a===void 0?0:a;return yc(wc(_c(e,s),o),r)}function uH(e){return Sv(e)}function cH(e,t){return Ye(e,"ddd",t)}function xc(e){return Co(e)}function Oi(e,t,n){var r=ho(t||sl());return Jr(e,{locale:r,weekStartsOn:n})}function Wr(e){return ek(e)}function Vs(e){return Bd(e)}function V_(e){return wg(e)}function B_(){return Co(Fe())}function Y_(e){return ZT(e)}function fH(e){return k6(e)}function dH(e){return JT(e)}function rr(e,t){return e&&t?_j(e,t):!e&&!t}function Vt(e,t){return e&&t?yj(e,t):!e&&!t}function Df(e,t){return e&&t?wj(e,t):!e&&!t}function Ce(e,t){return e&&t?C6(e,t):!e&&!t}function io(e,t){return e&&t?b8(e,t):!e&&!t}function Bs(e,t,n){var r,i=Co(t),o=ZT(n);try{r=Nl(e,{start:i,end:o})}catch{r=!1}return r}function sl(){var e=gk();return e.__localeId__}function ho(e){if(typeof e=="string"){var t=gk();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function hH(e,t,n){return t(Ye(e,"EEEE",n))}function pH(e,t){return Ye(e,"EEEEEE",t)}function mH(e,t){return Ye(e,"EEE",t)}function Cv(e,t){return Ye(on(Fe(),e),"LLLL",t)}function vk(e,t){return Ye(on(Fe(),e),"LLL",t)}function gH(e,t){return Ye(Qo(Fe(),e),"QQQ",t)}function Cn(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.excludeDateIntervals,s=n.includeDates,l=n.includeDateIntervals,u=n.filterDate;return tu(e,{minDate:r,maxDate:i})||o&&o.some(function(c){return c instanceof Date?Ce(e,c):Ce(e,c.date)})||a&&a.some(function(c){var f=c.start,d=c.end;return Nl(e,{start:f,end:d})})||s&&!s.some(function(c){return Ce(e,c)})||l&&!l.some(function(c){var f=c.start,d=c.end;return Nl(e,{start:f,end:d})})||u&&!u(Fe(e))||!1}function Tv(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var a=o.start,s=o.end;return Nl(e,{start:a,end:s})}):r&&r.some(function(o){var a;return o instanceof Date?Ce(e,o):Ce(e,(a=o.date)!==null&&a!==void 0?a:new Date)})||!1}function yk(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate;return tu(e,{minDate:r?ek(r):void 0,maxDate:i?JT(i):void 0})||o?.some(function(l){return Vt(e,l instanceof Date?l:l.date)})||a&&!a.some(function(l){return Vt(e,l)})||s&&!s(Fe(e))||!1}function Fu(e,t,n,r){var i=_e(e),o=Yt(e),a=_e(t),s=Yt(t),l=_e(r);return i===a&&i===l?o<=n&&n<=s:i<a?l===i&&o<=n||l===a&&s>=n||l<a&&l>i:!1}function vH(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates;return tu(e,{minDate:r,maxDate:i})||o&&o.some(function(s){return Vt(s instanceof Date?s:s.date,e)})||a&&!a.some(function(s){return Vt(s,e)})||!1}function $u(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate;return tu(e,{minDate:r,maxDate:i})||o?.some(function(l){return Df(e,l instanceof Date?l:l.date)})||a&&!a.some(function(l){return Df(e,l)})||s&&!s(Fe(e))||!1}function ju(e,t,n){if(!t||!n||!Sf(t)||!Sf(n))return!1;var r=_e(t),i=_e(n);return r<=e&&i>=e}function bc(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate,l=new Date(e,0,1);return tu(l,{minDate:r?Bd(r):void 0,maxDate:i?tk(i):void 0})||o?.some(function(u){return rr(l,u instanceof Date?u:u.date)})||a&&!a.some(function(u){return rr(l,u)})||s&&!s(Fe(l))||!1}function Hu(e,t,n,r){var i=_e(e),o=fo(e),a=_e(t),s=fo(t),l=_e(r);return i===a&&i===l?o<=n&&n<=s:i<a?l===i&&o<=n||l===a&&s>=n||l<a&&l>i:!1}function tu(e,t){var n,r=t===void 0?{}:t,i=r.minDate,o=r.maxDate;return(n=i&&ja(e,i)<0||o&&ja(e,o)>0)!==null&&n!==void 0?n:!1}function z_(e,t){return t.some(function(n){return mr(n)===mr(e)&&gr(n)===gr(e)&&zr(n)===zr(e)})}function W_(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&z_(e,r)||i&&!z_(e,i)||o&&!o(e)||!1}function q_(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Fe();i=yc(i,mr(e)),i=wc(i,gr(e)),i=_c(i,zr(e));var o=Fe();o=yc(o,mr(n)),o=wc(o,gr(n)),o=_c(o,zr(n));var a=Fe();a=yc(a,mr(r)),a=wc(a,gr(r)),a=_c(a,zr(r));var s;try{s=!Nl(i,{start:o,end:a})}catch{s=!1}return s}function Q_(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=Ha(e,1);return r&&xf(r,o)>0||i&&i.every(function(a){return xf(a,o)>0})||!1}function G_(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=Qn(e,1);return r&&xf(o,r)>0||i&&i.every(function(a){return xf(o,a)>0})||!1}function yH(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=Bd(e),a=dk(o,1);return r&&bf(r,a)>0||i&&i.every(function(s){return bf(s,a)>0})||!1}function wH(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=tk(e),a=_v(o,1);return r&&bf(a,r)>0||i&&i.every(function(s){return bf(a,s)>0})||!1}function K_(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=Ua(e,1);return r&&Ef(r,o)>0||i&&i.every(function(a){return Ef(a,o)>0})||!1}function _H(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,o=i===void 0?eu:i,a=Vs(Ua(e,o)),s=Si(a,o).endPeriod,l=r&&_e(r);return l&&l>s||!1}function X_(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=Br(e,1);return r&&Ef(o,r)>0||i&&i.every(function(a){return Ef(o,a)>0})||!1}function SH(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,o=i===void 0?eu:i,a=Br(e,o),s=Si(a,o).startPeriod,l=r&&_e(r);return l&&l<s||!1}function wk(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return ja(i,t)>=0});return O_(r)}else return n?O_(n):t}function _k(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return ja(i,t)<=0});return D_(r)}else return n?D_(n):t}function Z_(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=e.length;i<o;i++){var a=e[i];if(Yr(a)){var s=Ye(a,"MM.dd.yyyy"),l=r.get(s)||[];l.includes(t)||(l.push(t),r.set(s,l))}else if(typeof a=="object"){var u=Object.keys(a),c=(n=u[0])!==null&&n!==void 0?n:"",f=a[c];if(typeof c=="string"&&Array.isArray(f))for(var d=0,h=f.length;d<h;d++){var m=f[d];if(m){var s=Ye(m,"MM.dd.yyyy"),l=r.get(s)||[];l.includes(c)||(l.push(c),r.set(s,l))}}}}return r}function xH(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function bH(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,o=r.holidayName;if(Yr(i)){var a=Ye(i,"MM.dd.yyyy"),s=n.get(a)||{className:"",holidayNames:[]};if(!("className"in s&&s.className===t&&xH(s.holidayNames,[o]))){s.className=t;var l=s.holidayNames;s.holidayNames=l?lr(lr([],l,!0),[o],!1):[o],n.set(a,s)}}}),n}function EH(e,t,n,r,i){for(var o=i.length,a=[],s=0;s<o;s++){var l=e,u=i[s];u&&(l=S6(l,mr(u)),l=yg(l,gr(u)),l=E6(l,zr(u)));var c=yg(e,(n+1)*r);Fi(l,t)&&To(l,c)&&u!=null&&a.push(u)}return a}function J_(e){return e<10?"0".concat(e):"".concat(e)}function Si(e,t){t===void 0&&(t=eu);var n=Math.ceil(_e(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function CH(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function eS(e){var t=e.getSeconds(),n=e.getMilliseconds();return Z(e.getTime()-t*1e3-n)}function TH(e,t){return eS(e).getTime()===eS(t).getTime()}function tS(e){if(!Yr(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function nS(e,t){if(!Yr(e)||!Yr(t))throw new Error("Invalid date received");var n=tS(e),r=tS(t);return To(n,r)}function Sk(e){return e.key===K.Space}var kH=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=R.createRef(),r.onTimeChange=function(i){var o,a;r.setState({time:i});var s=r.props.date,l=s instanceof Date&&!isNaN(+s),u=l?s:new Date;if(i?.includes(":")){var c=i.split(":"),f=c[0],d=c[1];u.setHours(Number(f)),u.setMinutes(Number(d))}(a=(o=r.props).onChange)===null||a===void 0||a.call(o,u)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,a=o.date,s=o.timeString,l=o.customTimeInput;return l?_.cloneElement(l,{date:a,value:i,onChange:r.onTimeChange}):R.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:i,onChange:function(u){r.onTimeChange(u.target.value||s)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return R.createElement("div",{className:"react-datepicker__input-time-container"},R.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),R.createElement("div",{className:"react-datepicker-time__input-container"},R.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(_.Component),MH=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=_.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,o,a=r.key;a===K.Space&&(r.preventDefault(),r.key=K.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isSameDay=function(r){return Ce(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Cn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return Tv(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Ce(n.props.day,Oi(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Ce(r,Oi(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,o=r.highlightDates;if(!o)return!1;var a=Ye(i,"MM.dd.yyyy");return o.get(a)},n.getHolidaysClass=function(){var r,i=n.props,o=i.day,a=i.holidays;if(!a)return[void 0];var s=Ye(o,"MM.dd.yyyy");return a.has(s)?[(r=a.get(s))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Bs(i,o,a)},n.isInSelectingRange=function(){var r,i=n.props,o=i.day,a=i.selectsStart,s=i.selectsEnd,l=i.selectsRange,u=i.selectsDisabledDaysInRange,c=i.startDate,f=i.endDate,d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(a||s||l)||!d||!u&&n.isDisabled()?!1:a&&f&&(To(d,f)||io(d,f))?Bs(o,d,f):s&&c&&(Fi(d,c)||io(d,c))||l&&c&&!f&&(Fi(d,c)||io(d,c))?Bs(o,c,d):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,a=i.startDate,s=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return s?Ce(o,l):Ce(o,a)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,a=i.endDate,s=i.selectsEnd,l=i.selectsRange,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return s||l?Ce(o,u):Ce(o,a)},n.isRangeStart=function(){var r=n.props,i=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Ce(o,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Ce(a,i)},n.isWeekend=function(){var r=w8(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Yt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Yt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Fe())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return yt("react-datepicker__day",i,"react-datepicker__day--"+cH(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,a=o===void 0?"Choose":o,s=r.ariaLabelPrefixWhenDisabled,l=s===void 0?"Not available":s,u=n.isDisabled()||n.isExcluded()?l:a;return"".concat(u," ").concat(Ye(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,o=r.holidays,a=o===void 0?new Map:o,s=r.excludeDates,l=Ye(i,"MM.dd.yyyy"),u=[];return a.has(l)&&u.push.apply(u,a.get(l).holidayNames),n.isExcluded()&&u.push(s?.filter(function(c){return c instanceof Date?Ce(c,i):Ce(c?.date,i)}).map(function(c){if(!(c instanceof Date))return c?.message})),u.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Ce(i,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(F_(n.props.day),n.props.day):F_(n.props.day)},n.render=function(){return R.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&R.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(_.Component),DH=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=_.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,o,a=r.key;a===K.Space&&(r.preventDefault(),r.key=K.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ce(n.props.date,n.props.selected)&&Ce(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Ce(n.props.date,n.props.selected)&&Ce(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!r?.isInputFocused&&Ce(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.ariaLabelPrefix,o=i===void 0?t.defaultProps.ariaLabelPrefix:i,a=n.onClick,s={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&Ce(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return R.createElement("div",{ref:this.weekNumberEl,className:yt(s),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(_.Component),OH=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Cn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,o){for(var a,s,l,u=new Date(r),c=0;c<7;c++){var f=new Date(r);f.setDate(f.getDate()+c);var d=!n.isDisabled(f);if(d){u=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,i,o),n.props.showWeekPicker&&n.handleDayClick(u,o),((a=n.props.shouldCloseOnSelect)!==null&&a!==void 0?a:t.defaultProps.shouldCloseOnSelect)&&((l=(s=n.props).setOpen)===null||l===void 0||l.call(s,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):uH(r)},n.renderDays=function(){var r=n.startOfWeek(),i=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;i.push(R.createElement(DH,ke({key:"W"},t.defaultProps,n.props,{weekNumber:o,date:r,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(s){var l=Zr(r,s);return R.createElement(MH,ke({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Oi(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ce(n.startOfWeek(),n.props.selected)&&Ce(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Ce(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return R.createElement("div",{className:yt(n)},this.renderDays())},t}(_.Component),ks,PH=6,_a={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},$p=(ks={},ks[_a.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ks[_a.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ks[_a.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ks),Uu=1;function rS(e,t){return e?_a.FOUR_COLUMNS:t?_a.TWO_COLUMNS:_a.THREE_COLUMNS}var NH=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=lr([],Array(12),!0).map(function(){return _.createRef()}),n.QUARTER_REFS=lr([],Array(4),!0).map(function(){return _.createRef()}),n.isDisabled=function(r){return Cn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return Tv(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var o,a;(a=(o=n.props).onDayClick)===null||a===void 0||a.call(o,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,o;(o=(i=n.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Vt(on(o,r),a)},n.isRangeStartQuarter=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Df(Qo(o,r),a)},n.isRangeEndMonth=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Vt(on(o,r),s)},n.isRangeEndQuarter=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Df(Qo(o,r),s)},n.isInSelectingRangeMonth=function(r){var i,o=n.props,a=o.day,s=o.selectsStart,l=o.selectsEnd,u=o.selectsRange,c=o.startDate,f=o.endDate,d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(s||l||u)||!d?!1:s&&f?Fu(d,f,r,a):l&&c||u&&c&&!f?Fu(c,d,r,a):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,a=o.day,s=o.startDate,l=o.selectsStart,u=on(a,r),c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?Vt(u,c):Vt(u,s)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,a=o.day,s=o.endDate,l=o.selectsEnd,u=o.selectsRange,c=on(a,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||u?Vt(c,f):Vt(c,s)},n.isInSelectingRangeQuarter=function(r){var i,o=n.props,a=o.day,s=o.selectsStart,l=o.selectsEnd,u=o.selectsRange,c=o.startDate,f=o.endDate,d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(s||l||u)||!d?!1:s&&f?Hu(d,f,r,a):l&&c||u&&c&&!f?Hu(c,d,r,a):!1},n.isWeekInMonth=function(r){var i=n.props.day,o=Zr(r,6);return Vt(r,i)||Vt(o,i)},n.isCurrentMonth=function(r,i){return _e(r)===_e(Fe())&&i===Yt(Fe())},n.isCurrentQuarter=function(r,i){return _e(r)===_e(Fe())&&i===fo(Fe())},n.isSelectedMonth=function(r,i,o){return Yt(o)===i&&_e(r)===_e(o)},n.isSelectMonthInList=function(r,i,o){return o.some(function(a){return n.isSelectedMonth(r,i,a)})},n.isSelectedQuarter=function(r,i,o){return fo(r)===i&&_e(r)===_e(o)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,o=0,a=!1,s=Oi(Wr(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(m){return n.props.showWeekPicker?Oi(m,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(m){return n.props.showWeekPicker?Oi(m,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?u(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(R.createElement(OH,ke({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:s,month:Yt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!a;){o++,s=_f(s,1);var d=i&&o>=PH,h=!i&&!n.isWeekInMonth(s);if(d||h)if(n.props.peekNextMonth)a=!0;else break}return r},n.onMonthClick=function(r,i){var o=n.isMonthDisabledForLabelDate(i),a=o.isDisabled,s=o.labelDate;a||n.handleDayClick(Wr(s),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,a=i.labelDate;o||n.handleDayMouseEnter(Wr(a))},n.handleMonthNavigation=function(r,i){var o,a,s,l;(a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,i),(l=(s=n.MONTH_REFS[r])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,o){var a,s=n.props,l=s.selected,u=s.preSelection,c=s.setPreSelection,f=s.minDate,d=s.maxDate,h=s.showFourColumnMonthYearPicker,m=s.showTwoColumnMonthYearPicker;if(u){var g=rS(h,m),v=n.getVerticalOffset(g),p=(a=$p[g])===null||a===void 0?void 0:a.grid,w=function(C,k,N){var A,O,V=k,I=N;switch(C){case K.ArrowRight:V=Qn(k,Uu),I=N===11?0:N+Uu;break;case K.ArrowLeft:V=Ha(k,Uu),I=N===0?11:N-Uu;break;case K.ArrowUp:V=Ha(k,v),I=!((A=p?.[0])===null||A===void 0)&&A.includes(N)?N+12-v:N-v;break;case K.ArrowDown:V=Qn(k,v),I=!((O=p?.[p.length-1])===null||O===void 0)&&O.includes(N)?N-12+v:N+v;break}return{newCalculatedDate:V,newCalculatedMonth:I}},y=function(C,k,N){for(var A=40,O=C,V=!1,I=0,T=w(O,k,N),P=T.newCalculatedDate,D=T.newCalculatedMonth;!V;){if(I>=A){P=k,D=N;break}if(f&&P<f){O=K.ArrowRight;var $=w(O,P,D);P=$.newCalculatedDate,D=$.newCalculatedMonth}if(d&&P>d){O=K.ArrowLeft;var $=w(O,P,D);P=$.newCalculatedDate,D=$.newCalculatedMonth}if(vH(P,n.props)){var $=w(O,P,D);P=$.newCalculatedDate,D=$.newCalculatedMonth}else V=!0;I++}return{newCalculatedDate:P,newCalculatedMonth:D}};if(i===K.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),c?.(l));return}var x=y(i,u,o),E=x.newCalculatedDate,b=x.newCalculatedMonth;switch(i){case K.ArrowRight:case K.ArrowLeft:case K.ArrowUp:case K.ArrowDown:n.handleMonthNavigation(b,E);break}}},n.getVerticalOffset=function(r){var i,o;return(o=(i=$p[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,i){var o=n.props,a=o.disabledKeyboardNavigation,s=o.handleOnMonthKeyDown,l=r.key;l!==K.Tab&&r.preventDefault(),a||n.handleKeyboardNavigation(r,l,i),s&&s(r)},n.onQuarterClick=function(r,i){var o=Qo(n.props.day,i);$u(o,n.props)||n.handleDayClick(V_(o),r)},n.onQuarterMouseEnter=function(r){var i=Qo(n.props.day,r);$u(i,n.props)||n.handleDayMouseEnter(V_(i))},n.handleQuarterNavigation=function(r,i){var o,a,s,l;n.isDisabled(i)||n.isExcluded(i)||((a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,i),(l=(s=n.QUARTER_REFS[r-1])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var o,a,s=r.key;if(!n.props.disabledKeyboardNavigation)switch(s){case K.Enter:n.onQuarterClick(r,i),(a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,n.props.selected);break;case K.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,_v(n.props.preSelection,1));break;case K.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,dk(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,o=n.props,a=o.day,s=o.minDate,l=o.maxDate,u=o.excludeDates,c=o.includeDates,f=on(a,r);return{isDisabled:(i=(s||l||u||c)&&yk(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate,l=i.preSelection,u=i.monthClassName,c=u?u(on(o,r)):void 0,f=n.getSelection();return yt("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(o,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(o,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":a&&s?Fu(a,s,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Yt(n.props.preSelection),o=n.isMonthDisabledForLabelDate(i).isDisabled,a=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return a},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=fo(n.props.preSelection),o=$u(n.props.day,n.props),a=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return a},n.getAriaLabel=function(r){var i=n.props,o=i.chooseDayAriaLabelPrefix,a=o===void 0?"Choose":o,s=i.disabledDayAriaLabelPrefix,l=s===void 0?"Not available":s,u=i.day,c=i.locale,f=on(u,r),d=n.isDisabled(f)||n.isExcluded(f)?l:a;return"".concat(d," ").concat(Ye(f,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate,l=i.selected,u=i.minDate,c=i.maxDate,f=i.excludeDates,d=i.includeDates,h=i.filterDate,m=i.preSelection,g=i.disabledKeyboardNavigation,v=(u||c||f||d||h)&&$u(Qo(o,r),n.props);return yt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(o,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&m&&n.isSelectedQuarter(o,r,m)&&!v,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":a&&s?Hu(a,s,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,o=i.showFullMonthYearPicker,a=i.renderMonthContent,s=i.locale,l=i.day,u=vk(r,s),c=Cv(r,s);return a?a(r,u,c,l):o?c:u},n.getQuarterContent=function(r){var i,o=n.props,a=o.renderQuarterContent,s=o.locale,l=gH(r,s);return(i=a?.(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,o=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,s=i.day,l=i.selected,u=(r=$p[rS(a,o)])===null||r===void 0?void 0:r.grid;return u?.map(function(c,f){return R.createElement("div",{className:"react-datepicker__month-wrapper",key:f},c.map(function(d,h){return R.createElement("div",{ref:n.MONTH_REFS[d],key:h,onClick:function(m){n.onMonthClick(m,d)},onKeyDown:function(m){Sk(m)&&(m.preventDefault(),m.key=K.Enter),n.onMonthKeyDown(m,d)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(d)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(d)}:void 0,tabIndex:Number(n.getTabIndex(d)),className:n.getMonthClassNames(d),"aria-disabled":n.isMonthDisabled(d),role:"option","aria-label":n.getAriaLabel(d),"aria-current":n.isCurrentMonth(s,d)?"date":void 0,"aria-selected":l?n.isSelectedMonth(s,d,l):void 0},n.getMonthContent(d))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,o=r.selected,a=[1,2,3,4];return R.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(s,l){return R.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(u){n.onQuarterClick(u,s)},onKeyDown:function(u){n.onQuarterKeyDown(u,s)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(s)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(s)}:void 0,className:n.getQuarterClassNames(s),"aria-selected":o?n.isSelectedQuarter(i,s,o):void 0,tabIndex:Number(n.getQuarterTabIndex(s)),"aria-current":n.isCurrentQuarter(i,s)?"date":void 0},n.getQuarterContent(s))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,o=r.selectsStart,a=r.selectsEnd,s=r.showMonthYearPicker,l=r.showQuarterYearPicker,u=r.showWeekPicker;return yt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||a)},{"react-datepicker__monthPicker":s},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,o=n.selectsMultiple;if(o)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,a=n.ariaLabelPrefix,s=a===void 0?"Month ":a,l=s?s.trim()+" ":"";return R.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Ye(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},t}(_.Component),RH=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return R.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?R.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return R.createElement(Yd,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),IH=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,o){return R.createElement("option",{key:i,value:o},i)})},n.renderSelectMode=function(r){return R.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return R.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},R.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),R.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return R.createElement(RH,ke({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,o=[n.renderReadView(!i,r)];return i&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return vk(o,n.props.locale)}:function(o){return Cv(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return R.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t}(_.Component);function LH(e,t){for(var n=[],r=Wr(e),i=Wr(t);!Fi(r,i);)n.push(Fe(r)),r=Qn(r,1);return n}var AH=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=Sg(i),a=rr(r.props.date,i)&&Vt(r.props.date,i);return R.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":a?"true":void 0},a?R.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ye(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:LH(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=yt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return R.createElement(Yd,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),FH=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Wr(n.props.minDate),i=Wr(n.props.maxDate),o=[];!Fi(r,i);){var a=Sg(r);o.push(R.createElement("option",{key:a,value:a},Ye(r,n.props.dateFormat,n.props.locale))),r=Qn(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return R.createElement("select",{value:Sg(Wr(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Ye(n.props.date,n.props.dateFormat,n.props.locale);return R.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},R.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),R.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return R.createElement(AH,ke({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Fe(r);rr(n.props.date,i)&&Vt(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return R.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(_.Component),$H=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var i,o;(n.props.minTime||n.props.maxTime)&&q_(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&W_(r,n.props)||(o=(i=n.props).onChange)===null||o===void 0||o.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&TH(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&q_(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&W_(r,n.props)},n.liClasses=function(r){var i,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(mr(r)*3600+gr(r)*60+zr(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,i){var o,a;r.key===K.Space&&(r.preventDefault(),r.key=K.Enter),(r.key===K.ArrowUp||r.key===K.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===K.ArrowDown||r.key===K.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===K.Enter&&n.handleClick(i),(a=(o=n.props).handleOnKeyDown)===null||a===void 0||a.call(o,r)},n.renderTimes=function(){for(var r,i=[],o=typeof n.props.format=="string"?n.props.format:"p",a=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,s=n.props.selected||n.props.openToDate||Fe(),l=xc(s),u=n.props.injectTimes&&n.props.injectTimes.sort(function(v,p){return v.getTime()-p.getTime()}),c=60*CH(s),f=c/a,d=0;d<f;d++){var h=yg(l,d*a);if(i.push(h),u){var m=EH(l,h,d,a,u);i=i.concat(m)}}var g=i.reduce(function(v,p){return p.getTime()<=s.getTime()?p:v},i[0]);return i.map(function(v){return R.createElement("li",{key:v.valueOf(),onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(p){v===g&&(n.centerLi=p)},onKeyDown:function(p){n.handleOnKeyDown(p,v)},tabIndex:v===g?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},Ye(v,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?R.createElement(R.Fragment,null):R.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},R.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return R.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),R.createElement("div",{className:"react-datepicker__time"},R.createElement("div",{className:"react-datepicker__time-box"},R.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(_.Component),iS=3,jH=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=lr([],Array(r.props.yearItemNumber),!0).map(function(){return _.createRef()}),r.isDisabled=function(i){return Cn(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return Tv(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var a,s;(s=(a=r.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||s===void 0||s.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var a,s,l,u,c=r.props,f=c.date,d=c.yearItemNumber;if(!(f===void 0||d===void 0)){var h=Si(f,d).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((s=(a=r.props).setPreSelection)===null||s===void 0||s.call(a,o),i-h<0?r.updateFocusOnPaginate(d-(h-i)):i-h>=d?r.updateFocusOnPaginate(Math.abs(d-(i-h))):(u=(l=r.YEAR_REFS[i-h])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},r.isSameDay=function(i,o){return Ce(i,o)},r.isCurrentYear=function(i){return i===_e(Fe())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&rr(er(Fe(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&rr(er(Fe(),i),r.props.endDate)},r.isInRange=function(i){return ju(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,a=o.selectsStart,s=o.selectsEnd,l=o.selectsRange,u=o.startDate,c=o.endDate;return!(a||s||l)||!r.selectingDate()?!1:a&&c?ju(i,r.selectingDate(),c):s&&u||l&&u&&!c?ju(i,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var a=r.props,s=a.startDate,l=a.selectsStart,u=er(Fe(),i);return l?rr(u,(o=r.selectingDate())!==null&&o!==void 0?o:null):rr(u,s??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var a=r.props,s=a.endDate,l=a.selectsEnd,u=a.selectsRange,c=er(Fe(),i);return l||u?rr(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):rr(c,s??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,a=o.minDate,s=o.maxDate,l=o.excludeDates,u=o.includeDates,c=o.filterDate,f=Vs(er(r.props.date,i)),d=(a||s||l||u||c)&&bc(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Ce(f,Vs(r.props.selected))&&Ce(f,Vs(r.props.preSelection))&&!d}},r.onYearClick=function(i,o){var a=r.props.date;a!==void 0&&r.handleYearClick(Vs(er(a,o)),i)},r.onYearKeyDown=function(i,o){var a,s,l=i.key,u=r.props,c=u.date,f=u.yearItemNumber,d=u.handleOnKeyDown;if(l!==K.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case K.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(s=(a=r.props).setPreSelection)===null||s===void 0||s.call(a,r.props.selected);break;case K.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Br(r.props.preSelection,1));break;case K.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Ua(r.props.preSelection,1));break;case K.ArrowUp:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var h=Si(c,f).startPeriod,m=iS,g=o-m;if(g<h){var v=f%m;o>=h&&o<h+v?m=v:m+=v,g=o-m}r.handleYearNavigation(g,Ua(r.props.preSelection,m));break}case K.ArrowDown:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var p=Si(c,f).endPeriod,m=iS,g=o+m;if(g>p){var v=f%m;o<=p&&o>p-v?m=v:m+=v,g=o+m}r.handleYearNavigation(g,Br(r.props.preSelection,m));break}}d&&d(i)},r.getYearClassNames=function(i){var o=r.props,a=o.date,s=o.minDate,l=o.maxDate,u=o.selected,c=o.excludeDates,f=o.includeDates,d=o.filterDate,h=o.yearClassName;return yt("react-datepicker__year-text","react-datepicker__year-".concat(i),a?h?.(er(a,i)):void 0,{"react-datepicker__year-text--selected":u?i===_e(u):void 0,"react-datepicker__year-text--disabled":(s||l||c||f||d)&&bc(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=_e(r.props.preSelection),a=bc(i,r.props);return i===o&&!a?"0":"-1"},r.getYearContainerClassNames=function(){var i=r.props,o=i.selectingDate,a=i.selectsStart,s=i.selectsEnd,l=i.selectsRange;return yt("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(a||s||l)})},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,o=i.date,a=i.yearItemNumber,s=i.onYearMouseEnter,l=i.onYearMouseLeave;if(o===void 0)return null;for(var u=Si(o,a),c=u.startPeriod,f=u.endPeriod,d=function(g){r.push(R.createElement("div",{ref:h.YEAR_REFS[g-c],onClick:function(v){n.onYearClick(v,g)},onKeyDown:function(v){Sk(v)&&(v.preventDefault(),v.key=K.Enter),n.onYearKeyDown(v,g)},tabIndex:Number(h.getYearTabIndex(g)),className:h.getYearClassNames(g),onMouseEnter:h.props.usePointerEvent?void 0:function(v){return s(v,g)},onPointerEnter:h.props.usePointerEvent?function(v){return s(v,g)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(v){return l(v,g)},onPointerLeave:h.props.usePointerEvent?function(v){return l(v,g)}:void 0,key:g,"aria-current":h.isCurrentYear(g)?"date":void 0},h.getYearContent(g)))},h=this,m=c;m<=f;m++)d(m);return R.createElement("div",{className:this.getYearContainerClassNames()},R.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(_.Component);function HH(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var a=e+t-o,s=!0;n&&(s=_e(n)<=a),r&&s&&(s=_e(r)>=a),s&&i.push(a)}return i}var UH=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var s=r.props.year,l=r.state.yearsList.map(function(f){return R.createElement("div",{className:s===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":s===f?"true":void 0},s===f?R.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),u=r.props.minDate?_e(r.props.minDate):null,c=r.props.maxDate?_e(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(f){return f===c}))&&l.unshift(R.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},R.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(f){return f===u}))&&l.push(R.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},R.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(s){r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(s){var l=r.state.yearsList.map(function(u){return u+s});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,a=i||(o?10:5);return r.state={yearsList:HH(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=_.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=yt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return R.createElement(Yd,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),VH=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?_e(n.props.minDate):1900,i=n.props.maxDate?_e(n.props.maxDate):2100,o=[],a=r;a<=i;a++)o.push(R.createElement("option",{key:a,value:a},a));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return R.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return R.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},R.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),R.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return R.createElement(UH,ke({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var o,a;(a=(o=n.props).onSelect)===null||a===void 0||a.call(o,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return R.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(_.Component),BH=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],YH=function(e){var t=(e.className||"").split(/\s+/);return BH.some(function(n){return t.indexOf(n)>=0})},zH=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,a;YH(i.target)&&((a=(o=r.props).onDropdownFocus)===null||a===void 0||a.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,a=i.selected,s=i.openToDate,l=wk(r.props),u=_k(r.props),c=Fe(),f=s||a||o;return f||(l&&To(c,l)?l:u&&Fi(c,u)?u:c)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:Qn(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:Ha(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,a){r.props.onSelect(i,o,a),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:er(Fe(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,a,s,l;(a=(o=r.props).onYearChange)===null||a===void 0||a.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(s=r.props).setOpen)===null||l===void 0||l.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Cn(i,r.props))return i;for(var o=Wr(i),a=dH(i),s=T6(a,o),l=null,u=0;u<=s;u++){var c=Zr(o,u);if(!Cn(c,r.props)){l=c;break}}return l},r.handleMonthChange=function(i){var o,a,s,l=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(s=(a=r.props).setOpen)===null||s===void 0||s.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var o,a;(a=(o=r.props).onMonthChange)===null||a===void 0||a.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var a=o.date;return{date:er(a,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var a=o.date;return{date:on(a,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var a=o.date;return{date:er(on(a,Yt(i)),_e(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=Oi(i,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(R.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),a.concat([0,1,2,3,4,5,6].map(function(s){var l=Zr(o,s),u=r.formatWeekday(l,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return R.createElement("div",{key:s,"aria-label":Ye(l,"EEEE",r.props.locale),className:yt("react-datepicker__day-name",c)},u)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?hH(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?mH(i,o):pH(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,a=i.date;return{date:Ua(a,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=K_(r.state.date,r.props);break;case r.props.showYearPicker:o=_H(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=yH(r.state.date,r.props);break;default:o=Q_(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],s=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--previous--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.previousMonthButtonLabel,d=f===void 0?t.defaultProps.previousMonthButtonLabel:f,h=c.previousYearButtonLabel,m=h===void 0?t.defaultProps.previousYearButtonLabel:h,g=r.props,v=g.previousMonthAriaLabel,p=v===void 0?typeof d=="string"?d:"Previous Month":v,w=g.previousYearAriaLabel,y=w===void 0?typeof m=="string"?m:"Previous Year":w;return R.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?y:p},R.createElement("span",{className:a.join(" ")},u?m:d))}}},r.increaseYear=function(){r.setState(function(i){var o,a=i.date;return{date:Br(a,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=X_(r.state.date,r.props);break;case r.props.showYearPicker:o=SH(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=wH(r.state.date,r.props);break;default:o=G_(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.nextMonthButtonLabel,d=f===void 0?t.defaultProps.nextMonthButtonLabel:f,h=c.nextYearButtonLabel,m=h===void 0?t.defaultProps.nextYearButtonLabel:h,g=r.props,v=g.nextMonthAriaLabel,p=v===void 0?typeof d=="string"?d:"Next Month":v,w=g.nextYearAriaLabel,y=w===void 0?typeof m=="string"?m:"Next Year":w;return R.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?y:p},R.createElement("span",{className:s.join(" ")},u?m:d))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),R.createElement("h2",{className:o.join(" ")},Ye(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return R.createElement(VH,ke({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:_e(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return R.createElement(IH,ke({},t.defaultProps,r.props,{month:Yt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return R.createElement(FH,ke({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(B_(),i),r.props.setPreSelection&&r.props.setPreSelection(B_())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return R.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,a=i.i;return R.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),R.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(a!==0),r.renderMonthYearDropdown(a!==0),r.renderYearDropdown(a!==0)),R.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,a,s=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=Q_(r.state.date,r.props),c=G_(r.state.date,r.props),f=K_(r.state.date,r.props),d=X_(r.state.date,r.props),h=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return R.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(a=(o=r.props).renderCustomHeader)===null||a===void 0?void 0:a.call(o,ke(ke({},r.state),{customHeaderCount:l,monthDate:s,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:c,prevYearButtonDisabled:f,nextYearButtonDisabled:d})),h&&R.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderYearHeader=function(i){var o=i.monthDate,a=r.props,s=a.showYearPicker,l=a.yearItemNumber,u=l===void 0?t.defaultProps.yearItemNumber:l,c=Si(o,u),f=c.startPeriod,d=c.endPeriod;return R.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},s?"".concat(f," - ").concat(d):_e(o))},r.renderHeader=function(i){var o=i.monthDate,a=i.i,s=a===void 0?0:a,l={monthDate:o,i:s};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var a=[],s=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?s-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Br(r.state.date,l):Ha(r.state.date,l),c=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,f=0;f<s;++f){var d=f-c+l,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Br(u,d):Qn(u,d),m="month-".concat(f),g=f<s-1,v=f>0;a.push(R.createElement("div",{key:m,ref:function(p){r.monthContainer=p??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:f}),R.createElement(NH,ke({},t.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:v}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return R.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),R.createElement(jH,ke({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return R.createElement($H,ke({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&Rr(i)&&!!r.props.selected,a=o?"".concat(J_(i.getHours()),":").concat(J_(i.getMinutes())):"";if(r.props.showTimeInput)return R.createElement(kH,ke({},t.defaultProps,r.props,{date:i,timeString:a,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=Si(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),a=o.startPeriod,s=o.endPeriod,l;return r.props.showYearPicker?l="".concat(a," - ").concat(s):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=_e(r.state.date):l="".concat(Cv(Yt(r.state.date),r.props.locale)," ").concat(_e(r.state.date)),R.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return R.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=_.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:eu}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Ce(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Vt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Ce(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||iH;return R.createElement(Yd,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},R.createElement(n,{className:yt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(_.Component),WH=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,o="react-datepicker__calendar-icon";return typeof t=="string"?R.createElement("i",{className:"".concat(o," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i}):R.isValidElement(t)?R.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(o," ").concat(r),onClick:function(a){typeof t.props.onClick=="function"&&t.props.onClick(a),typeof i=="function"&&i(a)}}):R.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},R.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},xk=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return UN.createPortal(this.props.children,this.el)},t}(_.Component),qH="[tabindex], a, button, input, select, textarea",QH=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},bk=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(qH),1,-1).filter(QH)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=_.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?R.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},R.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,R.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(_.Component);function GH(e){var t=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=_.useRef(null),a=rH(ke({open:!i,whileElementsMounted:KC,placement:n.popperPlacement,middleware:lr([Vj({padding:15}),Uj(10),Bj({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),s=ke(ke({},n),{hidePopper:i,popperProps:ke(ke({},a),{arrowRef:o})});return R.createElement(e,ke({},s))};return t}var KH=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,o=n.hidePopper,a=o===void 0?t.defaultProps.hidePopper:o,s=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,c=n.popperOnKeyDown,f=n.portalId,d=n.portalHost,h=n.popperProps,m=n.showArrow,g=void 0;if(!a){var v=yt("react-datepicker-popper",r);g=R.createElement(bk,{enableTabLoop:u},R.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:v,"data-placement":h.placement,onKeyDown:c},s,m&&R.createElement(Kj,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=_.createElement(this.props.popperContainer,{},g)),f&&!a&&(g=R.createElement(xk,{portalId:f,portalHost:d},g));var p=yt("react-datepicker-wrapper",i);return R.createElement(R.Fragment,null,R.createElement("div",{ref:h.refs.setReference,className:p},l),g)},t}(_.Component),XH=GH(KH),oS="react-datepicker-ignore-onclickoutside";function ZH(e,t){return e&&t?Yt(e)!==Yt(t)||_e(e)!==_e(t):e!==t}var jp="Date input not valid.",Eg=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Fe()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,a){var s=new Date(a.date);return Rr(s)?lr(lr([],o,!0),[ke(ke({},a),{date:s})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),a=wk(r.props),s=_k(r.props),l=a&&To(o,xc(a))?a:s&&Fi(o,Y_(s))?s:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:Z_(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(ke(ke({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(ke(ke({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Hp},function(){i||r.setState(function(a){return{focused:o?a.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Yr(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,a,s=r.state.wasHidden,l=s?r.state.open:!0;s&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((a=(o=r.props).onFocus)===null||a===void 0||a.call(o,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,a;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((a=(o=r.props).onBlur)===null||a===void 0||a.call(o,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,a;r.props.inline||r.setOpen(!1),(a=(o=r.props).onClickOutside)===null||a===void 0||a.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var l=a[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,a),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:l?.target instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:JH});var u=r.props,c=u.dateFormat,f=c===void 0?t.defaultProps.dateFormat:c,d=u.strictParsing,h=d===void 0?t.defaultProps.strictParsing:d,m=u.selectsRange,g=u.startDate,v=u.endDate,p=l?.target instanceof HTMLInputElement?l.target.value:"";if(m){var w=p.split("-",2).map(function(A){return A.trim()}),y=w[0],x=w[1],E=Ap(y??"",f,r.props.locale,h),b=Ap(x??"",f,r.props.locale,h),C=g?.getTime()!==E?.getTime(),k=v?.getTime()!==b?.getTime();if(!C&&!k||E&&Cn(E,r.props)||b&&Cn(b,r.props))return;(o=(i=r.props).onChange)===null||o===void 0||o.call(i,[E,b],l)}else{var N=Ap(p,f,r.props.locale,h,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&N&&!Ce(N,r.props.selected)&&(N=$j(r.props.selected,{hours:mr(N),minutes:gr(N),seconds:zr(N)})),(N||!p)&&r.setSelected(N,l,!0)}}},r.handleSelect=function(i,o,a){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,a),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var s=r.props,l=s.startDate,u=s.endDate;l&&!u&&(r.props.swapRange||!nS(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,o,a,s){var l,u,c=i;if(r.props.showYearPicker){if(c!==null&&bc(_e(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&yk(c,r.props))return}else if(c!==null&&Cn(c,r.props))return;var f=r.props,d=f.onChange,h=f.selectsRange,m=f.startDate,g=f.endDate,v=f.selectsMultiple,p=f.selectedDates,w=f.minTime,y=f.swapRange;if(!io(r.props.selected,c)||r.props.allowSameDay||h||v)if(c!==null&&(r.props.selected&&(!a||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Fp(c,{hour:mr(r.props.selected),minute:gr(r.props.selected),second:zr(r.props.selected)})),!a&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&w&&(c=Fp(c,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:s})),h){var x=!m&&!g,E=m&&!g,b=m&&g;x?d?.([c,null],o):E&&(c===null?d?.([null,null],o):nS(c,m)?d?.(y?[c,m]:[c,null],o):d?.([m,c],o)),b&&d?.([c,null],o)}else if(v){if(c!==null)if(!p?.length)d?.([c],o);else{var C=p.some(function(N){return Ce(N,c)});if(C){var k=p.filter(function(N){return!Ce(N,c)});d?.(k,o)}else d?.(lr(lr([],p,!0),[c],!1),o)}}else d?.(c,o);a||((u=(l=r.props).onSelect)===null||u===void 0||u.call(l,c,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){var o=Yr(r.props.minDate),a=Yr(r.props.maxDate),s=!0;if(i){var l=xc(i);if(o&&a)s=Bs(i,r.props.minDate,r.props.maxDate);else if(o){var u=xc(r.props.minDate);s=Fi(i,u)||io(l,u)}else if(a){var c=Y_(r.props.maxDate);s=To(i,c)||io(l,c)}}s&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,a;if(!(r.props.selectsRange||r.props.selectsMultiple)){var s=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:Fp(s,{hour:mr(i),minute:gr(i)});r.setState({preSelection:l}),(a=(o=r.props).onChange)===null||a===void 0||a.call(o,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,a,s,l,u,c;(a=(o=r.props).onKeyDown)===null||a===void 0||a.call(o,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===K.ArrowDown||f===K.ArrowUp||f===K.Enter)&&((s=r.onInputClick)===null||s===void 0||s.call(r));return}if(r.state.open){if(f===K.ArrowDown||f===K.ArrowUp){i.preventDefault();var d=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(d);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var m=Fe(r.state.preSelection);f===K.Enter?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Hp?(r.handleSelect(m,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(m)):r.setOpen(!1)):f===K.Escape?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):f===K.Tab&&r.setOpen(!1),r.inputOk()||(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:jp})}},r.onPortalKeyDown=function(i){var o=i.key;o===K.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,a,s,l,u,c,f=r.props,d=f.minDate,h=f.maxDate,m=f.disabledKeyboardNavigation,g=f.showWeekPicker,v=f.shouldCloseOnSelect,p=f.locale,w=f.calendarStartDay,y=f.adjustDateOnChange,x=f.inline;if((a=(o=r.props).onKeyDown)===null||a===void 0||a.call(o,i),!m){var E=i.key,b=i.shiftKey,C=Fe(r.state.preSelection),k=function(P,D){var $=D;switch(P){case K.ArrowRight:$=g?_f(D,1):Zr(D,1);break;case K.ArrowLeft:$=g?$_(D,1):Sj(D,1);break;case K.ArrowUp:$=$_(D,1);break;case K.ArrowDown:$=_f(D,1);break;case K.PageUp:$=b?Ua(D,1):Ha(D,1);break;case K.PageDown:$=b?Br(D,1):Qn(D,1);break;case K.Home:$=Oi(D,p,w);break;case K.End:$=fH(D);break}return $},N=function(P,D){for(var $=40,M=P,F=!1,B=0,q=k(P,D);!F;){if(B>=$){q=D;break}d&&q<d&&(M=K.ArrowRight,q=Cn(d,r.props)?k(M,q):d),h&&q>h&&(M=K.ArrowLeft,q=Cn(h,r.props)?k(M,q):h),Cn(q,r.props)?((M===K.PageUp||M===K.Home)&&(M=K.ArrowRight),(M===K.PageDown||M===K.End)&&(M=K.ArrowLeft),q=k(M,q)):F=!0,B++}return q};if(E===K.Enter){i.preventDefault(),r.handleSelect(C,i),!v&&r.setPreSelection(C);return}else if(E===K.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(s=r.props).onInputError)===null||l===void 0||l.call(s,{code:1,msg:jp});return}var A=null;switch(E){case K.ArrowLeft:case K.ArrowRight:case K.ArrowUp:case K.ArrowDown:case K.PageUp:case K.PageDown:case K.Home:case K.End:A=N(E,C);break}if(!A){(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:jp});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Hp}),y&&r.setSelected(A),r.setPreSelection(A),x){var O=Yt(C),V=Yt(A),I=_e(C),T=_e(A);O!==V||I!==T?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===K.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,a=o.selectsRange,s=o.onChange;s?.(a?[null,null]:null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:R.createElement(zH,ke({showMonthYearDropdown:void 0,ref:function(a){r.calendar=a}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:bH(r.modifyHolidays()),outsideClickIgnoreClass:oS,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,a=o===void 0?t.defaultProps.dateFormat:o,s=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,u=l?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(Sn(r.props.startDate,{dateFormat:u,locale:s}),". ").concat(r.props.endDate?"End date: "+Sn(r.props.endDate,{dateFormat:u,locale:s}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(Sn(r.props.selected,{dateFormat:a,locale:s})):r.props.showYearPicker?c="Selected year: ".concat(Sn(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?c="Selected month: ".concat(Sn(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(Sn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):c="Selected date: ".concat(Sn(r.props.selected,{dateFormat:u,locale:s})),R.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,o,a,s=yt(r.props.className,(i={},i[oS]=r.state.open,i)),l=r.props.customInput||R.createElement("input",{type:"text"}),u=r.props.customInputRef||"ref",c=r.props,f=c.dateFormat,d=f===void 0?t.defaultProps.dateFormat:f,h=c.locale,m=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?sH(r.props.startDate,r.props.endDate,{dateFormat:d,locale:h}):r.props.selectsMultiple?lH((a=r.props.selectedDates)!==null&&a!==void 0?a:[],{dateFormat:d,locale:h}):Sn(r.props.selected,{dateFormat:d,locale:h});return _.cloneElement(l,(o={},o[u]=function(g){r.input=g},o.value=m,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=yt(l.props.className,s),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,a=i.disabled,s=i.selected,l=i.startDate,u=i.endDate,c=i.clearButtonTitle,f=i.clearButtonClassName,d=f===void 0?"":f,h=i.ariaLabelClose,m=h===void 0?"Close":h,g=i.selectedDates;return o&&(s!=null||l!=null||u!=null||g?.length)?R.createElement("button",{type:"button",className:yt("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":m,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:eu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,o,a,s;n.inline&&ZH(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Z_(this.props.highlightDates)}),!r.focused&&!io(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((s=(a=this.props).onCalendarClose)===null||s===void 0||s.call(a)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,a=n.calendarIconClassName,s=n.toggleCalendarOnIconClick,l=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),R.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&R.createElement(WH,ke({icon:i,className:yt(a,!a&&o,l&&"react-datepicker-ignore-onclickoutside")},s?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?R.createElement(bk,{enableTabLoop:this.props.enableTabLoop},R.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=R.createElement(xk,ke({portalId:this.props.portalId},this.props),r)),R.createElement("div",null,this.renderInputContainer(),r)}return R.createElement(XH,ke({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(_.Component),JH="input",Hp="navigate";function ie({label:e,...t}){return S.jsxs("div",{className:"thin-border blue-bg",style:{display:"flex",justifyContent:"space-between",gap:"1em"},children:[e,S.jsx("div",{className:"number-field",children:t.children})]})}function eU(){const e=_.useContext(xt),t=e.portaCountClient.state,n=e.portaCountClient.settings,[r,i]=ae(H.BAUD_RATE),[o]=ae(H.ADVANCED_MODE),[a]=ae(H.SHOW_REMAINING_EVENT_TIME),[s]=ae(H.SHOW_ELAPSED_PARTICIPANT_TIME),[l,u]=_.useState(!1),[c,f]=_.useState("all-raw-data"),[d,h]=ae(H.MINUTES_ALLOTTED_PER_PARTICIPANT),[m,g]=ae(H.MASK_LIST),[v,p]=ae(H.PARTICIPANT_LIST),[w,y]=ae(H.COLOR_SCHEME),[x,E]=_.useState(e.settings.eventEndTime),[,b]=_.useState({}),C=_.useCallback(()=>{b({})},[]);function k(T){f(T.target.value)}function N(){switch(c){case"all-raw-data":A();break;case"all-results-as-json":O();break;default:console.log(`unsupported data to download: ${c}`)}}async function A(){await gd.getData().then(T=>{vg(JSON.stringify(T),"fit-test-all-raw-data","json")})}function O(){Rn.getData().then(T=>{vg(JSON.stringify(T),"fit-test-all-results","json")})}function V(T){const P=Number(T);isNaN(P)?h(D=>D):P>0?h(P):console.warn(`ignoring out-of-range minutes per participant value: ${T}`)}_.useEffect(()=>{e.settings.eventEndTime=x},[x]),_.useEffect(()=>{e.settings.getActualSetting(H.EVENT_END_HHMM).then(()=>{E(e.settings.eventEndTime)});const T={stateChanged(){C()},settingsChanged(){C()}};return e.portaCountClient.addListener(T),()=>{e.portaCountClient.removeListener(T)}},[]);function I(){const T=e.portaCountClient.externalController;T.assumeManualControl(),T.requestRuntimeStatus(),T.sendCommand(be.REQUEST_VOLTAGE_INFO),T.requestSettings()}return S.jsxs("div",{id:"settings-panel",children:[S.jsx("fieldset",{children:"mftc v1.8.6 production"}),S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Settings"}),S.jsxs("section",{id:"settings",style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"stretch"},children:[S.jsx("section",{id:"basic-controls",children:S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Basic"}),S.jsx(lt,{setting:H.KEEP_SCREEN_AWAKE}),S.jsx(z4,{}),S.jsx(lt,{setting:H.SAY_PARTICLE_COUNT}),S.jsx(lt,{setting:H.SAY_ESTIMATED_FIT_FACTOR}),S.jsxs("div",{className:"labeled-setting",children:[S.jsxs("select",{id:"download-file-format-selector",defaultValue:c,onChange:k,children:[S.jsx("option",{value:"all-raw-data",children:"All Raw data as JSON"}),S.jsx("option",{value:"all-results-as-json",children:"All results as JSON"})]}),S.jsx("input",{className:"button",type:"button",value:"Download!",id:"download-button",onClick:N})]})]})}),S.jsx("section",{id:"event settings",children:S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Event settings"}),S.jsx(lt,{setting:H.SHOW_ELAPSED_PARTICIPANT_TIME}),s&&S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{htmlFor:"minutes-per-participant-input",children:"Minutes per participant:"}),S.jsx(y6,{style:{width:"8ch"},id:"minutes-per-participant-input",value:d,onChange:V,type:"number",min:1,max:60})]}),S.jsx(lt,{setting:H.SHOW_REMAINING_EVENT_TIME}),a&&S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{children:"Event end time"}),S.jsx(Eg,{className:"date-time-input",selected:x,showTimeSelect:!0,showTimeCaption:!0,includeDates:[new Date],showIcon:!0,dateFormat:"YYYY-MMM-dd HH:mm",timeFormat:"HH:mm",placeholderText:"Pick end time",onChange:T=>T&&E(T)})]}),S.jsxs("fieldset",{id:"today-participant-list",children:[S.jsx("legend",{children:"Participants"}),S.jsx("div",{style:{maxHeight:"50vh"},children:S.jsx(xo,{scrollable:!0,onChangeOnlyOnBlur:!0,initialValue:v.join(`
`),onChange:T=>{T!==void 0&&p(T.split(/\n/).map(P=>P.trim()).filter(P=>P.length>0))}})})]})]})}),S.jsxs("section",{id:"advanced-controls",children:[S.jsxs("fieldset",{children:[S.jsx("legend",{children:S.jsx(lt,{trueLabel:"Advanced settings",setting:H.ADVANCED_MODE})}),S.jsxs("div",{style:{display:o?"inline-block":"none"},children:[S.jsx(T_,{label:"Baud Rate",value:r.toString(),setValue:T=>i(Number(T)),options:[{300:"300"},{600:"600"},{1200:"1200"},{2400:"2400"},{9600:"9600"}]}),S.jsx(T_,{label:"Color Scheme",value:w,setValue:T=>y(T),options:[{Auto:"light dark"},{Dark:"dark"},{Light:"light"}]}),S.jsx(v6,{}),S.jsx(lt,{trueLabel:"Verbose speech",setting:H.VERBOSE}),S.jsx(lt,{setting:H.SHOW_EXTERNAL_CONTROL}),S.jsx(lt,{setting:H.ENABLE_TEST_INSTRUCTIONS_ZOOM}),S.jsx(lt,{setting:H.USE_COMPACT_UI}),S.jsx(lt,{setting:H.SHOW_MASK_PERF_GRAPH}),S.jsx(lt,{setting:H.ENABLE_WEB_SERIAL_DRIVERS}),S.jsx(lt,{setting:H.ENABLE_PROTOCOL_EDITOR}),S.jsx(lt,{setting:H.ENABLE_QR_CODE_SCANNER}),S.jsx(lt,{setting:H.ENABLE_STATS}),S.jsx(lt,{setting:H.AUTO_UPDATE_MASK_LIST}),S.jsx(lt,{setting:H.ENABLE_AUTO_CONNECT}),S.jsx(lt,{setting:H.SYNC_DEVICE_STATE_ON_CONNECT}),S.jsx(lt,{setting:H.AUTO_CREATE_FAST_PROTOCOLS}),S.jsx(lt,{setting:H.ENABLE_SIMULATOR}),S.jsx(bT,{trueLabel:"Show Danger Zone",value:l,setValue:u})]})]}),l&&S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Danger Zone"}),S.jsx("input",{type:"button",value:"Clear Local Storage",onClick:()=>localStorage.clear()})]})]}),S.jsxs("fieldset",{id:"mask-list",children:[S.jsx("legend",{children:"Mask list"}),S.jsx("div",{style:{maxHeight:"50vh"},children:S.jsx(xo,{scrollable:!0,onChangeOnlyOnBlur:!0,initialValue:m.join(`
`),onChange:T=>{T!==void 0&&g(T.split(/\n/).map(P=>P.trim()).filter(P=>P.length>0))}})})]}),S.jsxs("fieldset",{id:"settings-state",children:[S.jsx("legend",{children:"Settings & State"}),S.jsx("button",{onClick:I,children:"Fetch settings & state info"}),S.jsx(ie,{label:"Serial Number",children:n.serialNumber}),S.jsx(ie,{label:"Last Service Date",children:n.lastServiceDate.toISOString()}),S.jsx(ie,{label:"Run Time Since Service",children:Ge(1e3*n.runTimeSinceFactoryServiceSeconds)}),S.jsx(ie,{label:"Num Exercises",children:n.numExercises}),S.jsx(ie,{label:"Ambient Purge",children:Ge(1e3*n.ambientPurge)}),S.jsx(ie,{label:"Ambient Sample",children:Ge(1e3*n.ambientSample)}),S.jsx(ie,{label:"Mask Purge",children:Ge(1e3*n.maskPurge)}),[...n.maskSample.entries()].map(([T,P])=>S.jsx(ie,{label:`Ex ${String(T)} sample`,children:Ge(1e3*P)},T)),[...n.fitFactorPassLevel.entries()].map(([T,P])=>S.jsx(ie,{label:`FF pass level ${String(T)}`,children:P},T)),S.jsx(ie,{label:"Battery",children:t.batteryStatus}),S.jsx(ie,{label:"Pulse",children:t.pulseStatus}),[...t.componentVoltages.entries()].map(([T,P])=>S.jsx(ie,{label:`${T} voltage`,children:P},T))]})]})]})]})}function tU(){const[e,t]=_.useState(""),n=R.useRef(null),[r,i]=_.useState(""),o=R.useRef(null),[a,s]=_.useState(""),l=R.useRef(null),u=_.useContext(xt);return _.useEffect(()=>{t(()=>u.dataCollector.rawLines),i(u.dataCollector.logLines),s(u.dataCollector.processedData);const c={logRawLine(){t(()=>u.dataCollector.rawLines)},logMessage(f){i(d=>d+f)},logProcessedData(f){const d=new Date().toISOString();s(h=>h+`${d} ${f}`)}};return u.dataCollector.addListener(c),()=>{u.dataCollector.removeListener(c)}},[]),S.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[S.jsxs("section",{style:{width:"100%",display:"flex",flexGrow:1},children:[S.jsxs("fieldset",{style:{flexGrow:1},children:[S.jsx("legend",{children:"Raw Data"}),S.jsx("textarea",{id:"raw-data",ref:n,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1e3,value:e})]}),S.jsxs("fieldset",{style:{flexGrow:1},children:[S.jsx("legend",{children:"Processed Data"}),S.jsx("textarea",{id:"interpreted-data",ref:l,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1001,value:a})]})]}),S.jsx("section",{style:{width:"100%",flexGrow:1,display:"flex"},children:S.jsxs("fieldset",{style:{flexGrow:1},children:[S.jsx("legend",{children:"Log"}),S.jsx("textarea",{id:"log-text-area",ref:o,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1002,value:r})]})})]})}var Ek={};typeof window<"u"&&function(e,t){try{e.querySelector(":scope body")}catch{["querySelector","querySelectorAll"].forEach(function(r){const i=t[r];t[r]=function(o){if(/(^|,)\s*:scope/.test(o)){const a=this.id;this.id="ID_"+Date.now(),o=o.replace(/((^|,)\s*):scope/g,"$1#"+this.id);const s=e[r](o);return this.id=a,s}else return i.call(this,o)}})}}(window.document,Element.prototype);var zd={};function we(e){return function(){return e}}const aS=Math.abs,Rt=Math.atan2,Or=Math.cos,nU=Math.max,Sa=Math.min,Kt=Math.sin,ze=Math.sqrt,Lt=1e-12,$i=Math.PI,Of=$i/2,Pi=2*$i;function rU(e){return e>1?0:e<-1?$i:Math.acos(e)}function sS(e){return e>=1?Of:e<=-1?-Of:Math.asin(e)}const Cg=Math.PI,Tg=2*Cg,eo=1e-6,iU=Tg-eo;function Ck(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function oU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ck;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class aU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ck:oU(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>eo)if(!(Math.abs(f*l-u*c)>eo)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,m=i-s,g=l*l+u*u,v=h*h+m*m,p=Math.sqrt(g),w=Math.sqrt(d),y=o*Math.tan((Cg-Math.acos((g+d-v)/(2*p*w)))/2),x=y/w,E=y/p;Math.abs(x-1)>eo&&this._append`L${t+x*c},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*h>c*m)},${this._x1=t+E*l},${this._y1=n+E*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>eo||Math.abs(this._y1-c)>eo)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%Tg+Tg),d>iU?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>eo&&this._append`A${r},${r},0,${+(d>=Cg)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function nu(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new aU(t)}function sU(e){return e.innerRadius}function lU(e){return e.outerRadius}function uU(e){return e.startAngle}function cU(e){return e.endAngle}function fU(e){return e&&e.padAngle}function dU(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=a-i,f=s-o,d=f*l-c*u;if(!(d*d<Lt))return d=(c*(t-o)-f*(e-i))/d,[e+d*l,t+d*u]}function Vu(e,t,n,r,i,o,a){var s=e-n,l=t-r,u=(a?o:-o)/ze(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,m=n+c,g=r+f,v=(d+m)/2,p=(h+g)/2,w=m-d,y=g-h,x=w*w+y*y,E=i-o,b=d*g-m*h,C=(y<0?-1:1)*ze(nU(0,E*E*x-b*b)),k=(b*y-w*C)/x,N=(-b*w-y*C)/x,A=(b*y+w*C)/x,O=(-b*w+y*C)/x,V=k-v,I=N-p,T=A-v,P=O-p;return V*V+I*I>T*T+P*P&&(k=A,N=O),{cx:k,cy:N,x01:-c,y01:-f,x11:k*(i/E-1),y11:N*(i/E-1)}}function hU(){var e=sU,t=lU,n=we(0),r=null,i=uU,o=cU,a=fU,s=null,l=nu(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),m=i.apply(this,arguments)-Of,g=o.apply(this,arguments)-Of,v=aS(g-m),p=g>m;if(s||(s=c=l()),h<d&&(f=h,h=d,d=f),!(h>Lt))s.moveTo(0,0);else if(v>Pi-Lt)s.moveTo(h*Or(m),h*Kt(m)),s.arc(0,0,h,m,g,!p),d>Lt&&(s.moveTo(d*Or(g),d*Kt(g)),s.arc(0,0,d,g,m,p));else{var w=m,y=g,x=m,E=g,b=v,C=v,k=a.apply(this,arguments)/2,N=k>Lt&&(r?+r.apply(this,arguments):ze(d*d+h*h)),A=Sa(aS(h-d)/2,+n.apply(this,arguments)),O=A,V=A,I,T;if(N>Lt){var P=sS(N/d*Kt(k)),D=sS(N/h*Kt(k));(b-=P*2)>Lt?(P*=p?1:-1,x+=P,E-=P):(b=0,x=E=(m+g)/2),(C-=D*2)>Lt?(D*=p?1:-1,w+=D,y-=D):(C=0,w=y=(m+g)/2)}var $=h*Or(w),M=h*Kt(w),F=d*Or(E),B=d*Kt(E);if(A>Lt){var q=h*Or(y),G=h*Kt(y),me=d*Or(x),ce=d*Kt(x),ne;if(v<$i)if(ne=dU($,M,me,ce,q,G,F,B)){var ge=$-ne[0],z=M-ne[1],re=q-ne[0],L=G-ne[1],Q=1/Kt(rU((ge*re+z*L)/(ze(ge*ge+z*z)*ze(re*re+L*L)))/2),de=ze(ne[0]*ne[0]+ne[1]*ne[1]);O=Sa(A,(d-de)/(Q-1)),V=Sa(A,(h-de)/(Q+1))}else O=V=0}C>Lt?V>Lt?(I=Vu(me,ce,$,M,h,V,p),T=Vu(q,G,F,B,h,V,p),s.moveTo(I.cx+I.x01,I.cy+I.y01),V<A?s.arc(I.cx,I.cy,V,Rt(I.y01,I.x01),Rt(T.y01,T.x01),!p):(s.arc(I.cx,I.cy,V,Rt(I.y01,I.x01),Rt(I.y11,I.x11),!p),s.arc(0,0,h,Rt(I.cy+I.y11,I.cx+I.x11),Rt(T.cy+T.y11,T.cx+T.x11),!p),s.arc(T.cx,T.cy,V,Rt(T.y11,T.x11),Rt(T.y01,T.x01),!p))):(s.moveTo($,M),s.arc(0,0,h,w,y,!p)):s.moveTo($,M),!(d>Lt)||!(b>Lt)?s.lineTo(F,B):O>Lt?(I=Vu(F,B,q,G,d,-O,p),T=Vu($,M,me,ce,d,-O,p),s.lineTo(I.cx+I.x01,I.cy+I.y01),O<A?s.arc(I.cx,I.cy,O,Rt(I.y01,I.x01),Rt(T.y01,T.x01),!p):(s.arc(I.cx,I.cy,O,Rt(I.y01,I.x01),Rt(I.y11,I.x11),!p),s.arc(0,0,d,Rt(I.cy+I.y11,I.cx+I.x11),Rt(T.cy+T.y11,T.cx+T.x11),p),s.arc(T.cx,T.cy,O,Rt(T.y11,T.x11),Rt(T.y01,T.x01),!p))):s.arc(0,0,d,E,x,p)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-$i/2;return[Or(f)*c,Kt(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:we(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:we(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:we(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:we(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:we(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:we(+c),u):o},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:we(+c),u):a},u.context=function(c){return arguments.length?(s=c??null,u):s},u}var pU=Array.prototype.slice;function Wd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tk(e){this._context=e}Tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qd(e){return new Tk(e)}function kv(e){return e[0]}function Mv(e){return e[1]}function Dv(e,t){var n=we(!0),r=null,i=qd,o=null,a=nu(s);e=typeof e=="function"?e:e===void 0?kv:we(e),t=typeof t=="function"?t:t===void 0?Mv:we(t);function s(l){var u,c=(l=Wd(l)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:we(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:we(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:we(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function kk(e,t,n){var r=null,i=we(!0),o=null,a=qd,s=null,l=nu(u);e=typeof e=="function"?e:e===void 0?kv:we(+e),t=typeof t=="function"?t:we(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Mv:we(+n);function u(f){var d,h,m,g=(f=Wd(f)).length,v,p=!1,w,y=new Array(g),x=new Array(g);for(o==null&&(s=a(w=l())),d=0;d<=g;++d){if(!(d<g&&i(v=f[d],d,f))===p)if(p=!p)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=h;--m)s.point(y[m],x[m]);s.lineEnd(),s.areaEnd()}p&&(y[d]=+e(v,d,f),x[d]=+t(v,d,f),s.point(r?+r(v,d,f):y[d],n?+n(v,d,f):x[d]))}if(w)return s=null,w+""||null}function c(){return Dv().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:we(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:we(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:we(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:we(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:we(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:we(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:we(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}function mU(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function gU(e){return e}function vU(){var e=gU,t=mU,n=null,r=we(0),i=we(Pi),o=we(0);function a(s){var l,u=(s=Wd(s)).length,c,f,d=0,h=new Array(u),m=new Array(u),g=+r.apply(this,arguments),v=Math.min(Pi,Math.max(-Pi,i.apply(this,arguments)-g)),p,w=Math.min(Math.abs(v)/u,o.apply(this,arguments)),y=w*(v<0?-1:1),x;for(l=0;l<u;++l)(x=m[h[l]=l]=+e(s[l],l,s))>0&&(d+=x);for(t!=null?h.sort(function(E,b){return t(m[E],m[b])}):n!=null&&h.sort(function(E,b){return n(s[E],s[b])}),l=0,f=d?(v-u*y)/d:0;l<u;++l,g=p)c=h[l],x=m[c],p=g+(x>0?x*f:0)+y,m[c]={data:s[c],index:l,value:x,startAngle:g,endAngle:p,padAngle:w};return m}return a.value=function(s){return arguments.length?(e=typeof s=="function"?s:we(+s),a):e},a.sortValues=function(s){return arguments.length?(t=s,n=null,a):t},a.sort=function(s){return arguments.length?(n=s,t=null,a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:we(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:we(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:we(+s),a):o},a}var Mk=Ov(qd);function Dk(e){this._curve=e}Dk.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function Ov(e){function t(n){return new Dk(e(n))}return t._curve=e,t}function Ys(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(Ov(n)):t()._curve},e}function lS(){return Ys(Dv().curve(Mk))}function uS(){var e=kk().curve(Mk),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Ys(n())},delete e.lineX0,e.lineEndAngle=function(){return Ys(r())},delete e.lineX1,e.lineInnerRadius=function(){return Ys(i())},delete e.lineY0,e.lineOuterRadius=function(){return Ys(o())},delete e.lineY1,e.curve=function(a){return arguments.length?t(Ov(a)):t()._curve},e}function zs(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}class Ok{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}class yU{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=zs(this._x0,this._y0),i=zs(this._x0,this._y0=(this._y0+n)/2),o=zs(t,this._y0),a=zs(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=t,this._y0=n}}function Pk(e){return new Ok(e,!0)}function Nk(e){return new Ok(e,!1)}function wU(e){return new yU(e)}function _U(e){return e.source}function SU(e){return e.target}function Qd(e){let t=_U,n=SU,r=kv,i=Mv,o=null,a=null,s=nu(l);function l(){let u;const c=pU.call(arguments),f=t.apply(this,c),d=n.apply(this,c);if(o==null&&(a=e(u=s())),a.lineStart(),c[0]=f,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=d,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return l.source=function(u){return arguments.length?(t=u,l):t},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:we(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:we(+u),l):i},l.context=function(u){return arguments.length?(u==null?o=a=null:a=e(o=u),l):o},l}function xU(){return Qd(Pk)}function bU(){return Qd(Nk)}function EU(){const e=Qd(wU);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const CU=ze(3),Rk={draw(e,t){const n=ze(t+Sa(t/28,.75))*.59436,r=n/2,i=r*CU;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Gd={draw(e,t){const n=ze(t/$i);e.moveTo(n,0),e.arc(0,0,n,0,Pi)}},Ik={draw(e,t){const n=ze(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Lk=ze(1/3),TU=Lk*2,Ak={draw(e,t){const n=ze(t/TU),r=n*Lk;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Fk={draw(e,t){const n=ze(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},$k={draw(e,t){const n=ze(t-Sa(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},jk={draw(e,t){const n=ze(t),r=-n/2;e.rect(r,r,n,n)}},Hk={draw(e,t){const n=ze(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},kU=.8908130915292852,Uk=Kt($i/10)/Kt(7*$i/10),MU=Kt(Pi/10)*Uk,DU=-Or(Pi/10)*Uk,Vk={draw(e,t){const n=ze(t*kU),r=MU*n,i=DU*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Pi*o/5,s=Or(a),l=Kt(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Up=ze(3),Bk={draw(e,t){const n=-ze(t/(Up*3));e.moveTo(0,n*2),e.lineTo(-Up*n,-n),e.lineTo(Up*n,-n),e.closePath()}},OU=ze(3),Yk={draw(e,t){const n=ze(t)*.6824,r=n/2,i=n*OU/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},yn=-.5,wn=ze(3)/2,kg=1/ze(12),PU=(kg/2+1)*3,zk={draw(e,t){const n=ze(t/PU),r=n/2,i=n*kg,o=r,a=n*kg+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(yn*r-wn*i,wn*r+yn*i),e.lineTo(yn*o-wn*a,wn*o+yn*a),e.lineTo(yn*s-wn*l,wn*s+yn*l),e.lineTo(yn*r+wn*i,yn*i-wn*r),e.lineTo(yn*o+wn*a,yn*a-wn*o),e.lineTo(yn*s+wn*l,yn*l-wn*s),e.closePath()}},Mg={draw(e,t){const n=ze(t-Sa(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},cS=[Gd,Ik,Ak,jk,Vk,Bk,zk],NU=[Gd,$k,Mg,Yk,Rk,Hk,Fk];function RU(e,t){let n=null,r=nu(i);e=typeof e=="function"?e:we(e||Gd),t=typeof t=="function"?t:we(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:we(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:we(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ji(){}function Pf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Kd(e){this._context=e}Kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IU(e){return new Kd(e)}function Wk(e){this._context=e}Wk.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LU(e){return new Wk(e)}function qk(e){this._context=e}qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AU(e){return new qk(e)}function Qk(e,t){this._basis=new Kd(e),this._beta=t}Qk.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*o),this._beta*t[s]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const FU=function e(t){function n(r){return t===1?new Kd(r):new Qk(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Nf(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Pv(e,t){this._context=e,this._k=(1-t)/6}Pv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Nf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $U=function e(t){function n(r){return new Pv(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Nv(e,t){this._context=e,this._k=(1-t)/6}Nv.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jU=function e(t){function n(r){return new Nv(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Rv(e,t){this._context=e,this._k=(1-t)/6}Rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const HU=function e(t){function n(r){return new Rv(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Iv(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Lt){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Lt){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Gk(e,t){this._context=e,this._alpha=t}Gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Iv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const UU=function e(t){function n(r){return t?new Gk(r,t):new Pv(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Kk(e,t){this._context=e,this._alpha=t}Kk.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Iv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const VU=function e(t){function n(r){return t?new Kk(r,t):new Nv(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Xk(e,t){this._context=e,this._alpha=t}Xk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Iv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const BU=function e(t){function n(r){return t?new Xk(r,t):new Rv(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Zk(e){this._context=e}Zk.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function YU(e){return new Zk(e)}function fS(e){return e<0?-1:1}function dS(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(fS(o)+fS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function hS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Vp(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Rf(e){this._context=e}Rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vp(this,this._t0,hS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vp(this,hS(this,n=dS(this,e,t)),n);break;default:Vp(this,this._t0,n=dS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Jk(e){this._context=new eM(e)}(Jk.prototype=Object.create(Rf.prototype)).point=function(e,t){Rf.prototype.point.call(this,t,e)};function eM(e){this._context=e}eM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function zU(e){return new Rf(e)}function WU(e){return new Jk(e)}function tM(e){this._context=e}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=pS(e),i=pS(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pS(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function qU(e){return new tM(e)}function Xd(e,t){this._context=e,this._t=t}Xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function QU(e){return new Xd(e,.5)}function GU(e){return new Xd(e,0)}function KU(e){return new Xd(e,1)}function Va(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ba(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function XU(e,t){return e[t]}function ZU(e){const t=[];return t.key=e,t}function JU(){var e=we([]),t=Ba,n=Va,r=XU;function i(o){var a=Array.from(e.apply(this,arguments),ZU),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=Wd(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:we(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:we(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Ba:typeof o=="function"?o:we(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Va,i):n},i}function eV(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Va(e,t)}}function tV(e,t){if((l=e.length)>0)for(var n,r=0,i,o,a,s,l,u=e[t[0]].length;r<u;++r)for(a=s=0,n=0;n<l;++n)(o=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function nV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Va(e,t)}}function rV(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],f=c[r][1]||0,d=c[r-1][1]||0,h=(f-d)/2,m=0;m<s;++m){var g=e[t[m]],v=g[r][1]||0,p=g[r-1][1]||0;h+=v-p}l+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Va(e,t)}}function nM(e){var t=e.map(iV);return Ba(e).sort(function(n,r){return t[n]-t[r]})}function iV(e){for(var t=-1,n=0,r=e.length,i,o=-1/0;++t<r;)(i=+e[t][1])>o&&(o=i,n=t);return n}function rM(e){var t=e.map(iM);return Ba(e).sort(function(n,r){return t[n]-t[r]})}function iM(e){for(var t=0,n=-1,r=e.length,i;++n<r;)(i=+e[n][1])&&(t+=i);return t}function oV(e){return rM(e).reverse()}function aV(e){var t=e.length,n,r,i=e.map(iM),o=nM(e),a=0,s=0,l=[],u=[];for(n=0;n<t;++n)r=o[n],a<s?(a+=i[r],l.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(l)}function sV(e){return Ba(e).reverse()}const lV=Object.freeze(Object.defineProperty({__proto__:null,arc:hU,area:kk,areaRadial:uS,curveBasis:IU,curveBasisClosed:LU,curveBasisOpen:AU,curveBumpX:Pk,curveBumpY:Nk,curveBundle:FU,curveCardinal:$U,curveCardinalClosed:jU,curveCardinalOpen:HU,curveCatmullRom:UU,curveCatmullRomClosed:VU,curveCatmullRomOpen:BU,curveLinear:qd,curveLinearClosed:YU,curveMonotoneX:zU,curveMonotoneY:WU,curveNatural:qU,curveStep:QU,curveStepAfter:KU,curveStepBefore:GU,line:Dv,lineRadial:lS,link:Qd,linkHorizontal:xU,linkRadial:EU,linkVertical:bU,pie:vU,pointRadial:zs,radialArea:uS,radialLine:lS,stack:JU,stackOffsetDiverging:tV,stackOffsetExpand:eV,stackOffsetNone:Va,stackOffsetSilhouette:nV,stackOffsetWiggle:rV,stackOrderAppearance:nM,stackOrderAscending:rM,stackOrderDescending:oV,stackOrderInsideOut:aV,stackOrderNone:Ba,stackOrderReverse:sV,symbol:RU,symbolAsterisk:Rk,symbolCircle:Gd,symbolCross:Ik,symbolDiamond:Ak,symbolDiamond2:Fk,symbolPlus:$k,symbolSquare:jk,symbolSquare2:Hk,symbolStar:Vk,symbolTimes:Mg,symbolTriangle:Bk,symbolTriangle2:Yk,symbolWye:zk,symbolX:Mg,symbols:cS,symbolsFill:cS,symbolsStroke:NU},Symbol.toStringTag,{value:"Module"})),Zd=ii(lV);function uV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function If(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ya(e){return e=If(Math.abs(e)),e?e[1]:NaN}function cV(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function fV(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var dV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function za(e){if(!(t=dV.exec(e)))throw new Error("invalid format: "+e);var t;return new Jd({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}za.prototype=Jd.prototype;function Jd(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hV(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var oM;function pV(e,t){var n=If(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(oM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+If(e,Math.max(0,t+o-1))[0]}function mS(e,t){var n=If(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mS(e*100,t),r:mS,s:pV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vS(e){return e}var yS=Array.prototype.map,wS=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function aM(e){var t=e.grouping===void 0||e.thousands===void 0?vS:cV(yS.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?vS:fV(yS.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=za(f);var d=f.fill,h=f.align,m=f.sign,g=f.symbol,v=f.zero,p=f.width,w=f.comma,y=f.precision,x=f.trim,E=f.type;E==="n"?(w=!0,E="g"):gS[E]||(y===void 0&&(y=12),x=!0,E="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var b=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",C=g==="$"?r:/[%p]/.test(E)?a:"",k=gS[E],N=/[defgprs%]/.test(E);y=y===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(O){var V=b,I=C,T,P,D;if(E==="c")I=k(O)+I,O="";else{O=+O;var $=O<0||1/O<0;if(O=isNaN(O)?l:k(Math.abs(O),y),x&&(O=hV(O)),$&&+O==0&&m!=="+"&&($=!1),V=($?m==="("?m:s:m==="-"||m==="("?"":m)+V,I=(E==="s"?wS[8+oM/3]:"")+I+($&&m==="("?")":""),N){for(T=-1,P=O.length;++T<P;)if(D=O.charCodeAt(T),48>D||D>57){I=(D===46?i+O.slice(T+1):O.slice(T))+I,O=O.slice(0,T);break}}}w&&!v&&(O=t(O,1/0));var M=V.length+O.length+I.length,F=M<p?new Array(p-M+1).join(d):"";switch(w&&v&&(O=t(F+O,F.length?p-I.length:1/0),F=""),h){case"<":O=V+O+I+F;break;case"=":O=V+F+O+I;break;case"^":O=F.slice(0,M=F.length>>1)+V+O+I+F.slice(M);break;default:O=F+V+O+I;break}return o(O)}return A.toString=function(){return f+""},A}function c(f,d){var h=u((f=za(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Ya(d)/3)))*3,g=Math.pow(10,-m),v=wS[8+m/3];return function(p){return h(g*p)+v}}return{format:u,formatPrefix:c}}var Bu,eh,Lv;sM({thousands:",",grouping:[3],currency:["$",""]});function sM(e){return Bu=aM(e),eh=Bu.format,Lv=Bu.formatPrefix,Bu}function lM(e){return Math.max(0,-Ya(Math.abs(e)))}function uM(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ya(t)/3)))*3-Ya(Math.abs(e)))}function cM(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ya(t)-Ya(e))+1}const mV=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:Jd,get format(){return eh},formatDefaultLocale:sM,formatLocale:aM,get formatPrefix(){return Lv},formatSpecifier:za,precisionFixed:lM,precisionPrefix:uM,precisionRound:cM},Symbol.toStringTag,{value:"Module"})),gV=ii(mV);function Ni(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Av(e){let t,n,r;e.length!==2?(t=Ni,n=(s,l)=>Ni(e(s),l),r=(s,l)=>e(s)-l):(t=e===Ni||e===vV?e:yV,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function yV(){return 0}function fM(e){return e===null?NaN:+e}function*wV(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const _V=Av(Ni),ru=_V.right;Av(fM).center;class _S extends Map{constructor(t,n=bV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(SS(this,t))}has(t){return super.has(SS(this,t))}set(t,n){return super.set(SV(this,t),n)}delete(t){return super.delete(xV(this,t))}}function SS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function SV({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function xV({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function bV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function EV(e=Ni){if(e===Ni)return dM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function dM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CV=Math.sqrt(50),TV=Math.sqrt(10),kV=Math.sqrt(2);function Lf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=CV?10:o>=TV?5:o>=kV?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?Lf(e,t,n*2):[s,l,u]}function Dg(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Lf(t,e,n):Lf(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Og(e,t,n){return t=+t,e=+e,n=+n,Lf(e,t,n)[2]}function Pg(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Og(t,e,n):Og(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function xS(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function bS(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?dM:EV(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/l+d)),m=Math.min(r,Math.floor(t+(l-u)*f/l+d));hM(e,t,h,m,i)}const o=e[t];let a=n,s=r;for(Ms(e,n,t),i(e[r],o)>0&&Ms(e,n,r);a<s;){for(Ms(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Ms(e,n,s):(++s,Ms(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Ms(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function MV(e,t,n){if(e=Float64Array.from(wV(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return bS(e);if(t>=1)return xS(e);var r,i=(r-1)*t,o=Math.floor(i),a=xS(hM(e,o).subarray(0,o+1)),s=bS(e.subarray(o+1));return a+(s-a)*(i-o)}}function DV(e,t,n=fM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function OV(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function si(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ng=Symbol("implicit");function Fv(){var e=new _S,t=[],n=[],r=Ng;function i(o){let a=e.get(o);if(a===void 0){if(r!==Ng)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new _S;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Fv(t,n).unknown(r)},Fn.apply(i,arguments),i}function $v(){var e=Fv().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,m=h?i:r,g=h?r:i;o=(g-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var v=OV(d).map(function(p){return m+o*p});return n(h?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return $v(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Fn.apply(f(),arguments)}function pM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pM(t())},e}function PV(){return pM($v.apply(null,arguments).paddingInner(1))}function ss(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function iu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zi(){}var ko=.7,Wa=1/ko,xa="\\s*([+-]?\\d+)\\s*",Rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NV=/^#([0-9a-f]{3,8})$/,RV=new RegExp(`^rgb\\(${xa},${xa},${xa}\\)$`),IV=new RegExp(`^rgb\\(${vr},${vr},${vr}\\)$`),LV=new RegExp(`^rgba\\(${xa},${xa},${xa},${Rl}\\)$`),AV=new RegExp(`^rgba\\(${vr},${vr},${vr},${Rl}\\)$`),FV=new RegExp(`^hsl\\(${Rl},${vr},${vr}\\)$`),$V=new RegExp(`^hsla\\(${Rl},${vr},${vr},${Rl}\\)$`),ES={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ss(zi,Hi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CS,formatHex:CS,formatHex8:jV,formatHsl:HV,formatRgb:TS,toString:TS});function CS(){return this.rgb().formatHex()}function jV(){return this.rgb().formatHex8()}function HV(){return mM(this).formatHsl()}function TS(){return this.rgb().formatRgb()}function Hi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=NV.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kS(t):n===3?new wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RV.exec(e))?new wt(t[1],t[2],t[3],1):(t=IV.exec(e))?new wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=LV.exec(e))?Yu(t[1],t[2],t[3],t[4]):(t=AV.exec(e))?Yu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FV.exec(e))?OS(t[1],t[2]/100,t[3]/100,1):(t=$V.exec(e))?OS(t[1],t[2]/100,t[3]/100,t[4]):ES.hasOwnProperty(e)?kS(ES[e]):e==="transparent"?new wt(NaN,NaN,NaN,0):null}function kS(e){return new wt(e>>16&255,e>>8&255,e&255,1)}function Yu(e,t,n,r){return r<=0&&(e=t=n=NaN),new wt(e,t,n,r)}function jv(e){return e instanceof zi||(e=Hi(e)),e?(e=e.rgb(),new wt(e.r,e.g,e.b,e.opacity)):new wt}function Il(e,t,n,r){return arguments.length===1?jv(e):new wt(e,t,n,r??1)}function wt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ss(wt,Il,iu(zi,{brighter(e){return e=e==null?Wa:Math.pow(Wa,e),new wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wt(po(this.r),po(this.g),po(this.b),Af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MS,formatHex:MS,formatHex8:UV,formatRgb:DS,toString:DS}));function MS(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}`}function UV(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}${oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function DS(){const e=Af(this.opacity);return`${e===1?"rgb(":"rgba("}${po(this.r)}, ${po(this.g)}, ${po(this.b)}${e===1?")":`, ${e})`}`}function Af(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function po(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oo(e){return e=po(e),(e<16?"0":"")+e.toString(16)}function OS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bn(e,t,n,r)}function mM(e){if(e instanceof Bn)return new Bn(e.h,e.s,e.l,e.opacity);if(e instanceof zi||(e=Hi(e)),!e)return new Bn;if(e instanceof Bn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Bn(a,s,l,e.opacity)}function Ff(e,t,n,r){return arguments.length===1?mM(e):new Bn(e,t,n,r??1)}function Bn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ss(Bn,Ff,iu(zi,{brighter(e){return e=e==null?Wa:Math.pow(Wa,e),new Bn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new Bn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wt(Bp(e>=240?e-240:e+120,i,r),Bp(e,i,r),Bp(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Bn(PS(this.h),zu(this.s),zu(this.l),Af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Af(this.opacity);return`${e===1?"hsl(":"hsla("}${PS(this.h)}, ${zu(this.s)*100}%, ${zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function PS(e){return e=(e||0)%360,e<0?e+360:e}function zu(e){return Math.max(0,Math.min(1,e||0))}function Bp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gM=Math.PI/180,vM=180/Math.PI,$f=18,yM=.96422,wM=1,_M=.82521,SM=4/29,ba=6/29,xM=3*ba*ba,VV=ba*ba*ba;function bM(e){if(e instanceof Wn)return new Wn(e.l,e.a,e.b,e.opacity);if(e instanceof ur)return CM(e);e instanceof wt||(e=jv(e));var t=qp(e.r),n=qp(e.g),r=qp(e.b),i=Yp((.2225045*t+.7168786*n+.0606169*r)/wM),o,a;return t===n&&n===r?o=a=i:(o=Yp((.4360747*t+.3850649*n+.1430804*r)/yM),a=Yp((.0139322*t+.0971045*n+.7141733*r)/_M)),new Wn(116*i-16,500*(o-i),200*(i-a),e.opacity)}function BV(e,t){return new Wn(e,0,0,t??1)}function jf(e,t,n,r){return arguments.length===1?bM(e):new Wn(e,t,n,r??1)}function Wn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}ss(Wn,jf,iu(zi,{brighter(e){return new Wn(this.l+$f*(e??1),this.a,this.b,this.opacity)},darker(e){return new Wn(this.l-$f*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=yM*zp(t),e=wM*zp(e),n=_M*zp(n),new wt(Wp(3.1338561*t-1.6168667*e-.4906146*n),Wp(-.9787684*t+1.9161415*e+.033454*n),Wp(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Yp(e){return e>VV?Math.pow(e,1/3):e/xM+SM}function zp(e){return e>ba?e*e*e:xM*(e-SM)}function Wp(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function qp(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function EM(e){if(e instanceof ur)return new ur(e.h,e.c,e.l,e.opacity);if(e instanceof Wn||(e=bM(e)),e.a===0&&e.b===0)return new ur(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*vM;return new ur(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function YV(e,t,n,r){return arguments.length===1?EM(e):new ur(n,t,e,r??1)}function Hf(e,t,n,r){return arguments.length===1?EM(e):new ur(e,t,n,r??1)}function ur(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function CM(e){if(isNaN(e.h))return new Wn(e.l,0,0,e.opacity);var t=e.h*gM;return new Wn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ss(ur,Hf,iu(zi,{brighter(e){return new ur(this.h,this.c,this.l+$f*(e??1),this.opacity)},darker(e){return new ur(this.h,this.c,this.l-$f*(e??1),this.opacity)},rgb(){return CM(this).rgb()}}));var TM=-.14861,Hv=1.78277,Uv=-.29227,th=-.90649,Ll=1.97294,NS=Ll*th,RS=Ll*Hv,IS=Hv*Uv-th*TM;function zV(e){if(e instanceof mo)return new mo(e.h,e.s,e.l,e.opacity);e instanceof wt||(e=jv(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(IS*r+NS*t-RS*n)/(IS+NS-RS),o=r-i,a=(Ll*(n-i)-Uv*o)/th,s=Math.sqrt(a*a+o*o)/(Ll*i*(1-i)),l=s?Math.atan2(a,o)*vM-120:NaN;return new mo(l<0?l+360:l,s,i,e.opacity)}function Uf(e,t,n,r){return arguments.length===1?zV(e):new mo(e,t,n,r??1)}function mo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ss(mo,Uf,iu(zi,{brighter(e){return e=e==null?Wa:Math.pow(Wa,e),new mo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new mo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*gM,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new wt(255*(t+n*(TM*r+Hv*i)),255*(t+n*(Uv*r+th*i)),255*(t+n*(Ll*r)),this.opacity)}}));const WV=Object.freeze(Object.defineProperty({__proto__:null,color:Hi,cubehelix:Uf,gray:BV,hcl:Hf,hsl:Ff,lab:jf,lch:YV,rgb:Il},Symbol.toStringTag,{value:"Module"}));function kM(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function MM(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return kM((n-r/t)*t,a,i,o,s)}}function DM(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return kM((n-r/t)*t,i,o,a,s)}}const nh=e=>()=>e;function OM(e,t){return function(n){return e+n*t}}function qV(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function rh(e,t){var n=t-e;return n?OM(e,n>180||n<-180?n-360*Math.round(n/360):n):nh(isNaN(e)?t:e)}function QV(e){return(e=+e)==1?_t:function(t,n){return n-t?qV(t,n,e):nh(isNaN(t)?n:t)}}function _t(e,t){var n=t-e;return n?OM(e,n):nh(isNaN(e)?t:e)}const Al=function e(t){var n=QV(t);function r(i,o){var a=n((i=Il(i)).r,(o=Il(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=_t(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function PM(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Il(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=o(l),s+""}}}var GV=PM(MM),KV=PM(DM);function Vv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function NM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XV(e,t){return(NM(t)?Vv:RM)(e,t)}function RM(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=$o(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function IM(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Tn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function LM(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=$o(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Rg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qp=new RegExp(Rg.source,"g");function ZV(e){return function(){return e}}function JV(e){return function(t){return e(t)+""}}function Bv(e,t){var n=Rg.lastIndex=Qp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Rg.exec(e))&&(i=Qp.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Tn(r,i)})),n=Qp.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?JV(l[0].x):ZV(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function $o(e,t){var n=typeof t,r;return t==null||n==="boolean"?nh(t):(n==="number"?Tn:n==="string"?(r=Hi(t))?(t=r,Al):Bv:t instanceof Hi?Al:t instanceof Date?IM:NM(t)?Vv:Array.isArray(t)?RM:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LM:Tn)(e,t)}function eB(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function tB(e,t){var n=rh(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ih(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var LS=180/Math.PI,Ig={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AM(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*LS,skewX:Math.atan(l)*LS,scaleX:a,scaleY:s}}var Wu;function nB(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ig:AM(t.a,t.b,t.c,t.d,t.e,t.f)}function rB(e){return e==null||(Wu||(Wu=document.createElementNS("http://www.w3.org/2000/svg","g")),Wu.setAttribute("transform",e),!(e=Wu.transform.baseVal.consolidate()))?Ig:(e=e.matrix,AM(e.a,e.b,e.c,e.d,e.e,e.f))}function FM(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,m){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);m.push({i:g-4,x:Tn(u,f)},{i:g-2,x:Tn(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Tn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Tn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,m){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");m.push({i:g-4,x:Tn(u,f)},{i:g-2,x:Tn(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var m=-1,g=d.length,v;++m<g;)f[(v=d[m]).i]=v.x(h);return f.join("")}}}var $M=FM(nB,"px, ","px)","deg)"),jM=FM(rB,", ",")",")"),iB=1e-12;function AS(e){return((e=Math.exp(e))+1/e)/2}function oB(e){return((e=Math.exp(e))-1/e)/2}function aB(e){return((e=Math.exp(2*e))-1)/(e+1)}const HM=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],d=a[2],h=c-s,m=f-l,g=h*h+m*m,v,p;if(g<iB)p=Math.log(d/u)/t,v=function(C){return[s+C*h,l+C*m,u*Math.exp(t*C*p)]};else{var w=Math.sqrt(g),y=(d*d-u*u+r*g)/(2*u*n*w),x=(d*d-u*u-r*g)/(2*d*n*w),E=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(x*x+1)-x);p=(b-E)/t,v=function(C){var k=C*p,N=AS(E),A=u/(n*w)*(N*aB(t*k+E)-oB(E));return[s+A*h,l+A*m,u*N/AS(t*k+E)]}}return v.duration=p*1e3*t/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);function UM(e){return function(t,n){var r=e((t=Ff(t)).h,(n=Ff(n)).h),i=_t(t.s,n.s),o=_t(t.l,n.l),a=_t(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const sB=UM(rh);var lB=UM(_t);function uB(e,t){var n=_t((e=jf(e)).l,(t=jf(t)).l),r=_t(e.a,t.a),i=_t(e.b,t.b),o=_t(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function VM(e){return function(t,n){var r=e((t=Hf(t)).h,(n=Hf(n)).h),i=_t(t.c,n.c),o=_t(t.l,n.l),a=_t(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const cB=VM(rh);var fB=VM(_t);function BM(e){return function t(n){n=+n;function r(i,o){var a=e((i=Uf(i)).h,(o=Uf(o)).h),s=_t(i.s,o.s),l=_t(i.l,o.l),u=_t(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=s(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const dB=BM(rh);var hB=BM(_t);function YM(e,t){t===void 0&&(t=e,e=$o);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function pB(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const mB=Object.freeze(Object.defineProperty({__proto__:null,interpolate:$o,interpolateArray:XV,interpolateBasis:MM,interpolateBasisClosed:DM,interpolateCubehelix:dB,interpolateCubehelixLong:hB,interpolateDate:IM,interpolateDiscrete:eB,interpolateHcl:cB,interpolateHclLong:fB,interpolateHsl:sB,interpolateHslLong:lB,interpolateHue:tB,interpolateLab:uB,interpolateNumber:Tn,interpolateNumberArray:Vv,interpolateObject:LM,interpolateRgb:Al,interpolateRgbBasis:GV,interpolateRgbBasisClosed:KV,interpolateRound:ih,interpolateString:Bv,interpolateTransformCss:$M,interpolateTransformSvg:jM,interpolateZoom:HM,piecewise:YM,quantize:pB},Symbol.toStringTag,{value:"Module"}));function gB(e){return function(){return e}}function Vf(e){return+e}var FS=[0,1];function zt(e){return e}function Lg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gB(isNaN(t)?NaN:.5)}function vB(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function yB(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Lg(i,r),o=n(a,o)):(r=Lg(r,i),o=n(o,a)),function(s){return o(r(s))}}function wB(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Lg(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=ru(e,s,1,r)-1;return o[l](i[l](s))}}function ou(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function oh(){var e=FS,t=FS,n=$o,r,i,o,a=zt,s,l,u;function c(){var d=Math.min(e.length,t.length);return a!==zt&&(a=vB(e[0],e[d-1])),s=d>2?wB:yB,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(e.map(r),t,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(t,e.map(r),Tn)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Vf),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=ih,c()},f.clamp=function(d){return arguments.length?(a=d?!0:zt,c()):a!==zt},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function Yv(){return oh()(zt,zt)}function zM(e,t,n,r){var i=Pg(e,t,n),o;switch(r=za(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=uM(i,a))&&(r.precision=o),Lv(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=cM(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lM(i))&&(r.precision=o-(r.type==="%")*2);break}}return eh(r)}function Wi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Dg(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return zM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Og(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function WM(){var e=Yv();return e.copy=function(){return ou(e,WM())},Fn.apply(e,arguments),Wi(e)}function qM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Vf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return qM(e).unknown(t)},e=arguments.length?Array.from(e,Vf):[0,1],Wi(n)}function QM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function $S(e){return Math.log(e)}function jS(e){return Math.exp(e)}function _B(e){return-Math.log(-e)}function SB(e){return-Math.exp(-e)}function xB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bB(e){return e===10?xB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function EB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function HS(e){return(t,n)=>-e(-t,n)}function zv(e){const t=e($S,jS),n=t.domain;let r=10,i,o;function a(){return i=EB(r),o=bB(r),n()[0]<0?(i=HS(i),o=HS(o),e(_B,SB)):e($S,jS),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),m,g;const v=s==null?10:+s;let p=[];if(!(r%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;p.push(g)}}else for(;d<=h;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;p.push(g)}p.length*2<v&&(p=Dg(u,c,v))}else p=Dg(d,h,Math.min(h-d,v)).map(o);return f?p.reverse():p},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=za(l)).precision==null&&(l.trim=!0),l=eh(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(QM(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function GM(){const e=zv(oh()).domain([1,10]);return e.copy=()=>ou(e,GM()).base(e.base()),Fn.apply(e,arguments),e}function US(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function VS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wv(e){var t=1,n=e(US(t),VS(t));return n.constant=function(r){return arguments.length?e(US(t=+r),VS(t)):t},Wi(n)}function KM(){var e=Wv(oh());return e.copy=function(){return ou(e,KM()).constant(e.constant())},Fn.apply(e,arguments)}function BS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function CB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TB(e){return e<0?-e*e:e*e}function qv(e){var t=e(zt,zt),n=1;function r(){return n===1?e(zt,zt):n===.5?e(CB,TB):e(BS(n),BS(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Wi(t)}function Qv(){var e=qv(oh());return e.copy=function(){return ou(e,Qv()).exponent(e.exponent())},Fn.apply(e,arguments),e}function kB(){return Qv.apply(null,arguments).exponent(.5)}function YS(e){return Math.sign(e)*e*e}function MB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XM(){var e=Yv(),t=[0,1],n=!1,r;function i(o){var a=MB(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(YS(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Vf)).map(YS)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return XM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Fn.apply(i,arguments),Wi(i)}function ZM(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=DV(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[ru(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ni),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return ZM().domain(e).range(t).unknown(r)},Fn.apply(o,arguments)}function JM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[ru(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return JM().domain([e,t]).range(i).unknown(o)},Fn.apply(Wi(a),arguments)}function eD(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[ru(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return eD().domain(e).range(t).unknown(n)},Fn.apply(i,arguments)}const Gp=new Date,Kp=new Date;function ht(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>ht(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Gp.setTime(+o),Kp.setTime(+a),e(Gp),e(Kp),Math.floor(n(Gp,Kp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Bf=ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Bf);Bf.range;const $r=1e3,Dn=$r*60,jr=Dn*60,ei=jr*24,Gv=ei*7,zS=ei*30,Xp=ei*365,ao=ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getUTCSeconds());ao.range;const Kv=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$r)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getMinutes());Kv.range;const Xv=ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCMinutes());Xv.range;const Zv=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$r-e.getMinutes()*Dn)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getHours());Zv.range;const Jv=ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getUTCHours());Jv.range;const au=ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/ei,e=>e.getDate()-1);au.range;const ah=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ei,e=>e.getUTCDate()-1);ah.range;const tD=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ei,e=>Math.floor(e/ei));tD.range;function jo(e){return ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/Gv)}const sh=jo(0),Yf=jo(1),DB=jo(2),OB=jo(3),qa=jo(4),PB=jo(5),NB=jo(6);sh.range;Yf.range;DB.range;OB.range;qa.range;PB.range;NB.range;function Ho(e){return ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Gv)}const lh=Ho(0),zf=Ho(1),RB=Ho(2),IB=Ho(3),Qa=Ho(4),LB=Ho(5),AB=Ho(6);lh.range;zf.range;RB.range;IB.range;Qa.range;LB.range;AB.range;const ey=ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ey.range;const ty=ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ty.range;const ti=ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ti.range;const ni=ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ni.range;function nD(e,t,n,r,i,o){const a=[[ao,1,$r],[ao,5,5*$r],[ao,15,15*$r],[ao,30,30*$r],[o,1,Dn],[o,5,5*Dn],[o,15,15*Dn],[o,30,30*Dn],[i,1,jr],[i,3,3*jr],[i,6,6*jr],[i,12,12*jr],[r,1,ei],[r,2,2*ei],[n,1,Gv],[t,1,zS],[t,3,3*zS],[e,1,Xp]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),m=h?h.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,h=Av(([,,v])=>v).right(a,d);if(h===a.length)return e.every(Pg(u/Xp,c/Xp,f));if(h===0)return Bf.every(Math.max(Pg(u,c,f),1));const[m,g]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return m.every(g)}return[s,l]}const[FB,$B]=nD(ni,ty,lh,tD,Jv,Xv),[jB,HB]=nD(ti,ey,sh,au,Zv,Kv);function Zp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ds(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function UB(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Os(i),c=Ps(i),f=Os(o),d=Ps(o),h=Os(a),m=Ps(a),g=Os(s),v=Ps(s),p=Os(l),w=Ps(l),y={a:$,A:M,b:F,B,c:null,d:XS,e:XS,f:cY,g:_Y,G:xY,H:sY,I:lY,j:uY,L:rD,m:fY,M:dY,p:q,q:G,Q:ex,s:tx,S:hY,u:pY,U:mY,V:gY,w:vY,W:yY,x:null,X:null,y:wY,Y:SY,Z:bY,"%":JS},x={a:me,A:ce,b:ne,B:ge,c:null,d:ZS,e:ZS,f:kY,g:FY,G:jY,H:EY,I:CY,j:TY,L:oD,m:MY,M:DY,p:z,q:re,Q:ex,s:tx,S:OY,u:PY,U:NY,V:RY,w:IY,W:LY,x:null,X:null,y:AY,Y:$Y,Z:HY,"%":JS},E={a:A,A:O,b:V,B:I,c:T,d:GS,e:GS,f:rY,g:QS,G:qS,H:KS,I:KS,j:JB,L:nY,m:ZB,M:eY,p:N,q:XB,Q:oY,s:aY,S:tY,u:WB,U:qB,V:QB,w:zB,W:GB,x:P,X:D,y:QS,Y:qS,Z:KB,"%":iY};y.x=b(n,y),y.X=b(r,y),y.c=b(t,y),x.x=b(n,x),x.X=b(r,x),x.c=b(t,x);function b(L,Q){return function(de){var Y=[],le=-1,j=0,X=L.length,he,ve,Ht;for(de instanceof Date||(de=new Date(+de));++le<X;)L.charCodeAt(le)===37&&(Y.push(L.slice(j,le)),(ve=WS[he=L.charAt(++le)])!=null?he=L.charAt(++le):ve=he==="e"?" ":"0",(Ht=Q[he])&&(he=Ht(de,ve)),Y.push(he),j=le+1);return Y.push(L.slice(j,le)),Y.join("")}}function C(L,Q){return function(de){var Y=Ds(1900,void 0,1),le=k(Y,L,de+="",0),j,X;if(le!=de.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Q&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(j=Jp(Ds(Y.y,0,1)),X=j.getUTCDay(),j=X>4||X===0?zf.ceil(j):zf(j),j=ah.offset(j,(Y.V-1)*7),Y.y=j.getUTCFullYear(),Y.m=j.getUTCMonth(),Y.d=j.getUTCDate()+(Y.w+6)%7):(j=Zp(Ds(Y.y,0,1)),X=j.getDay(),j=X>4||X===0?Yf.ceil(j):Yf(j),j=au.offset(j,(Y.V-1)*7),Y.y=j.getFullYear(),Y.m=j.getMonth(),Y.d=j.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),X="Z"in Y?Jp(Ds(Y.y,0,1)).getUTCDay():Zp(Ds(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(X+5)%7:Y.w+Y.U*7-(X+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Jp(Y)):Zp(Y)}}function k(L,Q,de,Y){for(var le=0,j=Q.length,X=de.length,he,ve;le<j;){if(Y>=X)return-1;if(he=Q.charCodeAt(le++),he===37){if(he=Q.charAt(le++),ve=E[he in WS?Q.charAt(le++):he],!ve||(Y=ve(L,de,Y))<0)return-1}else if(he!=de.charCodeAt(Y++))return-1}return Y}function N(L,Q,de){var Y=u.exec(Q.slice(de));return Y?(L.p=c.get(Y[0].toLowerCase()),de+Y[0].length):-1}function A(L,Q,de){var Y=h.exec(Q.slice(de));return Y?(L.w=m.get(Y[0].toLowerCase()),de+Y[0].length):-1}function O(L,Q,de){var Y=f.exec(Q.slice(de));return Y?(L.w=d.get(Y[0].toLowerCase()),de+Y[0].length):-1}function V(L,Q,de){var Y=p.exec(Q.slice(de));return Y?(L.m=w.get(Y[0].toLowerCase()),de+Y[0].length):-1}function I(L,Q,de){var Y=g.exec(Q.slice(de));return Y?(L.m=v.get(Y[0].toLowerCase()),de+Y[0].length):-1}function T(L,Q,de){return k(L,t,Q,de)}function P(L,Q,de){return k(L,n,Q,de)}function D(L,Q,de){return k(L,r,Q,de)}function $(L){return a[L.getDay()]}function M(L){return o[L.getDay()]}function F(L){return l[L.getMonth()]}function B(L){return s[L.getMonth()]}function q(L){return i[+(L.getHours()>=12)]}function G(L){return 1+~~(L.getMonth()/3)}function me(L){return a[L.getUTCDay()]}function ce(L){return o[L.getUTCDay()]}function ne(L){return l[L.getUTCMonth()]}function ge(L){return s[L.getUTCMonth()]}function z(L){return i[+(L.getUTCHours()>=12)]}function re(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var Q=b(L+="",y);return Q.toString=function(){return L},Q},parse:function(L){var Q=C(L+="",!1);return Q.toString=function(){return L},Q},utcFormat:function(L){var Q=b(L+="",x);return Q.toString=function(){return L},Q},utcParse:function(L){var Q=C(L+="",!0);return Q.toString=function(){return L},Q}}}var WS={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,VB=/^%/,BB=/[\\^$*+?|[\]().{}]/g;function Oe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function YB(e){return e.replace(BB,"\\$&")}function Os(e){return new RegExp("^(?:"+e.map(YB).join("|")+")","i")}function Ps(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function zB(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function WB(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function qB(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function QB(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function GB(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function qS(e,t,n){var r=Ct.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function QS(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KB(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function XB(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ZB(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function GS(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function JB(e,t,n){var r=Ct.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function KS(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function eY(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tY(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function nY(e,t,n){var r=Ct.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function rY(e,t,n){var r=Ct.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iY(e,t,n){var r=VB.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function oY(e,t,n){var r=Ct.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function aY(e,t,n){var r=Ct.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function XS(e,t){return Oe(e.getDate(),t,2)}function sY(e,t){return Oe(e.getHours(),t,2)}function lY(e,t){return Oe(e.getHours()%12||12,t,2)}function uY(e,t){return Oe(1+au.count(ti(e),e),t,3)}function rD(e,t){return Oe(e.getMilliseconds(),t,3)}function cY(e,t){return rD(e,t)+"000"}function fY(e,t){return Oe(e.getMonth()+1,t,2)}function dY(e,t){return Oe(e.getMinutes(),t,2)}function hY(e,t){return Oe(e.getSeconds(),t,2)}function pY(e){var t=e.getDay();return t===0?7:t}function mY(e,t){return Oe(sh.count(ti(e)-1,e),t,2)}function iD(e){var t=e.getDay();return t>=4||t===0?qa(e):qa.ceil(e)}function gY(e,t){return e=iD(e),Oe(qa.count(ti(e),e)+(ti(e).getDay()===4),t,2)}function vY(e){return e.getDay()}function yY(e,t){return Oe(Yf.count(ti(e)-1,e),t,2)}function wY(e,t){return Oe(e.getFullYear()%100,t,2)}function _Y(e,t){return e=iD(e),Oe(e.getFullYear()%100,t,2)}function SY(e,t){return Oe(e.getFullYear()%1e4,t,4)}function xY(e,t){var n=e.getDay();return e=n>=4||n===0?qa(e):qa.ceil(e),Oe(e.getFullYear()%1e4,t,4)}function bY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oe(t/60|0,"0",2)+Oe(t%60,"0",2)}function ZS(e,t){return Oe(e.getUTCDate(),t,2)}function EY(e,t){return Oe(e.getUTCHours(),t,2)}function CY(e,t){return Oe(e.getUTCHours()%12||12,t,2)}function TY(e,t){return Oe(1+ah.count(ni(e),e),t,3)}function oD(e,t){return Oe(e.getUTCMilliseconds(),t,3)}function kY(e,t){return oD(e,t)+"000"}function MY(e,t){return Oe(e.getUTCMonth()+1,t,2)}function DY(e,t){return Oe(e.getUTCMinutes(),t,2)}function OY(e,t){return Oe(e.getUTCSeconds(),t,2)}function PY(e){var t=e.getUTCDay();return t===0?7:t}function NY(e,t){return Oe(lh.count(ni(e)-1,e),t,2)}function aD(e){var t=e.getUTCDay();return t>=4||t===0?Qa(e):Qa.ceil(e)}function RY(e,t){return e=aD(e),Oe(Qa.count(ni(e),e)+(ni(e).getUTCDay()===4),t,2)}function IY(e){return e.getUTCDay()}function LY(e,t){return Oe(zf.count(ni(e)-1,e),t,2)}function AY(e,t){return Oe(e.getUTCFullYear()%100,t,2)}function FY(e,t){return e=aD(e),Oe(e.getUTCFullYear()%100,t,2)}function $Y(e,t){return Oe(e.getUTCFullYear()%1e4,t,4)}function jY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Qa(e):Qa.ceil(e),Oe(e.getUTCFullYear()%1e4,t,4)}function HY(){return"+0000"}function JS(){return"%"}function ex(e){return+e}function tx(e){return Math.floor(+e/1e3)}var Wo,sD,lD;UY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UY(e){return Wo=UB(e),sD=Wo.format,Wo.parse,lD=Wo.utcFormat,Wo.utcParse,Wo}function VY(e){return new Date(e)}function BY(e){return e instanceof Date?+e:+new Date(+e)}function ny(e,t,n,r,i,o,a,s,l,u){var c=Yv(),f=c.invert,d=c.domain,h=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),p=u("%a %d"),w=u("%b %d"),y=u("%B"),x=u("%Y");function E(b){return(l(b)<b?h:s(b)<b?m:a(b)<b?g:o(b)<b?v:r(b)<b?i(b)<b?p:w:n(b)<b?y:x)(b)}return c.invert=function(b){return new Date(f(b))},c.domain=function(b){return arguments.length?d(Array.from(b,BY)):d().map(VY)},c.ticks=function(b){var C=d();return e(C[0],C[C.length-1],b??10)},c.tickFormat=function(b,C){return C==null?E:u(C)},c.nice=function(b){var C=d();return(!b||typeof b.range!="function")&&(b=t(C[0],C[C.length-1],b??10)),b?d(QM(C,b)):c},c.copy=function(){return ou(c,ny(e,t,n,r,i,o,a,s,l,u))},c}function YY(){return Fn.apply(ny(jB,HB,ti,ey,sh,au,Zv,Kv,ao,sD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zY(){return Fn.apply(ny(FB,$B,ni,ty,lh,ah,Jv,Xv,ao,lD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uh(){var e=0,t=1,n,r,i,o,a=zt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var h,m;return arguments.length?([h,m]=d,a=f(h,m),u):[a(0),a(1)]}}return u.range=c($o),u.rangeRound=c(ih),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uD(){var e=Wi(uh()(zt));return e.copy=function(){return qi(e,uD())},si.apply(e,arguments)}function cD(){var e=zv(uh()).domain([1,10]);return e.copy=function(){return qi(e,cD()).base(e.base())},si.apply(e,arguments)}function fD(){var e=Wv(uh());return e.copy=function(){return qi(e,fD()).constant(e.constant())},si.apply(e,arguments)}function ry(){var e=qv(uh());return e.copy=function(){return qi(e,ry()).exponent(e.exponent())},si.apply(e,arguments)}function WY(){return ry.apply(null,arguments).exponent(.5)}function dD(){var e=[],t=zt;function n(r){if(r!=null&&!isNaN(r=+r))return t((ru(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ni),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>MV(e,o/r))},n.copy=function(){return dD(t).domain(e)},si.apply(n,arguments)}function ch(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=zt,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function m(g){return function(v){var p,w,y;return arguments.length?([p,w,y]=v,u=YM(g,[p,w,y]),h):[u(0),u(.5),u(1)]}}return h.range=m($o),h.rangeRound=m(ih),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,i=g(e),o=g(t),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function hD(){var e=Wi(ch()(zt));return e.copy=function(){return qi(e,hD())},si.apply(e,arguments)}function pD(){var e=zv(ch()).domain([.1,1,10]);return e.copy=function(){return qi(e,pD()).base(e.base())},si.apply(e,arguments)}function mD(){var e=Wv(ch());return e.copy=function(){return qi(e,mD()).constant(e.constant())},si.apply(e,arguments)}function iy(){var e=qv(ch());return e.copy=function(){return qi(e,iy()).exponent(e.exponent())},si.apply(e,arguments)}function qY(){return iy.apply(null,arguments).exponent(.5)}const QY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$v,scaleDiverging:hD,scaleDivergingLog:pD,scaleDivergingPow:iy,scaleDivergingSqrt:qY,scaleDivergingSymlog:mD,scaleIdentity:qM,scaleImplicit:Ng,scaleLinear:WM,scaleLog:GM,scaleOrdinal:Fv,scalePoint:PV,scalePow:Qv,scaleQuantile:ZM,scaleQuantize:JM,scaleRadial:XM,scaleSequential:uD,scaleSequentialLog:cD,scaleSequentialPow:ry,scaleSequentialQuantile:dD,scaleSequentialSqrt:WY,scaleSequentialSymlog:fD,scaleSqrt:kB,scaleSymlog:KM,scaleThreshold:eD,scaleTime:YY,scaleUtc:zY,tickFormat:zM},Symbol.toStringTag,{value:"Module"})),GY=ii(QY);function KY(e){return e}var Ec=1,Cc=2,Ag=3,Ws=4,nx=1e-6;function XY(e){return"translate("+e+",0)"}function ZY(e){return"translate(0,"+e+")"}function JY(e){return t=>+e(t)}function ez(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function tz(){return!this.__axis}function fh(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Ec||e===Ws?-1:1,c=e===Ws||e===Cc?"x":"y",f=e===Ec||e===Ag?XY:ZY;function d(h){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):KY),v=Math.max(o,0)+s,p=t.range(),w=+p[0]+l,y=+p[p.length-1]+l,x=(t.bandwidth?ez:JY)(t.copy(),l),E=h.selection?h.selection():h,b=E.selectAll(".domain").data([null]),C=E.selectAll(".tick").data(m,t).order(),k=C.exit(),N=C.enter().append("g").attr("class","tick"),A=C.select("line"),O=C.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(N),A=A.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),O=O.merge(N.append("text").attr("fill","currentColor").attr(c,u*v).attr("dy",e===Ec?"0em":e===Ag?"0.71em":"0.32em")),h!==E&&(b=b.transition(h),C=C.transition(h),A=A.transition(h),O=O.transition(h),k=k.transition(h).attr("opacity",nx).attr("transform",function(V){return isFinite(V=x(V))?f(V+l):this.getAttribute("transform")}),N.attr("opacity",nx).attr("transform",function(V){var I=this.parentNode.__axis;return f((I&&isFinite(I=I(V))?I:x(V))+l)})),k.remove(),b.attr("d",e===Ws||e===Cc?a?"M"+u*a+","+w+"H"+l+"V"+y+"H"+u*a:"M"+l+","+w+"V"+y:a?"M"+w+","+u*a+"V"+l+"H"+y+"V"+u*a:"M"+w+","+l+"H"+y),C.attr("opacity",1).attr("transform",function(V){return f(x(V)+l)}),A.attr(c+"2",u*o),O.attr(c,u*v).text(g),E.filter(tz).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Cc?"start":e===Ws?"end":"middle"),E.each(function(){this.__axis=x})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(l=+h,d):l},d}function nz(e){return fh(Ec,e)}function rz(e){return fh(Cc,e)}function iz(e){return fh(Ag,e)}function oz(e){return fh(Ws,e)}const az=Object.freeze(Object.defineProperty({__proto__:null,axisBottom:iz,axisLeft:oz,axisRight:rz,axisTop:nz},Symbol.toStringTag,{value:"Module"})),sz=ii(az);var lz={value:()=>{}};function oy(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Tc(n)}function Tc(e){this._=e}function uz(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Tc.prototype=oy.prototype={constructor:Tc,on:function(e,t){var n=this._,r=uz(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=cz(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=rx(n[i],e.name,t);else if(t==null)for(i in n)n[i]=rx(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Tc(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function cz(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function rx(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=lz,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Fg="http://www.w3.org/1999/xhtml";const $g={svg:"http://www.w3.org/2000/svg",xhtml:Fg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function su(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),$g.hasOwnProperty(t)?{space:$g[t],local:e}:e}function fz(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Fg&&t.documentElement.namespaceURI===Fg?t.createElement(e):t.createElementNS(n,e)}}function dz(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dh(e){var t=su(e);return(t.local?dz:fz)(t)}function hz(){}function hh(e){return e==null?hz:function(){return this.querySelector(e)}}function pz(e){typeof e!="function"&&(e=hh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new qt(r,this._parents)}function gD(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function mz(){return[]}function ay(e){return e==null?mz:function(){return this.querySelectorAll(e)}}function gz(e){return function(){return gD(e.apply(this,arguments))}}function vz(e){typeof e=="function"?e=gz(e):e=ay(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new qt(r,i)}function sy(e){return function(){return this.matches(e)}}function vD(e){return function(t){return t.matches(e)}}var yz=Array.prototype.find;function wz(e){return function(){return yz.call(this.children,e)}}function _z(){return this.firstElementChild}function Sz(e){return this.select(e==null?_z:wz(typeof e=="function"?e:vD(e)))}var xz=Array.prototype.filter;function bz(){return Array.from(this.children)}function Ez(e){return function(){return xz.call(this.children,e)}}function Cz(e){return this.selectAll(e==null?bz:Ez(typeof e=="function"?e:vD(e)))}function Tz(e){typeof e!="function"&&(e=sy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new qt(r,this._parents)}function yD(e){return new Array(e.length)}function kz(){return new qt(this._enter||this._groups.map(yD),this._parents)}function Wf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Wf.prototype={constructor:Wf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Mz(e){return function(){return e}}function Dz(e,t,n,r,i,o){for(var a=0,s,l=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Wf(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function Oz(e,t,n,r,i,o,a){var s,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(s=0;s<c;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?i[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(l=u.get(h))?(r[s]=l,l.__data__=o[s],u.delete(h)):n[s]=new Wf(e,o[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(d[s])===l&&(i[s]=l)}function Pz(e){return e.__data__}function Nz(e,t){if(!arguments.length)return Array.from(this,Pz);var n=t?Oz:Dz,r=this._parents,i=this._groups;typeof e!="function"&&(e=Mz(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=Rz(e.call(c,c&&c.__data__,u,r)),m=h.length,g=s[u]=new Array(m),v=a[u]=new Array(m),p=l[u]=new Array(d);n(c,f,g,v,p,h,t);for(var w=0,y=0,x,E;w<m;++w)if(x=g[w]){for(w>=y&&(y=w+1);!(E=v[y])&&++y<m;);x._next=E||null}}return a=new qt(a,r),a._enter=s,a._exit=l,a}function Rz(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Iz(){return new qt(this._exit||this._groups.map(yD),this._parents)}function Lz(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Az(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,m=0;m<f;++m)(h=u[m]||c[m])&&(d[m]=h);for(;l<i;++l)s[l]=n[l];return new qt(s,this._parents)}function Fz(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function $z(e){e||(e=jz);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new qt(i,this._parents).order()}function jz(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Hz(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Uz(){return Array.from(this)}function Vz(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Bz(){let e=0;for(const t of this)++e;return e}function Yz(){return!this.node()}function zz(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function Wz(e){return function(){this.removeAttribute(e)}}function qz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qz(e,t){return function(){this.setAttribute(e,t)}}function Gz(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Kz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Xz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Zz(e,t){var n=su(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?qz:Wz:typeof t=="function"?n.local?Xz:Kz:n.local?Gz:Qz)(n,t))}function ly(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Jz(e){return function(){this.style.removeProperty(e)}}function e7(e,t,n){return function(){this.style.setProperty(e,t,n)}}function t7(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function n7(e,t,n){return arguments.length>1?this.each((t==null?Jz:typeof t=="function"?t7:e7)(e,t,n??"")):Mo(this.node(),e)}function Mo(e,t){return e.style.getPropertyValue(t)||ly(e).getComputedStyle(e,null).getPropertyValue(t)}function r7(e){return function(){delete this[e]}}function i7(e,t){return function(){this[e]=t}}function o7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function a7(e,t){return arguments.length>1?this.each((t==null?r7:typeof t=="function"?o7:i7)(e,t)):this.node()[e]}function wD(e){return e.trim().split(/^|\s+/)}function uy(e){return e.classList||new _D(e)}function _D(e){this._node=e,this._names=wD(e.getAttribute("class")||"")}_D.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function SD(e,t){for(var n=uy(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function xD(e,t){for(var n=uy(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function s7(e){return function(){SD(this,e)}}function l7(e){return function(){xD(this,e)}}function u7(e,t){return function(){(t.apply(this,arguments)?SD:xD)(this,e)}}function c7(e,t){var n=wD(e+"");if(arguments.length<2){for(var r=uy(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?u7:t?s7:l7)(n,t))}function f7(){this.textContent=""}function d7(e){return function(){this.textContent=e}}function h7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function p7(e){return arguments.length?this.each(e==null?f7:(typeof e=="function"?h7:d7)(e)):this.node().textContent}function m7(){this.innerHTML=""}function g7(e){return function(){this.innerHTML=e}}function v7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function y7(e){return arguments.length?this.each(e==null?m7:(typeof e=="function"?v7:g7)(e)):this.node().innerHTML}function w7(){this.nextSibling&&this.parentNode.appendChild(this)}function _7(){return this.each(w7)}function S7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function x7(){return this.each(S7)}function b7(e){var t=typeof e=="function"?e:dh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function E7(){return null}function C7(e,t){var n=typeof e=="function"?e:dh(e),r=t==null?E7:typeof t=="function"?t:hh(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function T7(){var e=this.parentNode;e&&e.removeChild(this)}function k7(){return this.each(T7)}function M7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function D7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function O7(e){return this.select(e?D7:M7)}function P7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function N7(e){return function(t){e.call(this,t,this.__data__)}}function R7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function I7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function L7(e,t,n){return function(){var r=this.__on,i,o=N7(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function A7(e,t,n){var r=R7(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?L7:I7,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function bD(e,t,n){var r=ly(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function F7(e,t){return function(){return bD(this,e,t)}}function $7(e,t){return function(){return bD(this,e,t.apply(this,arguments))}}function j7(e,t){return this.each((typeof t=="function"?$7:F7)(e,t))}function*H7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var cy=[null];function qt(e,t){this._groups=e,this._parents=t}function ls(){return new qt([[document.documentElement]],cy)}function U7(){return this}qt.prototype=ls.prototype={constructor:qt,select:pz,selectAll:vz,selectChild:Sz,selectChildren:Cz,filter:Tz,data:Nz,enter:kz,exit:Iz,join:Lz,merge:Az,selection:U7,order:Fz,sort:$z,call:Hz,nodes:Uz,node:Vz,size:Bz,empty:Yz,each:zz,attr:Zz,style:n7,property:a7,classed:c7,text:p7,html:y7,raise:_7,lower:x7,append:b7,insert:C7,remove:k7,clone:O7,datum:P7,on:A7,dispatch:j7,[Symbol.iterator]:H7};function Lr(e){return typeof e=="string"?new qt([[document.querySelector(e)]],[document.documentElement]):new qt([[e]],cy)}function V7(e){return Lr(dh(e).call(document.documentElement))}var B7=0;function ED(){return new jg}function jg(){this._="@"+(++B7).toString(36)}jg.prototype=ED.prototype={constructor:jg,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function CD(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pr(e,t){if(e=CD(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Y7(e,t){return e.target&&(e=CD(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>Pr(n,t))}function z7(e){return typeof e=="string"?new qt([document.querySelectorAll(e)],[document.documentElement]):new qt([gD(e)],cy)}const W7=Object.freeze(Object.defineProperty({__proto__:null,create:V7,creator:dh,local:ED,matcher:sy,namespace:su,namespaces:$g,pointer:Pr,pointers:Y7,select:Lr,selectAll:z7,selection:ls,selector:hh,selectorAll:ay,style:Mo,window:ly},Symbol.toStringTag,{value:"Module"})),Hg={capture:!0,passive:!1};function Ug(e){e.preventDefault(),e.stopImmediatePropagation()}function q7(e){var t=e.document.documentElement,n=Lr(e).on("dragstart.drag",Ug,Hg);"onselectstart"in t?n.on("selectstart.drag",Ug,Hg):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Q7(e,t){var n=e.document.documentElement,r=Lr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ug,Hg),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ga=0,qs=0,Ns=0,TD=1e3,qf,Qs,Qf=0,Do=0,ph=0,Fl=typeof performance=="object"&&performance.now?performance:Date,kD=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fy(){return Do||(kD(G7),Do=Fl.now()+ph)}function G7(){Do=0}function Gf(){this._call=this._time=this._next=null}Gf.prototype=MD.prototype={constructor:Gf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?fy():+n)+(t==null?0:+t),!this._next&&Qs!==this&&(Qs?Qs._next=this:qf=this,Qs=this),this._call=e,this._time=n,Vg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vg())}};function MD(e,t,n){var r=new Gf;return r.restart(e,t,n),r}function K7(){fy(),++Ga;for(var e=qf,t;e;)(t=Do-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ga}function ix(){Do=(Qf=Fl.now())+ph,Ga=qs=0;try{K7()}finally{Ga=0,Z7(),Do=0}}function X7(){var e=Fl.now(),t=e-Qf;t>TD&&(ph-=t,Qf=e)}function Z7(){for(var e,t=qf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:qf=n);Qs=e,Vg(r)}function Vg(e){if(!Ga){qs&&(qs=clearTimeout(qs));var t=e-Do;t>24?(e<1/0&&(qs=setTimeout(ix,e-Fl.now()-ph)),Ns&&(Ns=clearInterval(Ns))):(Ns||(Qf=Fl.now(),Ns=setInterval(X7,TD)),Ga=1,kD(ix))}}function ox(e,t,n){var r=new Gf;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var J7=oy("start","end","cancel","interrupt"),e9=[],DD=0,ax=1,Bg=2,kc=3,sx=4,Yg=5,Mc=6;function mh(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;t9(e,n,{name:t,index:r,group:i,on:J7,tween:e9,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:DD})}function dy(e,t){var n=Gn(e,t);if(n.state>DD)throw new Error("too late; already scheduled");return n}function br(e,t){var n=Gn(e,t);if(n.state>kc)throw new Error("too late; already running");return n}function Gn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function t9(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=MD(o,0,n.time);function o(u){n.state=ax,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==ax)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===kc)return ox(a);h.state===sx?(h.state=Mc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Mc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(ox(function(){n.state===kc&&(n.state=sx,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Bg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bg){for(n.state=kc,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Yg,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Yg&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Mc,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Dc(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Bg&&r.state<Yg,r.state=Mc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function n9(e){return this.each(function(){Dc(this,e)})}function r9(e,t){var n,r;return function(){var i=br(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function i9(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=br(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function o9(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Gn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?r9:i9)(n,e,t))}function hy(e,t,n){var r=e._id;return e.each(function(){var i=br(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Gn(i,r).value[t]}}function OD(e,t){var n;return(typeof t=="number"?Tn:t instanceof Hi?Al:(n=Hi(t))?(t=n,Al):Bv)(e,t)}function a9(e){return function(){this.removeAttribute(e)}}function s9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function l9(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function u9(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function c9(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function f9(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function d9(e,t){var n=su(e),r=n==="transform"?jM:OD;return this.attrTween(e,typeof t=="function"?(n.local?f9:c9)(n,r,hy(this,"attr."+e,t)):t==null?(n.local?s9:a9)(n):(n.local?u9:l9)(n,r,t))}function h9(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function p9(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function m9(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&p9(e,o)),n}return i._value=t,i}function g9(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&h9(e,o)),n}return i._value=t,i}function v9(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=su(e);return this.tween(n,(r.local?m9:g9)(r,t))}function y9(e,t){return function(){dy(this,e).delay=+t.apply(this,arguments)}}function w9(e,t){return t=+t,function(){dy(this,e).delay=t}}function _9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?y9:w9)(t,e)):Gn(this.node(),t).delay}function S9(e,t){return function(){br(this,e).duration=+t.apply(this,arguments)}}function x9(e,t){return t=+t,function(){br(this,e).duration=t}}function b9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?S9:x9)(t,e)):Gn(this.node(),t).duration}function E9(e,t){if(typeof t!="function")throw new Error;return function(){br(this,e).ease=t}}function C9(e){var t=this._id;return arguments.length?this.each(E9(t,e)):Gn(this.node(),t).ease}function T9(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;br(this,e).ease=n}}function k9(e){if(typeof e!="function")throw new Error;return this.each(T9(this._id,e))}function M9(e){typeof e!="function"&&(e=sy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new ri(r,this._parents,this._name,this._id)}function D9(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new ri(a,this._parents,this._name,this._id)}function O9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function P9(e,t,n){var r,i,o=O9(t)?dy:br;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function N9(e,t){var n=this._id;return arguments.length<2?Gn(this.node(),n).on.on(e):this.each(P9(n,e,t))}function R9(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function I9(){return this.on("end.remove",R9(this._id))}function L9(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hh(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,mh(u[d],t,n,d,u,Gn(c,n)));return new ri(o,this._parents,t,n)}function A9(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ay(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,m=Gn(c,n),g=0,v=d.length;g<v;++g)(h=d[g])&&mh(h,t,n,g,d,m);o.push(d),a.push(c)}return new ri(o,a,t,n)}var F9=ls.prototype.constructor;function $9(){return new F9(this._groups,this._parents)}function j9(e,t){var n,r,i;return function(){var o=Mo(this,e),a=(this.style.removeProperty(e),Mo(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function PD(e){return function(){this.style.removeProperty(e)}}function H9(e,t,n){var r,i=n+"",o;return function(){var a=Mo(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function U9(e,t,n){var r,i,o;return function(){var a=Mo(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Mo(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function V9(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=br(this,e),u=l.on,c=l.value[o]==null?s||(s=PD(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function B9(e,t,n){var r=(e+="")=="transform"?$M:OD;return t==null?this.styleTween(e,j9(e,r)).on("end.style."+e,PD(e)):typeof t=="function"?this.styleTween(e,U9(e,r,hy(this,"style."+e,t))).each(V9(this._id,e)):this.styleTween(e,H9(e,r,t),n).on("end.style."+e,null)}function Y9(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function z9(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Y9(e,a,n)),r}return o._value=t,o}function W9(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,z9(e,t,n??""))}function q9(e){return function(){this.textContent=e}}function Q9(e){return function(){var t=e(this);this.textContent=t??""}}function G9(e){return this.tween("text",typeof e=="function"?Q9(hy(this,"text",e)):q9(e==null?"":e+""))}function K9(e){return function(t){this.textContent=e.call(this,t)}}function X9(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&K9(i)),t}return r._value=e,r}function Z9(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,X9(e))}function J9(){for(var e=this._name,t=this._id,n=ND(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Gn(l,t);mh(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ri(r,this._parents,e,n)}function eW(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=br(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&o()})}var tW=0;function ri(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ND(){return++tW}var Tr=ls.prototype;ri.prototype={constructor:ri,select:L9,selectAll:A9,selectChild:Tr.selectChild,selectChildren:Tr.selectChildren,filter:M9,merge:D9,selection:$9,transition:J9,call:Tr.call,nodes:Tr.nodes,node:Tr.node,size:Tr.size,empty:Tr.empty,each:Tr.each,on:N9,attr:d9,attrTween:v9,style:B9,styleTween:W9,text:G9,textTween:Z9,remove:I9,tween:o9,delay:_9,duration:b9,ease:C9,easeVarying:k9,end:eW,[Symbol.iterator]:Tr[Symbol.iterator]};function nW(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rW={time:null,delay:0,duration:250,ease:nW};function iW(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function oW(e){var t,n;e instanceof ri?(t=e._id,e=e._name):(t=ND(),(n=rW).time=fy(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&mh(l,e,t,u,a,n||iW(l,t));return new ri(r,this._parents,e,t)}ls.prototype.interrupt=n9;ls.prototype.transition=oW;const qu=e=>()=>e;function aW(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function cr(e,t,n){this.k=e,this.x=t,this.y=n}cr.prototype={constructor:cr,scale:function(e){return e===1?this:new cr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gh=new cr(1,0,0);RD.prototype=cr.prototype;function RD(e){for(;!e.__zoom;)if(!(e=e.parentNode))return gh;return e.__zoom}function em(e){e.stopImmediatePropagation()}function Rs(e){e.preventDefault(),e.stopImmediatePropagation()}function sW(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function lW(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function lx(){return this.__zoom||gh}function uW(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cW(){return navigator.maxTouchPoints||"ontouchstart"in this}function fW(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function dW(){var e=sW,t=lW,n=fW,r=uW,i=cW,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=HM,u=oy("start","zoom","end"),c,f,d,h=500,m=150,g=0,v=10;function p(T){T.property("__zoom",lx).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(T,P,D,$){var M=T.selection?T.selection():T;M.property("__zoom",lx),T!==M?E(T,P,D,$):M.interrupt().each(function(){b(this,arguments).event($).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},p.scaleBy=function(T,P,D,$){p.scaleTo(T,function(){var M=this.__zoom.k,F=typeof P=="function"?P.apply(this,arguments):P;return M*F},D,$)},p.scaleTo=function(T,P,D,$){p.transform(T,function(){var M=t.apply(this,arguments),F=this.__zoom,B=D==null?x(M):typeof D=="function"?D.apply(this,arguments):D,q=F.invert(B),G=typeof P=="function"?P.apply(this,arguments):P;return n(y(w(F,G),B,q),M,a)},D,$)},p.translateBy=function(T,P,D,$){p.transform(T,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),a)},null,$)},p.translateTo=function(T,P,D,$,M){p.transform(T,function(){var F=t.apply(this,arguments),B=this.__zoom,q=$==null?x(F):typeof $=="function"?$.apply(this,arguments):$;return n(gh.translate(q[0],q[1]).scale(B.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof D=="function"?-D.apply(this,arguments):-D),F,a)},$,M)};function w(T,P){return P=Math.max(o[0],Math.min(o[1],P)),P===T.k?T:new cr(P,T.x,T.y)}function y(T,P,D){var $=P[0]-D[0]*T.k,M=P[1]-D[1]*T.k;return $===T.x&&M===T.y?T:new cr(T.k,$,M)}function x(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function E(T,P,D,$){T.on("start.zoom",function(){b(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event($).end()}).tween("zoom",function(){var M=this,F=arguments,B=b(M,F).event($),q=t.apply(M,F),G=D==null?x(q):typeof D=="function"?D.apply(M,F):D,me=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),ce=M.__zoom,ne=typeof P=="function"?P.apply(M,F):P,ge=l(ce.invert(G).concat(me/ce.k),ne.invert(G).concat(me/ne.k));return function(z){if(z===1)z=ne;else{var re=ge(z),L=me/re[2];z=new cr(L,G[0]-re[0]*L,G[1]-re[1]*L)}B.zoom(null,z)}})}function b(T,P,D){return!D&&T.__zooming||new C(T,P)}function C(T,P){this.that=T,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,P),this.taps=0}C.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,P){return this.mouse&&T!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var P=Lr(this.that).datum();u.call(T,this.that,new aW(T,{sourceEvent:this.sourceEvent,target:p,type:T,transform:this.that.__zoom,dispatch:u}),P)}};function k(T,...P){if(!e.apply(this,arguments))return;var D=b(this,P).event(T),$=this.__zoom,M=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,r.apply(this,arguments)))),F=Pr(T);if(D.wheel)(D.mouse[0][0]!==F[0]||D.mouse[0][1]!==F[1])&&(D.mouse[1]=$.invert(D.mouse[0]=F)),clearTimeout(D.wheel);else{if($.k===M)return;D.mouse=[F,$.invert(F)],Dc(this),D.start()}Rs(T),D.wheel=setTimeout(B,m),D.zoom("mouse",n(y(w($,M),D.mouse[0],D.mouse[1]),D.extent,a));function B(){D.wheel=null,D.end()}}function N(T,...P){if(d||!e.apply(this,arguments))return;var D=T.currentTarget,$=b(this,P,!0).event(T),M=Lr(T.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",me,!0),F=Pr(T,D),B=T.clientX,q=T.clientY;q7(T.view),em(T),$.mouse=[F,this.__zoom.invert(F)],Dc(this),$.start();function G(ce){if(Rs(ce),!$.moved){var ne=ce.clientX-B,ge=ce.clientY-q;$.moved=ne*ne+ge*ge>g}$.event(ce).zoom("mouse",n(y($.that.__zoom,$.mouse[0]=Pr(ce,D),$.mouse[1]),$.extent,a))}function me(ce){M.on("mousemove.zoom mouseup.zoom",null),Q7(ce.view,$.moved),Rs(ce),$.event(ce).end()}}function A(T,...P){if(e.apply(this,arguments)){var D=this.__zoom,$=Pr(T.changedTouches?T.changedTouches[0]:T,this),M=D.invert($),F=D.k*(T.shiftKey?.5:2),B=n(y(w(D,F),$,M),t.apply(this,P),a);Rs(T),s>0?Lr(this).transition().duration(s).call(E,B,$,T):Lr(this).call(p.transform,B,$,T)}}function O(T,...P){if(e.apply(this,arguments)){var D=T.touches,$=D.length,M=b(this,P,T.changedTouches.length===$).event(T),F,B,q,G;for(em(T),B=0;B<$;++B)q=D[B],G=Pr(q,this),G=[G,this.__zoom.invert(G),q.identifier],M.touch0?!M.touch1&&M.touch0[2]!==G[2]&&(M.touch1=G,M.taps=0):(M.touch0=G,F=!0,M.taps=1+!!c);c&&(c=clearTimeout(c)),F&&(M.taps<2&&(f=G[0],c=setTimeout(function(){c=null},h)),Dc(this),M.start())}}function V(T,...P){if(this.__zooming){var D=b(this,P).event(T),$=T.changedTouches,M=$.length,F,B,q,G;for(Rs(T),F=0;F<M;++F)B=$[F],q=Pr(B,this),D.touch0&&D.touch0[2]===B.identifier?D.touch0[0]=q:D.touch1&&D.touch1[2]===B.identifier&&(D.touch1[0]=q);if(B=D.that.__zoom,D.touch1){var me=D.touch0[0],ce=D.touch0[1],ne=D.touch1[0],ge=D.touch1[1],z=(z=ne[0]-me[0])*z+(z=ne[1]-me[1])*z,re=(re=ge[0]-ce[0])*re+(re=ge[1]-ce[1])*re;B=w(B,Math.sqrt(z/re)),q=[(me[0]+ne[0])/2,(me[1]+ne[1])/2],G=[(ce[0]+ge[0])/2,(ce[1]+ge[1])/2]}else if(D.touch0)q=D.touch0[0],G=D.touch0[1];else return;D.zoom("touch",n(y(B,q,G),D.extent,a))}}function I(T,...P){if(this.__zooming){var D=b(this,P).event(T),$=T.changedTouches,M=$.length,F,B;for(em(T),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),F=0;F<M;++F)B=$[F],D.touch0&&D.touch0[2]===B.identifier?delete D.touch0:D.touch1&&D.touch1[2]===B.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(B=Pr(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<v)){var q=Lr(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return p.wheelDelta=function(T){return arguments.length?(r=typeof T=="function"?T:qu(+T),p):r},p.filter=function(T){return arguments.length?(e=typeof T=="function"?T:qu(!!T),p):e},p.touchable=function(T){return arguments.length?(i=typeof T=="function"?T:qu(!!T),p):i},p.extent=function(T){return arguments.length?(t=typeof T=="function"?T:qu([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),p):t},p.scaleExtent=function(T){return arguments.length?(o[0]=+T[0],o[1]=+T[1],p):[o[0],o[1]]},p.translateExtent=function(T){return arguments.length?(a[0][0]=+T[0][0],a[1][0]=+T[1][0],a[0][1]=+T[0][1],a[1][1]=+T[1][1],p):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},p.constrain=function(T){return arguments.length?(n=T,p):n},p.duration=function(T){return arguments.length?(s=+T,p):s},p.interpolate=function(T){return arguments.length?(l=T,p):l},p.on=function(){var T=u.on.apply(u,arguments);return T===u?p:T},p.clickDistance=function(T){return arguments.length?(g=(T=+T)*T,p):Math.sqrt(g)},p.tapDistance=function(T){return arguments.length?(v=+T,p):v},p}const hW=Object.freeze(Object.defineProperty({__proto__:null,ZoomTransform:cr,zoom:dW,zoomIdentity:gh,zoomTransform:RD},Symbol.toStringTag,{value:"Module"})),pW=ii(hW),Er=ii(W7),mW=ii(mB);var py={exports:{}},Ea=typeof Reflect=="object"?Reflect:null,ux=Ea&&typeof Ea.apply=="function"?Ea.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Oc;Ea&&typeof Ea.ownKeys=="function"?Oc=Ea.ownKeys:Object.getOwnPropertySymbols?Oc=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Oc=function(t){return Object.getOwnPropertyNames(t)};function gW(e){console&&console.warn&&console.warn(e)}var ID=Number.isNaN||function(t){return t!==t};function He(){He.init.call(this)}py.exports=He;py.exports.once=_W;He.EventEmitter=He;He.prototype._events=void 0;He.prototype._eventsCount=0;He.prototype._maxListeners=void 0;var cx=10;function vh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(He,"defaultMaxListeners",{enumerable:!0,get:function(){return cx},set:function(e){if(typeof e!="number"||e<0||ID(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");cx=e}});He.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};He.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ID(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function LD(e){return e._maxListeners===void 0?He.defaultMaxListeners:e._maxListeners}He.prototype.getMaxListeners=function(){return LD(this)};He.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")ux(l,this,n);else for(var u=l.length,c=HD(l,u),r=0;r<u;++r)ux(c[r],this,n);return!0};function AD(e,t,n,r){var i,o,a;if(vh(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=LD(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,gW(s)}return e}He.prototype.addListener=function(t,n){return AD(this,t,n,!1)};He.prototype.on=He.prototype.addListener;He.prototype.prependListener=function(t,n){return AD(this,t,n,!0)};function vW(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function FD(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=vW.bind(r);return i.listener=n,r.wrapFn=i,i}He.prototype.once=function(t,n){return vh(n),this.on(t,FD(this,t,n)),this};He.prototype.prependOnceListener=function(t,n){return vh(n),this.prependListener(t,FD(this,t,n)),this};He.prototype.removeListener=function(t,n){var r,i,o,a,s;if(vh(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){s=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():yW(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};He.prototype.off=He.prototype.removeListener;He.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function $D(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?wW(i):HD(i,i.length)}He.prototype.listeners=function(t){return $D(this,t,!0)};He.prototype.rawListeners=function(t){return $D(this,t,!1)};He.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):jD.call(e,t)};He.prototype.listenerCount=jD;function jD(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}He.prototype.eventNames=function(){return this._eventsCount>0?Oc(this._events):[]};function HD(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function yW(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function wW(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function _W(e,t){return new Promise(function(n,r){function i(a){e.removeListener(t,o),r(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}UD(e,t,o,{once:!0}),t!=="error"&&SW(e,i,{once:!0})})}function SW(e,t,n){typeof e.on=="function"&&UD(e,"error",t,n)}function UD(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var xW=py.exports,my={};Object.defineProperty(my,"__esModule",{value:!0});const bW=Zd,EW=Er;function CW(e){const t=e.owner.meta.xScale,n=e.owner.meta.yScale,r=(0,bW.line)().x(function(i){return i[0]}).y(function(i){return i[1]});return function(i){i.each(function(){const a=(0,EW.select)(this).selectAll("g.annotations").data(function(m){return m.annotations||[]}),s=a.enter().append("g").attr("class","annotations"),l=n.range(),u=t.range(),c=a.merge(s).selectAll("path").data(function(m){return"x"in m?[[[0,l[0]],[0,l[1]]]]:[[[u[0],0],[u[1],0]]]}),f=c.enter().append("path");c.merge(f).attr("stroke","#eee").attr("d",r),c.exit().remove();const d=a.merge(s).selectAll("text").data(function(m){return[{text:m.text||"",hasX:"x"in m}]}),h=d.enter().append("text");d.merge(h).text(function(m){return m.text}).attr("y",function(m){return m.hasX?3:0}).attr("x",function(m){return m.hasX?0:3}).attr("dy",function(m){return m.hasX?5:-5}).attr("text-anchor",function(m){return m.hasX?"end":""}).attr("transform",function(m){return m.hasX?"rotate(-90)":""}),d.exit().remove(),a.merge(s).attr("transform",function(m){return"x"in m?"translate("+t(m.x)+", 0)":"translate(0, "+n(m.y)+")"}),a.exit().remove()})}}my.default=CW;var gy={},Kn={},li={};const vy=ii(WV);Object.defineProperty(li,"__esModule",{value:!0});li.registerGraphType=void 0;const TW=vy,$l={COLORS:["steelblue","red","#05b378","orange","#4040e8","yellow","brown","magenta","cyan"].map(function(e){return(0,TW.hsl)(e)}),DEFAULT_WIDTH:550,DEFAULT_HEIGHT:350,DEFAULT_ITERATIONS:null,TIP_X_EPS:1,MAX_ITERATIONS:0,graphTypes:{}};$l.MAX_ITERATIONS=$l.DEFAULT_WIDTH*10;function kW(e,t){if(Object.hasOwn($l.graphTypes,e))throw new Error(`registerGraphType: graphType ${e} is already registered.`);$l.graphTypes[e]=t}li.registerGraphType=kW;li.default=$l;var MW=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kn,"__esModule",{value:!0});const fx=MW(li),DW={linspace:function(e,t,n){const r=(t-e)/(n-1);return Array.from({length:n},(i,o)=>e+r*o)},logspace:function(e,t,n){return this.linspace(e,t,n).map(r=>Math.pow(10,r))},isValidNumber:function(e){return typeof e=="number"&&!isNaN(e)},space:function(e,t,n){const r=t[0],i=t[1];return e.type==="log"?this.logspace(Math.log10(r),Math.log10(i),n):this.linspace(r,i,n)},getterSetter:function(e,t){const n=this;this[t]=function(r){return arguments.length?(e[t]=r,n):e[t]}},sgn:function(e){return e<0?-1:e>0?1:0},clamp:function(e,t,n){return e<t?t:e>n?n:e},color:function(e,t){const n=t%fx.default.COLORS.length;return e.color||fx.default.COLORS[n].hex()},infinity:function(){return 9007199254740991}};Kn.default=DW;var An={},yy={exports:{}},Uo={},VD={EOF:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4},Gi=VD,OW={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},PW={",":!0,"(":!0,")":!0,"[":!0,"]":!0,";":!0,"~":!0,"!":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0,"^":!0,"**":!0,"|":!0,"&":!0,"^|":!0,"=":!0,":":!0,"?":!0,"||":!0,"&&":!0,xor:!0,"==":!0,"!=":!0,"===":!0,"!==":!0,"<":!0,">":!0,">=":!0,"<=":!0,">>>":!0,"<<":!0,">>":!0};function Ir(e){return e>="0"&&e<="9"}function BD(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"}function NW(e){return e===" "||e==="\r"||e==="	"||e===`
`||e==="\v"||e===" "}function tm(e){return PW[e]}function RW(e){return e==="'"||e==='"'}function Qi(){}Qi.prototype.throwError=function(e,t){t=typeof t>"u"?this.index:t;var n=new Error(e+" at index "+t);throw n.index=t,n.description=e,n};Qi.prototype.lex=function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){for(;NW(this.peek());)this.consume();var t=this.peek(),n=t+this.peek(1),r=n+this.peek(2);tm(r)?(this.tokens.push({type:Gi.DELIMITER,value:r}),this.consume(),this.consume(),this.consume()):tm(n)?(this.tokens.push({type:Gi.DELIMITER,value:n}),this.consume(),this.consume()):tm(t)?(this.tokens.push({type:Gi.DELIMITER,value:t}),this.consume()):Ir(t)||t==="."&&Ir(this.peek(1))?this.tokens.push({type:Gi.NUMBER,value:this.readNumber()}):RW(t)?this.tokens.push({type:Gi.STRING,value:this.readString()}):BD(t)?this.tokens.push({type:Gi.SYMBOL,value:this.readIdentifier()}):this.throwError("unexpected character "+t)}return this.tokens.push({type:Gi.EOF}),this.tokens};Qi.prototype.peek=function(e){if(e=e||0,!(this.index+e>=this.text.length))return this.text.charAt(this.index+e)};Qi.prototype.consume=function(){var e=this.peek();return this.index+=1,e};Qi.prototype.readNumber=function(){var e="";if(this.peek()===".")e+=this.consume(),Ir(this.peek())||this.throwError("number expected");else{for(;Ir(this.peek());)e+=this.consume();this.peek()==="."&&(e+=this.consume())}for(;Ir(this.peek());)e+=this.consume();if(this.peek()==="e"||this.peek()==="E")for(e+=this.consume(),Ir(this.peek())||this.peek()==="+"||this.peek()==="-"||this.throwError(),(this.peek()==="+"||this.peek()==="-")&&(e+=this.consume()),Ir(this.peek())||this.throwError("number expected");Ir(this.peek());)e+=this.consume();return e};Qi.prototype.readIdentifier=function(){for(var e="";BD(this.peek())||Ir(this.peek());)e+=this.consume();return e};Qi.prototype.readString=function(){for(var e=this.consume(),t="",n;;){var r=this.consume();if(r||this.throwError("string is not closed"),n){if(r==="u"){var i=this.text.substring(this.index+1,this.index+5);i.match(/[\da-f]{4}/i)||this.throwError("invalid unicode escape"),this.index+=4,t+=String.fromCharCode(parseInt(i,16))}else{var o=OW[r];o?t+=o:t+=r}n=!1}else{if(r===e)break;r==="\\"?n=!0:t+=r}}return t};var YD=Qi;function zD(){}zD.prototype.type="Node";var Cr=zD,IW=Cr,LW={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};function wy(e,t){if(!LW[t])throw Error("unsupported type '"+t+"'");this.value=e,this.valueType=t}wy.prototype=Object.create(IW.prototype);wy.prototype.type="ConstantNode";var WD=wy,AW=Cr;function _y(e,t){this.op=e,this.args=t||[]}_y.prototype=Object.create(AW.prototype);_y.prototype.type="OperatorNode";var qD=_y,FW=Cr;function Sy(e,t){this.op=e,this.argument=t}Sy.prototype=Object.create(FW.prototype);Sy.prototype.type="UnaryNode";var QD=Sy,$W=Cr;function xy(e){this.name=e}xy.prototype=Object.create($W.prototype);xy.prototype.type="SymbolNode";var GD=xy,jW=Cr;function by(e,t){this.name=e,this.args=t}by.prototype=Object.create(jW.prototype);by.prototype.type="FunctionNode";var KD=by,HW=Cr;function Ey(e){this.nodes=e}Ey.prototype=Object.create(HW.prototype);Ey.prototype.type="ArrayNode";var XD=Ey,UW=Cr;function Cy(e,t,n){this.condition=e,this.trueExpr=t,this.falseExpr=n}Cy.prototype=Object.create(UW.prototype);Cy.prototype.type="ConditionalNode";var ZD=Cy,VW=Cr;function Ty(e,t){this.name=e,this.expr=t}Ty.prototype=Object.create(VW.prototype);Ty.prototype.type="AssignmentNode";var JD=Ty,BW=Cr;function ky(e){this.blocks=e}ky.prototype=Object.create(BW.prototype);ky.prototype.type="BlockNode";var e2=ky,Oo=VD,YW=YD,My=WD,hn=qD,zW=QD,t2=GD,WW=KD,qW=XD,QW=ZD,GW=JD,KW=e2;function Ie(){this.lexer=new YW,this.tokens=null}Ie.prototype.current=function(){return this.tokens[0]};Ie.prototype.next=function(){return this.tokens[1]};Ie.prototype.peek=function(){if(this.tokens.length){for(var e=this.tokens[0],t=0;t<arguments.length;t+=1)if(e.value===arguments[t])return!0}};Ie.prototype.consume=function(e){return this.tokens.shift()};Ie.prototype.expect=function(e){if(!this.peek(e))throw Error("expected "+e);return this.consume()};Ie.prototype.isEOF=function(){return this.current().type===Oo.EOF};Ie.prototype.parse=function(e){return this.tokens=this.lexer.lex(e),this.program()};Ie.prototype.program=function(){for(var e=[];!this.isEOF();)e.push(this.assignment()),this.peek(";")&&this.consume();return this.end(),new KW(e)};Ie.prototype.assignment=function(){var e=this.ternary();return e instanceof t2&&this.peek("=")?(this.consume(),new GW(e.name,this.assignment())):e};Ie.prototype.ternary=function(){var e=this.logicalOR();if(this.peek("?")){this.consume();var t=this.ternary();this.expect(":");var n=this.ternary();return new QW(e,t,n)}return e};Ie.prototype.logicalOR=function(){var e=this.logicalXOR();if(this.peek("||")){var t=this.consume(),n=this.logicalOR();return new hn(t.value,[e,n])}return e};Ie.prototype.logicalXOR=function(){var e=this.logicalAND();if(this.current().value==="xor"){var t=this.consume(),n=this.logicalXOR();return new hn(t.value,[e,n])}return e};Ie.prototype.logicalAND=function(){var e=this.bitwiseOR();if(this.peek("&&")){var t=this.consume(),n=this.logicalAND();return new hn(t.value,[e,n])}return e};Ie.prototype.bitwiseOR=function(){var e=this.bitwiseXOR();if(this.peek("|")){var t=this.consume(),n=this.bitwiseOR();return new hn(t.value,[e,n])}return e};Ie.prototype.bitwiseXOR=function(){var e=this.bitwiseAND();if(this.peek("^|")){var t=this.consume(),n=this.bitwiseXOR();return new hn(t.value,[e,n])}return e};Ie.prototype.bitwiseAND=function(){var e=this.relational();if(this.peek("&")){var t=this.consume(),n=this.bitwiseAND();return new hn(t.value,[e,n])}return e};Ie.prototype.relational=function(){var e=this.shift();if(this.peek("==","===","!=","!==",">=","<=",">","<")){var t=this.consume(),n=this.shift();return new hn(t.value,[e,n])}return e};Ie.prototype.shift=function(){var e=this.additive();if(this.peek(">>","<<",">>>")){var t=this.consume(),n=this.shift();return new hn(t.value,[e,n])}return e};Ie.prototype.additive=function(){for(var e=this.multiplicative();this.peek("+","-");){var t=this.consume();e=new hn(t.value,[e,this.multiplicative()])}return e};Ie.prototype.multiplicative=function(){for(var e,t,n=this.unary();this.peek("*","/","%");)e=this.consume(),n=new hn(e.value,[n,this.unary()]);return this.current().type===Oo.SYMBOL||this.peek("(")||!(n.type instanceof My)&&this.current().type===Oo.NUMBER?(t=this.multiplicative(),new hn("*",[n,t])):n};Ie.prototype.unary=function(){if(this.peek("-","+","~")){var e=this.consume(),t=this.unary();return new zW(e.value,t)}return this.pow()};Ie.prototype.pow=function(){var e=this.factorial();if(this.peek("^","**")){var t=this.consume(),n=this.unary();return new hn(t.value,[e,n])}return e};Ie.prototype.factorial=function(){var e=this.symbol();if(this.peek("!")){var t=this.consume();return new hn(t.value,[e])}return e};Ie.prototype.symbol=function(){var e=this.current();if(e.type===Oo.SYMBOL){var t=this.consume(),n=this.functionCall(t);return n}return this.string()};Ie.prototype.functionCall=function(e){var t=e.value;if(this.peek("(")){this.consume();for(var n=[];!this.peek(")")&&!this.isEOF();)n.push(this.assignment()),this.peek(",")&&this.consume();return this.expect(")"),new WW(t,n)}return new t2(t)};Ie.prototype.string=function(){return this.current().type===Oo.STRING?new My(this.consume().value,"string"):this.array()};Ie.prototype.array=function(){if(this.peek("[")){this.consume();for(var e=[];!this.peek("]")&&!this.isEOF();)e.push(this.assignment()),this.peek(",")&&this.consume();return this.expect("]"),new qW(e)}return this.number()};Ie.prototype.number=function(){var e=this.current();return e.type===Oo.NUMBER?new My(this.consume().value,"number"):this.parentheses()};Ie.prototype.parentheses=function(){var e=this.current();if(e.value==="("){this.consume();var t=this.assignment();return this.expect(")"),t}return this.end()};Ie.prototype.end=function(){var e=this.current();if(e.type!==Oo.EOF)throw Error("unexpected end of expression")};var XW=Ie,ZW={ArrayNode:XD,AssignmentNode:JD,BlockNode:e2,ConditionalNode:ZD,ConstantNode:WD,FunctionNode:KD,Node:Cr,OperatorNode:qD,SymbolNode:GD,UnaryNode:QD};Uo.Lexer=YD;Uo.Parser=XW;Uo.nodeTypes=ZW;var Pc=Object.prototype.hasOwnProperty,n2=Object.prototype.toString,dx=Object.defineProperty,hx=Object.getOwnPropertyDescriptor,px=function(t){return typeof Array.isArray=="function"?Array.isArray(t):n2.call(t)==="[object Array]"},mx=function(t){if(!t||n2.call(t)!=="[object Object]")return!1;var n=Pc.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Pc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Pc.call(t,i)},gx=function(t,n){dx&&n.name==="__proto__"?dx(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},vx=function(t,n){if(n==="__proto__")if(Pc.call(t,n)){if(hx)return hx(t,n).value}else return;return t[n]},yh=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=vx(s,n),i=vx(t,n),s!==i&&(c&&i&&(mx(i)||(o=px(i)))?(o?(o=!1,a=r&&px(r)?r:[]):a=r&&mx(r)?r:{},gx(s,{name:n,newValue:e(c,a,i)})):typeof i<"u"&&gx(s,{name:n,newValue:i}));return s},JW=function(e){var t=this,n=[];this.rawify(this.options.rawArrayExpressionElements,function(){n=e.nodes.map(function(i){return t.next(i)})});var r="["+n.join(",")+"]";return this.options.raw?r:this.options.factory+"("+r+")"},eq=function(e){return'scope["'+e.name+'"] = '+this.next(e.expr)},tq=function(e){var t="!!("+this.next(e.condition)+")",n=this.next(e.trueExpr),r=this.next(e.falseExpr);return"("+t+" ? ("+n+") : ("+r+") )"},nq=function(e){return this.options.raw?e.value:this.options.factory+"("+e.value+")"},Dy={exports:{}},rq=Uo.nodeTypes.SymbolNode,r2=function(e){return"$$mathCodegen.functionProxy("+this.next(new rq(e.name))+', "'+e.name+'")'};Dy.exports=function(e){var t=this,n=r2.call(this,e),r=[];return this.rawify(this.options.rawCallExpressionElements,function(){r=e.args.map(function(i){return t.next(i)})}),n+"("+r.join(", ")+")"};Dy.exports.functionProxy=r2;var iq=Dy.exports,oq={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},aq=oq,sq=function(e){if(this.options.raw)return["("+this.next(e.args[0]),e.op,this.next(e.args[1])+")"].join(" ");var t=aq[e.op];if(!t)throw TypeError("unidentified operator");return this.FunctionNode({name:t,args:e.args})},lq=function(e){var t=e.name;return'$$mathCodegen.getProperty("'+t+'", scope, ns)'},uq={"+":"positive","-":"negative","~":"oneComplement"},yx=uq,cq=function(e){if(this.options.raw)return e.op+this.next(e.argument);if(!(e.op in yx))throw new SyntaxError(e.op+" not implemented");var t=yx[e.op];return this.FunctionNode({name:t,args:[e.argument]})},i2=yh,fq={ArrayNode:JW,AssignmentNode:eq,ConditionalNode:tq,ConstantNode:nq,FunctionNode:iq,OperatorNode:sq,SymbolNode:lq,UnaryNode:cq},wh=function(e,t){this.owner=e,this.options=i2({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1},t)};i2(wh.prototype,fq);wh.prototype.next=function(e){if(!(e.type in this))throw new TypeError("the node type "+e.type+" is not implemented");return this[e.type](e)};wh.prototype.rawify=function(e,t){var n=this.options.raw;e&&(this.options.raw=!0),t(),e&&(this.options.raw=n)};var dq=wh,hq=Uo.Parser,pq=dq,mq=yh;function _h(e,t){this.statements=[],this.defs=t||{},this.interpreter=new pq(this,e)}_h.prototype.setDefs=function(e){return this.defs=mq(this.defs,e),this};_h.prototype.compile=function(e){if(!e||!(typeof e=="object"||typeof e=="function"))throw TypeError("namespace must be an object");if(typeof e.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=e,this.defs.$$mathCodegen={getProperty:function(o,a,s){if(o in a)return a[o];if(o in s)return s[o];throw SyntaxError('symbol "'+o+'" is undefined')},functionProxy:function(o,a){if(typeof o!="function")throw SyntaxError('symbol "'+a+'" must be a function');return o}},this.defs.$$processScope=this.defs.$$processScope||function(){};var t=Object.keys(this.defs).map(function(o){return"var "+o+' = defs["'+o+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var n=this.statements.join(";"),r=t.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+n,"  },","  code: '"+n+"'","}"].join(`
`),i=new Function("defs",r);return i(this.defs)};_h.prototype.parse=function(e){var t=this,n=new hq().parse(e);return this.statements=n.blocks.map(function(r){return t.interpreter.next(r)}),this};var gq=_h,vq=gq,yq=function(){var e=Object.create(Math);return e.factory=function(t){if(typeof t!="number")throw new TypeError("built-in math factory only accepts numbers");return Number(t)},e.add=function(t,n){return t+n},e.sub=function(t,n){return t-n},e.mul=function(t,n){return t*n},e.div=function(t,n){return t/n},e.mod=function(t,n){return t%n},e.factorial=function(t){for(var n=1,r=2;r<=t;r+=1)n*=r;return n},e.nthRoot=function(t,n){var r=n<0;if(r&&(n=-n),n===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(n)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return 0;if(!isFinite(t))return r?0:t;var i=Math.pow(Math.abs(t),1/n);return i=t<0?-i:i,r?1/i:i},e.logicalOR=function(t,n){return t||n},e.logicalXOR=function(t,n){return t!=n},e.logicalAND=function(t,n){return t&&n},e.bitwiseOR=function(t,n){return t|n},e.bitwiseXOR=function(t,n){return t^n},e.bitwiseAND=function(t,n){return t&n},e.lessThan=function(t,n){return t<n},e.lessEqualThan=function(t,n){return t<=n},e.greaterThan=function(t,n){return t>n},e.greaterEqualThan=function(t,n){return t>=n},e.equal=function(t,n){return t==n},e.strictlyEqual=function(t,n){return t===n},e.notEqual=function(t,n){return t!=n},e.strictlyNotEqual=function(t,n){return t!==n},e.shiftRight=function(t,n){return t>>n},e.shiftLeft=function(t,n){return t<<n},e.unsignedRightShift=function(t,n){return t>>>n},e.negative=function(t){return-t},e.positive=function(t){return t},e},wq=vq,Oy=yq();function _q(e){Object.keys(e).forEach(function(t){var n=e[t];e[t]=Oy.factory(n)})}yy.exports=function(e){return new wq().setDefs({$$processScope:_q}).parse(e).compile(Oy)};yy.exports.math=Oy;var Sq=yy.exports,xq=Sq,Sh={exports:{}},bq=function(e){var t=this,n=[];this.rawify(this.options.rawArrayExpressionElements,function(){n=e.nodes.map(function(i){return t.next(i)})});var r="["+n.join(",")+"]";return this.options.raw?r:this.options.factory+"("+r+")"},Eq=function(e){return'scope["'+e.name+'"] = '+this.next(e.expr)},Cq=function(e){var t="!!("+this.next(e.condition)+")",n=this.next(e.trueExpr),r=this.next(e.falseExpr);return"("+t+" ? ("+n+") : ("+r+") )"},Tq=function(e){return this.options.raw?e.value:this.options.factory+"("+e.value+")"},Py={exports:{}},kq=Uo.nodeTypes.SymbolNode,o2=function(e){return"$$mathCodegen.functionProxy("+this.next(new kq(e.name))+', "'+e.name+'")'};Py.exports=function(e){var t=this,n=o2.call(this,e),r=[];return this.rawify(this.options.rawCallExpressionElements,function(){r=e.args.map(function(i){return t.next(i)})}),n+"("+r.join(", ")+")"};Py.exports.functionProxy=o2;var Mq=Py.exports,Dq={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},Oq=Dq,Pq=function(e){if(this.options.raw)return["("+this.next(e.args[0]),e.op,this.next(e.args[1])+")"].join(" ");var t=Oq[e.op];if(!t)throw TypeError("unidentified operator");return this.FunctionNode({name:t,args:e.args})},Nq=function(e){var t=e.name;return'$$mathCodegen.getProperty("'+t+'", scope, ns)'},Rq={"+":"positive","-":"negative","~":"oneComplement"},wx=Rq,Iq=function(e){if(this.options.raw)return e.op+this.next(e.argument);if(!(e.op in wx))throw new SyntaxError(e.op+" not implemented");var t=wx[e.op];return this.FunctionNode({name:t,args:[e.argument]})},a2=yh,Lq={ArrayNode:bq,AssignmentNode:Eq,ConditionalNode:Cq,ConstantNode:Tq,FunctionNode:Mq,OperatorNode:Pq,SymbolNode:Nq,UnaryNode:Iq},xh=function(e,t){this.owner=e,this.options=a2({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1,applyFactoryToScope:!1},t)};a2(xh.prototype,Lq);xh.prototype.next=function(e){if(!(e.type in this))throw new TypeError("the node type "+e.type+" is not implemented");return this[e.type](e)};xh.prototype.rawify=function(e,t){var n=this.options.raw;e&&(this.options.raw=!0),t(),e&&(this.options.raw=n)};var Aq=xh,Fq=Uo.Parser,$q=Aq,jq=yh;function bh(e,t){this.statements=[],this.defs=t||{},this.interpreter=new $q(this,e)}bh.prototype.setDefs=function(e){return this.defs=jq(this.defs,e),this};bh.prototype.compile=function(e){var t=this;if(!e||!(typeof e=="object"||typeof e=="function"))throw TypeError("namespace must be an object");if(typeof e.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=e,this.defs.$$mathCodegen={getProperty:function(a,s,l){function u(c){return t.interpreter.options.applyFactoryToScope&&typeof c!="function"?l.factory(c):c}if(a in s)return u(s[a]);if(a in l)return u(l[a]);throw SyntaxError('symbol "'+a+'" is undefined')},functionProxy:function(a,s){if(typeof a!="function")throw SyntaxError('symbol "'+s+'" must be a function');return a}},this.defs.$$processScope=this.defs.$$processScope||function(){};var n=Object.keys(this.defs).map(function(a){return"var "+a+' = defs["'+a+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var r=this.statements.join(";"),i=n.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+r,"  },","  code: '"+r+"'","}"].join(`
`),o=new Function("defs",i);return o(this.defs)};bh.prototype.parse=function(e){var t=this,n=new Fq().parse(e);return this.statements=n.blocks.map(function(r){return t.interpreter.next(r)}),this};var Hq=bh,Uq=Hq;function Kf(e){return typeof e=="object"&&typeof e.lo=="number"&&typeof e.hi=="number"}function se(e){return e.lo>e.hi}function Eh(e){return e.lo===-1/0&&e.hi===1/0}function Ka(e){return e.lo===e.hi}function us(e){return Ny(e,0)}function Ny(e,t){return se(e)?!1:e.lo<=t&&t<=e.hi}function s2(e,t){return se(e)?!0:!se(t)&&t.lo<=e.lo&&e.hi<=t.hi}function Ch(e,t){return se(e)||se(t)?!1:e.lo<=t.lo&&t.lo<=e.hi||t.lo<=e.lo&&e.lo<=t.hi}const Vq=Object.freeze(Object.defineProperty({__proto__:null,hasInterval:s2,hasValue:Ny,intervalsOverlap:Ch,isEmpty:se,isInterval:Kf,isSingleton:Ka,isWhole:Eh,zeroIn:us},Symbol.toStringTag,{value:"Module"}));var Ry={exports:{}};Ry.exports;(function(e){var t=!1;if(typeof Float64Array<"u"){var n=new Float64Array(1),r=new Uint32Array(n.buffer);if(n[0]=1,t=!0,r[1]===1072693248){let o=function(l,u){return r[0]=l,r[1]=u,n[0]},a=function(l){return n[0]=l,r[0]},s=function(l){return n[0]=l,r[1]};e.exports=function(u){return n[0]=u,[r[0],r[1]]},e.exports.pack=o,e.exports.lo=a,e.exports.hi=s}else if(r[0]===1072693248){let o=function(l,u){return r[1]=l,r[0]=u,n[0]},a=function(l){return n[0]=l,r[1]},s=function(l){return n[0]=l,r[0]};e.exports=function(u){return n[0]=u,[r[1],r[0]]},e.exports.pack=o,e.exports.lo=a,e.exports.hi=s}else t=!1}if(!t){let o=function(l,u){return i.writeUInt32LE(l,0,!0),i.writeUInt32LE(u,4,!0),i.readDoubleLE(0,!0)},a=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(0,!0)},s=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(4,!0)};var i=new Buffer(8);e.exports=function(u){return i.writeDoubleLE(u,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},e.exports.pack=o,e.exports.lo=a,e.exports.hi=s}e.exports.sign=function(o){return e.exports.hi(o)>>>31},e.exports.exponent=function(o){var a=e.exports.hi(o);return(a<<1>>>21)-1023},e.exports.fraction=function(o){var a=e.exports.lo(o),s=e.exports.hi(o),l=s&(1<<20)-1;return s&2146435072&&(l+=1<<20),[a,l]},e.exports.denormalized=function(o){var a=e.exports.hi(o);return!(a&2146435072)}})(Ry);var Bq=Ry.exports,nm=Bq,_x=Math.pow(2,-1074),Sx=-1>>>0,Yq=zq;function zq(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===t)return e;if(e===0)return t<0?-_x:_x;var n=nm.hi(e),r=nm.lo(e);return t>e==e>0?r===Sx?(n+=1,r=0):r+=1:r===0?(r=Sx,n-=1):r-=1,nm.pack(r,n)}const l2=No(Yq);function Wq(e){return e}function zg(e){return e===1/0?e:l2(e,-1/0)}function Wg(e){return e===-1/0?e:l2(e,1/0)}function xx(e){return e<0?Math.ceil(e):Math.floor(e)}const qo={prev:zg,next:Wg},U={safePrev:zg,safeNext:Wg,prev(e){return qo.prev(e)},next(e){return qo.next(e)},addLo(e,t){return U.prev(e+t)},addHi(e,t){return U.next(e+t)},subLo(e,t){return U.prev(e-t)},subHi(e,t){return U.next(e-t)},mulLo(e,t){return U.prev(e*t)},mulHi(e,t){return U.next(e*t)},divLo(e,t){return U.prev(e/t)},divHi(e,t){return U.next(e/t)},intLo(e){return xx(U.prev(e))},intHi(e){return xx(U.next(e))},logLo(e){return U.prev(Math.log(e))},logHi(e){return U.next(Math.log(e))},expLo(e){return U.prev(Math.exp(e))},expHi(e){return U.next(Math.exp(e))},sinLo(e){return U.prev(Math.sin(e))},sinHi(e){return U.next(Math.sin(e))},cosLo(e){return U.prev(Math.cos(e))},cosHi(e){return U.next(Math.cos(e))},tanLo(e){return U.prev(Math.tan(e))},tanHi(e){return U.next(Math.tan(e))},asinLo(e){return U.prev(Math.asin(e))},asinHi(e){return U.next(Math.asin(e))},acosLo(e){return U.prev(Math.acos(e))},acosHi(e){return U.next(Math.acos(e))},atanLo(e){return U.prev(Math.atan(e))},atanHi(e){return U.next(Math.atan(e))},sinhLo(e){return U.prev(Math.sinh(e))},sinhHi(e){return U.next(Math.sinh(e))},coshLo(e){return U.prev(Math.cosh(e))},coshHi(e){return U.next(Math.cosh(e))},tanhLo(e){return U.prev(Math.tanh(e))},tanhHi(e){return U.next(Math.tanh(e))},powLo(e,t){if(t%1!==0)return U.prev(Math.pow(e,t));let n=(t&1)===1?e:1;for(t>>=1;t>0;)e=U.mulLo(e,e),(t&1)===1&&(n=U.mulLo(e,n)),t>>=1;return n},powHi(e,t){if(t%1!==0)return U.next(Math.pow(e,t));let n=(t&1)===1?e:1;for(t>>=1;t>0;)e=U.mulHi(e,e),(t&1)===1&&(n=U.mulHi(e,n)),t>>=1;return n},sqrtLo(e){return U.prev(Math.sqrt(e))},sqrtHi(e){return U.next(Math.sqrt(e))},disable(){qo.next=qo.prev=Wq},enable(){qo.next=Wg,qo.prev=zg}};class jl{constructor(t,n){if(this.lo=0,this.hi=0,!(this instanceof jl))return console.log("calling with new"),console.log(t,n),new jl(t,n);if(typeof t<"u"&&typeof n<"u"){if(Kf(t)){if(!Ka(t))throw new TypeError("Interval: interval `lo` must be a singleton");t=t.lo}if(Kf(n)){if(!Ka(n))throw TypeError("Interval: interval `hi` must be a singleton");n=n.hi}}else{if(typeof t<"u")return Array.isArray(t)?new ee(t[0],t[1]):new ee(t,t);t=n=0}this.assign(t,n)}singleton(t){return this.set(t,t)}bounded(t,n){return this.set(U.prev(t),U.next(n))}boundedSingleton(t){return this.bounded(t,t)}set(t,n){return this.lo=t,this.hi=n,this}assign(t,n){if(typeof t!="number"||typeof n!="number")throw TypeError("Interval#assign: arguments must be numbers");return isNaN(t)||isNaN(n)||t>n?this.setEmpty():this.set(t,n)}setEmpty(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)}setWhole(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)}open(t,n){return this.assign(U.safeNext(t),U.safePrev(n))}halfOpenLeft(t,n){return this.assign(U.safeNext(t),n)}halfOpenRight(t,n){return this.assign(t,U.safePrev(n))}toArray(){return[this.lo,this.hi]}clone(){return new ee().set(this.lo,this.hi)}}function qq(e){function t(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return new(Function.prototype.bind.apply(e,[null].concat(r)))}return t.prototype=e.prototype,t}const ee=qq(jl);ee.factory=ee;const Qu=(3373259426+273688/(1<<21))/(1<<30),Gu=(3373259426+273689/(1<<21))/(1<<30),te={PI_LOW:Qu,PI_HIGH:Gu,PI_HALF_LOW:Qu/2,PI_HALF_HIGH:Gu/2,PI_TWICE_LOW:Qu*2,PI_TWICE_HIGH:Gu*2,get E(){return new ee(U.prev(Math.E),U.next(Math.E))},get PI(){return new ee(Qu,Gu)},get PI_HALF(){return new ee(te.PI_HALF_LOW,te.PI_HALF_HIGH)},get PI_TWICE(){return new ee(te.PI_TWICE_LOW,te.PI_TWICE_HIGH)},get ZERO(){return new ee(0)},get ONE(){return new ee(1)},get WHOLE(){return new ee().setWhole()},get EMPTY(){return new ee().setEmpty()}};function u2(e,t){return se(e)?se(t):!se(t)&&e.lo===t.lo&&e.hi===t.hi}const Qq=1e-7;function Xf(e,t){if(!e)throw new Error(t||"assertion failed")}function bx(e,t){if(!isFinite(e))return Xf(e===t,`[Infinity] expected ${e} to be ${t}`);Xf(Math.abs(e-t)<Qq,`expected ${e} to be close to ${t}`)}function Iy(e,t){e=Array.isArray(e)?e:e.toArray(),t=Array.isArray(t)?t:t.toArray(),bx(e[0],t[0]),bx(e[1],t[1])}function c2(e,t){Iy(e,t),e=Array.isArray(e)?e:e.toArray(),t=Array.isArray(t)?t:t.toArray(),Xf(e[0]<=t[0],`${e[0]} should be less/equal than ${t[0]}`),Xf(t[1]<=e[1],`${t[1]} should be less/equal than ${e[1]}`)}function f2(e,t){return se(e)?!se(t):se(t)||e.hi<t.lo||e.lo>t.hi}function Ly(e,t){return se(e)||se(t)?!1:e.hi<t.lo}const d2=Ly;function Ay(e,t){return se(e)||se(t)?!1:e.lo>t.hi}const h2=Ay;function Fy(e,t){return se(e)||se(t)?!1:e.hi<=t.lo}const p2=Fy;function $y(e,t){return se(e)||se(t)?!1:e.lo>=t.hi}const m2=$y,Gq=Object.freeze(Object.defineProperty({__proto__:null,almostEqual:Iy,assertIncludes:c2,equal:u2,geq:m2,greaterEqualThan:$y,greaterThan:Ay,gt:h2,leq:p2,lessEqualThan:Fy,lessThan:Ly,lt:d2,notEqual:f2},Symbol.toStringTag,{value:"Module"}));function Kq(e,t){const n=e.lo,r=e.hi,i=t.lo,o=t.hi,a=new ee;return r<0?o<0?(a.lo=U.divLo(r,i),a.hi=U.divHi(n,o)):(a.lo=U.divLo(n,i),a.hi=U.divHi(r,o)):n<0?o<0?(a.lo=U.divLo(r,o),a.hi=U.divHi(n,o)):(a.lo=U.divLo(n,i),a.hi=U.divHi(r,i)):o<0?(a.lo=U.divLo(r,o),a.hi=U.divHi(n,i)):(a.lo=U.divLo(n,o),a.hi=U.divHi(r,i)),a}function Xq(e,t){return e.lo===0&&e.hi===0?e:us(e)?te.WHOLE:e.hi<0?new ee(Number.NEGATIVE_INFINITY,U.divHi(e.hi,t)):new ee(U.divLo(e.lo,t),Number.POSITIVE_INFINITY)}function Zq(e,t){return e.lo===0&&e.hi===0?e:us(e)?te.WHOLE:e.hi<0?new ee(U.divLo(e.hi,t),Number.POSITIVE_INFINITY):new ee(Number.NEGATIVE_INFINITY,U.divHi(e.lo,t))}function Jq(e){return e.lo===0&&e.hi===0?e:te.WHOLE}function g2(e,t){return new ee(U.addLo(e.lo,t.lo),U.addHi(e.hi,t.hi))}function jy(e,t){return new ee(U.subLo(e.lo,t.hi),U.subHi(e.hi,t.lo))}const cs=jy;function Hy(e,t){if(se(e)||se(t))return te.EMPTY;const n=e.lo,r=e.hi,i=t.lo,o=t.hi,a=new ee;return n<0?r>0?i<0?o>0?(a.lo=Math.min(U.mulLo(n,o),U.mulLo(r,i)),a.hi=Math.max(U.mulHi(n,i),U.mulHi(r,o))):(a.lo=U.mulLo(r,i),a.hi=U.mulHi(n,i)):o>0?(a.lo=U.mulLo(n,o),a.hi=U.mulHi(r,o)):(a.lo=0,a.hi=0):i<0?o>0?(a.lo=U.mulLo(n,o),a.hi=U.mulHi(n,i)):(a.lo=U.mulLo(r,o),a.hi=U.mulHi(n,i)):o>0?(a.lo=U.mulLo(n,o),a.hi=U.mulHi(r,i)):(a.lo=0,a.hi=0):r>0?i<0?o>0?(a.lo=U.mulLo(r,i),a.hi=U.mulHi(r,o)):(a.lo=U.mulLo(r,i),a.hi=U.mulHi(n,o)):o>0?(a.lo=U.mulLo(n,i),a.hi=U.mulHi(r,o)):(a.lo=0,a.hi=0):(a.lo=0,a.hi=0),a}const Uy=Hy;function Vy(e,t){return se(e)||se(t)?te.EMPTY:us(t)?t.lo!==0?t.hi!==0?Jq(e):Zq(e,t.lo):t.hi!==0?Xq(e,t.hi):te.EMPTY:Kq(e,t)}const Th=Vy;function v2(e){return new ee(e.lo,e.hi)}function kh(e){return new ee(-e.hi,-e.lo)}const eQ=Object.freeze(Object.defineProperty({__proto__:null,add:g2,div:Th,divide:Vy,mul:Uy,multiply:Hy,negative:kh,positive:v2,sub:cs,subtract:jy},Symbol.toStringTag,{value:"Module"}));function Mh(e,t){if(se(e)||se(t))return te.EMPTY;const n=e.lo<0?t.lo:t.hi;let r=e.lo/n;return r<0?r=Math.ceil(r):r=Math.floor(r),cs(e,Uy(t,new ee(r)))}function By(e){return se(e)?te.EMPTY:us(e)?e.lo!==0?e.hi!==0?te.WHOLE:new ee(Number.NEGATIVE_INFINITY,U.divHi(1,e.lo)):e.hi!==0?new ee(U.divLo(1,e.hi),Number.POSITIVE_INFINITY):te.EMPTY:new ee(U.divLo(1,e.hi),U.divHi(1,e.lo))}function Yy(e,t){if(se(e))return te.EMPTY;if(typeof t=="object"){if(!Ka(t))return te.EMPTY;t=t.lo}if(t===0)return e.lo===0&&e.hi===0?te.EMPTY:te.ONE;if(t<0)return Yy(By(e),-t);if(Number.isSafeInteger(t))if(e.hi<0){const n=U.powLo(-e.hi,t),r=U.powHi(-e.lo,t);return(t&1)===1?new ee(-r,-n):new ee(n,r)}else return e.lo<0?(t&1)===1?new ee(-U.powLo(-e.lo,t),U.powHi(e.hi,t)):new ee(0,U.powHi(Math.max(-e.lo,e.hi),t)):new ee(U.powLo(e.lo,t),U.powHi(e.hi,t));else return console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),te.EMPTY}function y2(e){return zy(e,2)}function zy(e,t){if(se(e)||t<0)return te.EMPTY;if(typeof t=="object"){if(!Ka(t))return te.EMPTY;t=t.lo}const n=1/t;if(e.hi<0){if(Number.isSafeInteger(t)&&(t&1)===1){const r=U.powHi(-e.lo,n),i=U.powLo(-e.hi,n);return new ee(-r,-i)}return te.EMPTY}else if(e.lo<0){const r=U.powHi(e.hi,n);if(Number.isSafeInteger(t)&&(t&1)===1){const i=-U.powHi(-e.lo,n);return new ee(i,r)}return new ee(0,r)}else return new ee(U.powLo(e.lo,n),U.powHi(e.hi,n))}const tQ=Object.freeze(Object.defineProperty({__proto__:null,fmod:Mh,multiplicativeInverse:By,nthRoot:zy,pow:Yy,sqrt:y2},Symbol.toStringTag,{value:"Module"}));function w2(e){return se(e)?te.EMPTY:new ee(U.expLo(e.lo),U.expHi(e.hi))}function Vo(e){if(se(e))return te.EMPTY;const t=e.lo<=0?Number.NEGATIVE_INFINITY:U.logLo(e.lo);return new ee(t,U.logHi(e.hi))}const _2=Vo,Wy=Vo(new ee(10,10));function S2(e){return se(e)?te.EMPTY:Th(Vo(e),Wy)}const qy=Vo(new ee(2,2));function x2(e){return se(e)?te.EMPTY:Th(Vo(e),qy)}function b2(e,t){const n=se(e),r=se(t);return n&&r?te.EMPTY:n?t.clone():r?e.clone():new ee(Math.min(e.lo,t.lo),Math.max(e.hi,t.hi))}function E2(e,t){if(se(e)||se(t))return te.EMPTY;const n=Math.max(e.lo,t.lo),r=Math.min(e.hi,t.hi);return n<=r?new ee(n,r):te.EMPTY}function C2(e,t){if(!Ch(e,t))throw Error("Interval#union: intervals do not overlap");return new ee(Math.min(e.lo,t.lo),Math.max(e.hi,t.hi))}function T2(e,t){if(se(e)||Eh(t))return te.EMPTY;if(Ch(e,t)){if(e.lo<t.lo&&t.hi<e.hi)throw Error("Interval.difference: difference creates multiple intervals");return t.lo<=e.lo&&t.hi===1/0||t.hi>=e.hi&&t.lo===-1/0?te.EMPTY:t.lo<=e.lo?new ee().halfOpenLeft(t.hi,e.hi):new ee().halfOpenRight(e.lo,t.lo)}return e.clone()}function Dh(e){return se(e)?0:U.subHi(e.hi,e.lo)}const k2=Dh;function M2(e){return se(e)||Eh(e)?te.EMPTY:e.lo>=0?e.clone():e.hi<=0?kh(e):new ee(0,Math.max(-e.lo,e.hi))}function D2(e,t){const n=se(e),r=se(t);return n&&r?te.EMPTY:n?t.clone():r?e.clone():new ee(Math.max(e.lo,t.lo),Math.max(e.hi,t.hi))}function O2(e,t){const n=se(e),r=se(t);return n&&r?te.EMPTY:n?t.clone():r?e.clone():new ee(Math.min(e.lo,t.lo),Math.min(e.hi,t.hi))}function P2(e){return new ee().set(e.lo,e.hi)}const nQ=Object.freeze(Object.defineProperty({__proto__:null,LOG_EXP_10:Wy,LOG_EXP_2:qy,abs:M2,clone:P2,difference:T2,exp:w2,hull:b2,intersection:E2,ln:_2,log:Vo,log10:S2,log2:x2,max:D2,min:O2,union:C2,wid:k2,width:Dh},Symbol.toStringTag,{value:"Module"}));function Qy(e){return!isFinite(e.lo)&&e.lo===e.hi}function N2(e){if(e.lo<0)if(e.lo===-1/0)e.lo=0,e.hi=1/0;else{const t=Math.ceil(-e.lo/te.PI_TWICE_LOW);e.lo+=te.PI_TWICE_LOW*t,e.hi+=te.PI_TWICE_LOW*t}return e}function Oh(e){if(se(e)||Qy(e))return te.EMPTY;const t=new ee().set(e.lo,e.hi);N2(t);const n=te.PI_TWICE,r=Mh(t,n);if(Dh(r)>=n.lo)return new ee(-1,1);if(r.lo>=te.PI_HIGH){const l=Oh(cs(r,te.PI));return kh(l)}const i=r.lo,o=r.hi,a=U.cosLo(o),s=U.cosHi(i);return o<=te.PI_LOW?new ee(a,s):o<=n.lo?new ee(-1,Math.max(a,s)):new ee(-1,1)}function R2(e){return se(e)||Qy(e)?te.EMPTY:Oh(cs(e,te.PI_HALF))}function I2(e){if(se(e)||Qy(e))return te.EMPTY;const t=new ee().set(e.lo,e.hi);N2(t);const n=te.PI;let r=Mh(t,n);return r.lo>=te.PI_HALF_LOW&&(r=cs(r,n)),r.lo<=-te.PI_HALF_LOW||r.hi>=te.PI_HALF_LOW?te.WHOLE:new ee(U.tanLo(r.lo),U.tanHi(r.hi))}function L2(e){if(se(e)||e.hi<-1||e.lo>1)return te.EMPTY;const t=e.lo<=-1?-te.PI_HALF_HIGH:U.asinLo(e.lo),n=e.hi>=1?te.PI_HALF_HIGH:U.asinHi(e.hi);return new ee(t,n)}function A2(e){if(se(e)||e.hi<-1||e.lo>1)return te.EMPTY;const t=e.hi>=1?0:U.acosLo(e.hi),n=e.lo<=-1?te.PI_HIGH:U.acosHi(e.lo);return new ee(t,n)}function F2(e){return se(e)?te.EMPTY:new ee(U.atanLo(e.lo),U.atanHi(e.hi))}function $2(e){return se(e)?te.EMPTY:new ee(U.sinhLo(e.lo),U.sinhHi(e.hi))}function j2(e){return se(e)?te.EMPTY:e.hi<0?new ee(U.coshLo(e.hi),U.coshHi(e.lo)):e.lo>=0?new ee(U.coshLo(e.lo),U.coshHi(e.hi)):new ee(1,U.coshHi(-e.lo>e.hi?e.lo:e.hi))}function H2(e){return se(e)?te.EMPTY:new ee(U.tanhLo(e.lo),U.tanhHi(e.hi))}const rQ=Object.freeze(Object.defineProperty({__proto__:null,acos:A2,asin:L2,atan:F2,cos:Oh,cosh:j2,sin:R2,sinh:$2,tan:I2,tanh:H2},Symbol.toStringTag,{value:"Module"})),iQ=Object.assign(ee,te,U,nQ,Vq,Gq,eQ,tQ,rQ,{round:U}),oQ=Object.freeze(Object.defineProperty({__proto__:null,Interval:jl,LOG_EXP_10:Wy,LOG_EXP_2:qy,abs:M2,acos:A2,add:g2,almostEqual:Iy,asin:L2,assertIncludes:c2,atan:F2,clone:P2,constants:te,cos:Oh,cosh:j2,default:iQ,difference:T2,div:Th,divide:Vy,equal:u2,exp:w2,fmod:Mh,geq:m2,greaterEqualThan:$y,greaterThan:Ay,gt:h2,hasInterval:s2,hasValue:Ny,hull:b2,intersection:E2,intervalsOverlap:Ch,isEmpty:se,isInterval:Kf,isSingleton:Ka,isWhole:Eh,leq:p2,lessEqualThan:Fy,lessThan:Ly,ln:_2,log:Vo,log10:S2,log2:x2,lt:d2,max:D2,min:O2,mul:Uy,multiplicativeInverse:By,multiply:Hy,negative:kh,notEqual:f2,nthRoot:zy,positive:v2,pow:Yy,round:U,sin:R2,sinh:$2,sqrt:y2,sub:cs,subtract:jy,tan:I2,tanh:H2,union:C2,wid:k2,width:Dh,zeroIn:us},Symbol.toStringTag,{value:"Module"})),aQ=ii(oQ);var sQ=function(e){e.mod=e.fmod,e.lessThan=e.lt,e.lessEqualThan=e.leq,e.greaterThan=e.gt,e.greaterEqualThan=e.geq,e.strictlyEqual=e.equal,e.strictlyNotEqual=e.notEqual,e.logicalAND=function(t,n){return t&&n},e.logicalXOR=function(t,n){return t^n},e.logicalOR=function(t,n){return t||n}},lQ=function(e){return{disableRounding:function(){e.round.disable()},enableRounding:function(){e.round.enable()}}};const uQ=Uq,Xa=aQ.default;sQ(Xa);function cQ(e){Object.keys(e).forEach(function(t){const n=e[t];typeof n=="number"||Array.isArray(n)?e[t]=Xa.factory(n):typeof n=="object"&&"lo"in n&&"hi"in n&&(e[t]=Xa.factory(n.lo,n.hi))})}Sh.exports=function(e){return new uQ().setDefs({$$processScope:cQ}).parse(e).compile(Xa)};Sh.exports.policies=lQ(Xa);Sh.exports.Interval=Xa;var fQ=Sh.exports,U2=fQ,V2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(An,"__esModule",{value:!0});An.interval=An.builtIn=void 0;const dQ=V2(xq),hQ=V2(U2),B2={interval:hQ.default,builtIn:dQ.default};function pQ(){return typeof pe=="object"&&"math"in pe?pe.math:typeof window=="object"&&"math"in window?window.math:null}const qg=pQ();qg&&(B2.builtIn=qg.compile);function Y2(e){function t(o){if(typeof o=="string"){const a=B2[e](o);return qg&&e==="builtIn"?{eval:a.evaluate||a.eval}:a}else{if(typeof o=="function")return{eval:o};throw Error("expression must be a string or a function")}}function n(o,a){const s=o[a],l=e+"_Expression_"+a,u=e+"_Compiled_"+a;s!==o[l]&&(o[l]=s,o[u]=t(s))}function r(o,a){return o[e+"_Compiled_"+a]}function i(o,a,s){return n(o,a),r(o,a).eval(Object.assign({},o.scope||{},s))}return i}const mQ=Y2("builtIn");An.builtIn=mQ;const gQ=Y2("interval");An.interval=gQ;var z2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gy,"__esModule",{value:!0});const vQ=Zd,yQ=Er,Ki=z2(Kn),Ex=z2(li),Cx=An;function wQ(e){e=Object.assign({xLine:!1,yLine:!1,renderer:function(s,l){return"("+s.toFixed(3)+", "+l.toFixed(3)+")"},owner:null},e);const t=20,n=(0,vQ.line)().x(function(s){return s[0]}).y(function(s){return s[1]});function r(s,l){return s.append("path").datum(l).attr("stroke","grey").attr("stroke-dasharray","5,5").attr("opacity",.5).attr("d",n)}let i,o;function a(s){const l=s.selectAll("g.tip").data(function(c){return[c]}),u=l.enter().append("g").attr("class","tip").attr("clip-path","url(#function-plot-clip-"+e.owner.id+")");i=l.merge(u).selectAll("g.inner-tip").data(function(c){return[c]}),o=i.enter().append("g").attr("class","inner-tip").style("display","none").each(function(){const c=(0,yQ.select)(this);r(c,[[0,-e.owner.meta.height-t],[0,e.owner.meta.height+t]]).attr("class","tip-x-line").style("display","none"),r(c,[[-e.owner.meta.width-t,0],[e.owner.meta.width+t,0]]).attr("class","tip-y-line").style("display","none"),c.append("circle").attr("r",3),c.append("text").attr("transform","translate(5,-5)")}),i.merge(o).selectAll(".tip-x-line").style("display",e.xLine?null:"none"),i.merge(o).selectAll(".tip-y-line").style("display",e.yLine?null:"none")}return a.move=function(s){let l,u=1/0,c=-1,f,d;const h=i.merge(o),m=e.owner.meta,g=h.datum().data,v=m.xScale,p=m.yScale,w=m.width,y=m.height,x=s.x,E=s.y;for(l=0;l<g.length;l+=1){if(g[l].skipTip||g[l].fnType!=="linear")continue;const b=g[l].range||[-Ki.default.infinity(),Ki.default.infinity()];let C;if(x>b[0]-Ex.default.TIP_X_EPS&&x<b[1]+Ex.default.TIP_X_EPS){try{C=(0,Cx.builtIn)(g[l],"fn",{x})}catch{}if(Ki.default.isValidNumber(C)){const k=Math.abs(C-E);k<u&&(u=k,c=l)}}}if(c!==-1){f=x,g[c].range&&(f=Math.max(f,g[c].range[0]),f=Math.min(f,g[c].range[1])),d=(0,Cx.builtIn)(g[c],"fn",{x:f}),a.show(),e.owner.emit("tip:update",{x:f,y:d,index:c});const b=Ki.default.clamp(f,v.invert(-t),v.invert(w+t)),C=Ki.default.clamp(d,p.invert(y+t),p.invert(-t)),k=Ki.default.color(g[c],c);h.style("color","red"),h.attr("transform","translate("+v(b)+","+p(C)+")"),h.select("circle").attr("fill",k),h.select("text").attr("fill",k).text(e.renderer(f,d,c))}else a.hide()},a.show=function(){i.merge(o).style("display",null)},a.hide=function(){i.merge(o).style("display","none")},Object.keys(e).forEach(function(s){Ki.default.getterSetter.call(a,e,s)}),a}gy.default=wQ;var Ph={},Gy={},sn={},Ky={},lu={},Xy={},_Q=pe&&pe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),SQ=pe&&pe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xQ=pe&&pe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&_Q(t,e,n);return SQ(t,e),t},bQ=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xy,"__esModule",{value:!0});const so=xQ(U2),W2=An,EQ=bQ(Kn);so.default.policies.disableRounding();function CQ(e){const t=EQ.default.space(e.xAxis,e.range,e.nSamples),n=e.xScale,r=e.yScale,i=r.domain()[0],o=r.domain()[1],a=[];let s;for(s=0;s<t.length-1;s+=1){const l={lo:t[s],hi:t[s+1]},u=(0,W2.interval)(e.d,"fn",{x:l});!so.Interval.isEmpty(u)&&!so.Interval.isWhole(u)&&a.push([l,u]),so.Interval.isWhole(u)&&a.push(null)}for(s=1;s<a.length-1;s+=1)if(!a[s]){const l=a[s-1],u=a[s+1];l&&u&&!so.Interval.intervalsOverlap(l[1],u[1])&&(l[1].lo>u[1].hi&&(l[1].hi=Math.max(o,l[1].hi),u[1].lo=Math.min(i,u[1].lo)),l[1].hi<u[1].lo&&(l[1].lo=Math.min(i,l[1].lo),u[1].hi=Math.max(o,u[1].hi)))}return a.scaledDx=n(t[1])-n(t[0]),[a]}let q2;function TQ(e,t){return so.Interval.width(e)<q2}function Gs(e,t,n){const r=(0,W2.interval)(n,"fn",{x:e,y:t});if(!so.Interval.zeroIn(r))return this;if(TQ(e))return this.push([e,t]),this;const o=e.lo+(e.hi-e.lo)/2,a=t.lo+(t.hi-t.lo)/2,s={lo:o,hi:e.hi},l={lo:e.lo,hi:o},u={lo:a,hi:t.hi},c={lo:t.lo,hi:a};Gs.call(this,s,u,n),Gs.call(this,s,c,n),Gs.call(this,l,u,n),Gs.call(this,l,c,n)}function kQ(e){const t=e.xScale,n=e.xScale.domain(),r=e.yScale.domain(),i={lo:n[0],hi:n[1]},o={lo:r[0],hi:r[1]},a=[];return q2=t.invert(1)-t.invert(0),Gs.call(a,i,o,e.d),a.scaledDx=1,[a]}const MQ=function(t){const n={implicit:kQ,linear:CQ};if(!Object.hasOwn(n,t.d.fnType))throw Error(t.d.fnType+" is not supported in the `interval` sampler");return n[t.d.fnType].apply(null,arguments)};Xy.default=MQ;var Zy={},DQ=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zy,"__esModule",{value:!0});const Ft=DQ(Kn),Hl=An;function Q2(e,t,n,r,i){if(!i)return{asymptote:!0,d0:e,d1:t};const o=10,a=e[0],s=t[0],l=Ft.default.linspace(a,s,o);let u,c;for(let f=0;f<o;f+=1){const d=l[f],h=(0,Hl.builtIn)(n,"fn",{x:d});if(u){const m=h-u;if(Ft.default.sgn(m)===r)return Q2([c,u],[d,h],n,r,i-1)}u=h,c=d}return{asymptote:!1,d0:e,d1:t}}function OQ(e,t,n){let r;const i=[],o=n.domain()[0]-Ft.default.infinity(),a=n.domain()[1]+Ft.default.infinity();let s=[t[0]],l=1,u=Ft.default.infinity();for(;l<t.length;){const c=t[l-1][1],d=t[l][1]-c,h=Ft.default.sgn(d);if(s.length>=2&&r!==h&&Math.abs(d/u)>1){const m=Q2(t[l-1],t[l],e,h,3);m.asymptote?(t[l-1][0]=m.d0[0],t[l-1][1]=Ft.default.clamp(m.d0[1],o,a),i.push(s),t[l][0]=m.d1[0],t[l][1]=Ft.default.clamp(m.d1[1],o,a),s=[t[l]]):s.push(t[l])}else s.push(t[l]);s.length>1&&(u=s[s.length-1][0]-s[s.length-2][0],r=h),++l}return s.length&&i.push(s),i}function PQ(e){const t=Ft.default.space(e.xAxis,e.range,e.nSamples),n=e.yScale.domain(),r=n[0]-Ft.default.infinity(),i=n[1]+Ft.default.infinity(),o=[];for(let s=0;s<t.length;s+=1){const l=t[s];let u=(0,Hl.builtIn)(e.d,"fn",{x:l});Ft.default.isValidNumber(l)&&Ft.default.isValidNumber(u)&&(u=Ft.default.clamp(u,r,i),o.push([l,u]))}return OQ(e.d,o,e.yScale)}function NQ(e){const t=e.d.range||[0,2*Math.PI],n=Ft.default.space(e.xAxis,t,e.nSamples),r=[];for(let i=0;i<n.length;i+=1){const o=n[i],a=(0,Hl.builtIn)(e.d,"x",{t:o}),s=(0,Hl.builtIn)(e.d,"y",{t:o});r.push([a,s])}return[r]}function RQ(e){const t=e.d.range||[-Math.PI,Math.PI],n=Ft.default.space(e.xAxis,t,e.nSamples),r=[];for(let i=0;i<n.length;i+=1){const o=n[i],a=(0,Hl.builtIn)(e.d,"r",{theta:o}),s=a*Math.cos(o),l=a*Math.sin(o);r.push([s,l])}return[r]}function IQ(e){return[e.d.points]}function LQ(e){const t=e.d;return t.offset=t.offset||[0,0],[[t.offset,[t.vector[0]+t.offset[0],t.vector[1]+t.offset[1]]]]}const AQ=function(t){const n={parametric:NQ,polar:RQ,points:IQ,vector:LQ,linear:PQ};if(!(t.d.fnType in n))throw Error(t.d.fnType+" is not supported in the `builtIn` sampler");return n[t.d.fnType].apply(null,arguments)};Zy.default=AQ;var Jy=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lu,"__esModule",{value:!0});const Tx=Jy(li),FQ=Jy(Xy),$Q=Jy(Zy);function jQ(e,t){const n=t.range||[-1/0,1/0],r=Math.max(e.domain()[0],n[0]),i=Math.min(e.domain()[1],n[1]);return[r,i]}function HQ(e,t){const n=jQ(e.meta.xScale,t);let r;if(t.sampler==="builtIn")r=$Q.default;else if(t.sampler==="interval")r=FQ.default;else throw new Error(`Invalid sampler function ${t.sampler}`);const i=t.nSamples||Math.min(Tx.default.MAX_ITERATIONS,Tx.default.DEFAULT_ITERATIONS||e.meta.width*2),o=r({d:t,range:n,xScale:e.meta.xScale,yScale:e.meta.yScale,xAxis:e.options.xAxis,yAxis:e.options.yAxis,nSamples:i});return e.emit("eval",o,t.index,t.isHelper),o}lu.default=HQ;var G2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ky,"__esModule",{value:!0});const kx=Er,rm=Zd,Ku=G2(Kn),UQ=G2(lu);function VQ(e){function t(n){n.each(function(r){const i=t.el=(0,kx.select)(this),o=r.index,a=(0,UQ.default)(e,r),s=Ku.default.color(r,o),l=i.selectAll(":scope > path.line").data(a),u=e.meta.yScale.range();let c=u[0],f=u[1];const d=c-f;c+=d*1e6,f-=d*1e6,r.skipBoundsCheck&&(c=Ku.default.infinity(),f=-Ku.default.infinity());function h(w){return Ku.default.clamp(e.meta.yScale(w[1]),f,c)}const m=(0,rm.line)().curve(rm.curveLinear).x(function(w){return e.meta.xScale(w[0])}).y(h),g=(0,rm.area)().x(function(w){return e.meta.xScale(w[0])}).y0(e.meta.yScale(0)).y1(h),v=`line line-${o}`,p=l.enter().append("path").attr("class",v).attr("stroke-width",1).attr("stroke-linecap","round");l.merge(p).each(function(){const w=(0,kx.select)(this);let y;if(r.closed?(w.attr("fill",s),w.attr("fill-opacity",.3),y=g):(w.attr("fill","none"),y=m),w.attr("stroke",s).attr("marker-end",function(){return r.fnType==="vector"?"url(#"+e.markerId+")":null}).attr("d",y),r.attr)for(const x in r.attr){let E=r.attr[x];x==="class"&&(E=`${v} ${r.attr[x]}`),w.attr(x,E)}}),l.exit().remove()})}return t}Ky.default=VQ;var e1={},K2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e1,"__esModule",{value:!0});const BQ=Er,YQ=K2(lu),zQ=K2(Kn);function WQ(e){let t;const n=e.meta.xScale,r=e.meta.yScale;function i(s,l,u,c){if(u>c){const h=u;u=c,c=h}const f=Math.min(l,c),d=Math.max(s,u);return d>f?[-t,0]:[d,f]}const o=function(s,l){let u="";const c=r.range(),f=Math.min.apply(Math,c),d=Math.max.apply(Math,c);for(let h=0,m=s.length;h<m;h+=1)if(s[h]){const g=s[h][0],v=s[h][1];let p=v.lo,w=v.hi;l&&(p=Math.min(p,0),w=Math.max(w,0));const y=n(g.lo)+s.scaledDx/2,x=i(f,d,isFinite(w)?r(w):-1/0,isFinite(p)?r(p):1/0),E=x[0],b=x[1];u+=" M "+y+" "+E,u+=" v "+Math.max(b-E,t)}return u};function a(s){s.each(function(l){const u=a.el=(0,BQ.select)(this),c=l.index,f=l.closed,d=(0,YQ.default)(e,l),h=u.selectAll(":scope > path.line").data(d);t=Math.max(d[0].scaledDx,1);const m=`line line-${c}`,g=h.enter().append("path").attr("class",m).attr("fill","none"),v=h.merge(g).attr("stroke-width",t).attr("stroke",zQ.default.color(l,c)).attr("opacity",f?.5:1).attr("d",function(p){return o(p,f)});if(l.attr)for(const p in l.attr){let w=l.attr[p];p==="class"&&(w=`${m} ${l.attr[p]}`),v.attr(p,w)}h.exit().remove()})}return a}e1.default=WQ;var t1={},X2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t1,"__esModule",{value:!0});const qQ=Er,QQ=vy,GQ=X2(Kn),KQ=X2(lu);function XQ(e){const t=e.meta.xScale,n=e.meta.yScale;function r(i){i.each(function(o){let a,s;const l=o.index,u=GQ.default.color(o,l),c=(0,KQ.default)(e,o),f=[];for(a=0;a<c.length;a+=1)for(s=0;s<c[a].length;s+=1)f.push(c[a][s]);const d=(0,qQ.select)(this).selectAll(":scope > circle.scatter").data(f),h=`scatter scatter-${l}`,m=d.enter().append("circle").attr("class",h),g=d.merge(m).attr("fill",(0,QQ.hsl)(u.toString()).brighter(1.5).formatHex()).attr("stroke",u).attr("opacity",.7).attr("r",1).attr("cx",function(v){return t(v[0])}).attr("cy",function(v){return n(v[1])});if(o.attr)for(const v in o.attr){let p=o.attr[v];v==="class"&&(p=`${h} ${o.attr[v]}`),g.attr(v,p)}d.exit().remove()})}return r}t1.default=XQ;var n1={},ZQ=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n1,"__esModule",{value:!0});const JQ=Er,eG=vy,tG=ZQ(Kn);function nG(e){const t=e.meta.xScale,n=e.meta.yScale;function r(i){i.each(function(o){o.sampler="builtIn",o.fnType="vector";const a=(0,JQ.select)(this).selectAll(":scope > text.fn-text").data([o.location]),s=a.enter().append("text").attr("class",`fn-text fn-text-${o.index}`),l=tG.default.color(o,o.index),u=a.merge(s).attr("fill",(0,eG.hsl)(l.toString()).brighter(1.5).formatHex()).attr("x",c=>t(c[0])).attr("y",c=>n(c[1])).text(()=>o.text);if(o.attr)for(const c in o.attr)u.attr(c,o.attr[c]);a.exit().remove()})}return r}n1.default=nG;var Nh=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});sn.text=sn.scatter=sn.interval=sn.polyline=void 0;const rG=Nh(Ky);sn.polyline=rG.default;const iG=Nh(e1);sn.interval=iG.default;const oG=Nh(t1);sn.scatter=oG.default;const aG=Nh(n1);sn.text=aG.default;var uu={};Object.defineProperty(uu,"__esModule",{value:!0});function sG(e){return"graphType"in e||(e.graphType="interval"),"sampler"in e||(e.sampler=e.graphType!=="interval"?"builtIn":"interval"),"fnType"in e||(e.fnType="linear"),e}uu.default=sG;var Z2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gy,"__esModule",{value:!0});const lG=Er,uG=sn,Mx=An,cG=Z2(uu),fG=Z2(Kn);function dG(e){const t=(0,cG.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function n(o){if(!o.derivative)return[];const a=typeof o.derivative.x0=="number"?o.derivative.x0:fG.default.infinity();return t.index=o.index,t.scope={m:(0,Mx.builtIn)(o.derivative,"fn",{x:a}),x0:a,y0:(0,Mx.builtIn)(o,"fn",{x:a})},t.fn="m * (x - x0) + y0",[t]}function r(o){const a=this;o.derivative&&o.derivative.updateOnMouseMove&&!o.derivative.$$mouseListener&&(o.derivative.$$mouseListener=function({x:s}){o.derivative&&(o.derivative.x0=s),i(a)},e.on("tip:update",o.derivative.$$mouseListener))}const i=function(o){o.each(function(a){const s=(0,lG.select)(this),l=n.call(o,a);r.call(o,a);const u=s.selectAll("g.derivative").data(l),c=u.enter().append("g").attr("class","derivative");u.merge(c).call((0,uG.polyline)(e)),u.merge(c).selectAll("path").attr("opacity",.5),u.exit().remove()})};return i}Gy.default=dG;var r1={},J2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r1,"__esModule",{value:!0});const hG=Er,Dx=An,pG=J2(uu),mG=sn,gG=J2(Kn);function vG(e){const t=(0,pG.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function n(l){l.m=(l.y1-l.y0)/(l.x1-l.x0)}function r(l,u){if(!("x0"in u))throw Error("secant must have the property `x0` defined");u.scope=u.scope||{};const c=u.x0,f=typeof u.x1=="number"?u.x1:gG.default.infinity();Object.assign(u.scope,{x0:c,x1:f,y0:(0,Dx.builtIn)(l,"fn",{x:c}),y1:(0,Dx.builtIn)(l,"fn",{x:f})}),n(u.scope)}function i(l,u){r(l,u),u.fn="m * (x - x0) + y0"}function o(l,u){const c=this;u.updateOnMouseMove&&!u.$$mouseListener&&(u.$$mouseListener=function({x:f}){u.x1=f,r(l,u),s(c)},e.on("tip:update",u.$$mouseListener))}function a(l){const u=this,c=[];l.secants=l.secants||[];for(let f=0;f<l.secants.length;f+=1){const d=l.secants[f]=Object.assign({},t,l.secants[f]);d.index=l.index,d.fn||(i.call(u,l,d),o.call(u,l,d)),c.push(d)}return c}function s(l){l.each(function(u){const c=(0,hG.select)(this),f=a.call(l,u),d=c.selectAll("g.secant").data(f),h=d.enter().append("g").attr("class","secant");d.merge(h).call((0,mG.polyline)(e)),d.merge(h).selectAll("path").attr("opacity",.5),d.exit().remove()})}return s}r1.default=vG;var eO=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ph,"__esModule",{value:!0});const yG=Er,wG=eO(Gy),_G=eO(r1);function SG(e){function t(n){n.each(function(){const r=(0,yG.select)(this);r.call((0,wG.default)(e)),r.call((0,_G.default)(e))})}return t}Ph.default=SG;var fs=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zd,"__esModule",{value:!0});zd.Chart=void 0;const xG=Zd,bG=gV,Ox=GY,Px=sz,EG=pW,Xu=Er,Nx=mW,CG=fs(xW),TG=fs(my),kG=fs(gy),MG=fs(Ph),DG=fs(uu),Zu=fs(li);function Rx(e){return e==="linear"?Ox.scaleLinear:Ox.scaleLog}class Rh extends CG.default.EventEmitter{constructor(t){super();const n=Math.random(),r=String.fromCharCode(Math.floor(n*26)+97);this.options=t,this.id=r+n.toString(16).substr(2),this.options.id=this.id,this.markerId=this.id+"-marker",Rh.cache[this.id]=this,this.linkedGraphs=[this],this.meta={},this.setUpEventListeners()}build(){return this.internalVars(),this.drawGraphWrapper(),this}getDraggableNode(){return(0,Xu.select)(this.options.target).select(".zoom-and-drag").node()}getEmitInstance(){let t=this;const n=this.getDraggableNode();return n&&(t=n.instance),t}internalVars(){const t=this.meta.margin={left:40,right:20,top:20,bottom:20};this.options.title&&(this.meta.margin.top=40),this.meta.width=(this.options.width||Zu.default.DEFAULT_WIDTH)-t.left-t.right,this.meta.height=(this.options.height||Zu.default.DEFAULT_HEIGHT)-t.top-t.bottom,this.initializeAxes()}initializeAxes(){const t=this,n=(0,bG.format)("~s");function r(s){return Math.abs(s)-Math.floor(Math.abs(s))>0?s.toString():n(s)}function i(s){const l=s[1]-s[0];return t.meta.height*l/t.meta.width}this.options.xAxis=this.options.xAxis||{},this.options.xAxis.type=this.options.xAxis.type||"linear",this.options.yAxis=this.options.yAxis||{},this.options.yAxis.type=this.options.yAxis.type||"linear";const o=this.meta.xDomain=function(s){if(s.domain)return s.domain;if(s.type==="linear")return[-12/2,12/2];if(s.type==="log")return[1,10];throw Error("axis type "+s.type+" unsupported")}(this.options.xAxis),a=this.meta.yDomain=function(s){if(s.domain)return s.domain;const l=i(o);if(s.type==="linear")return[-l/2,l/2];if(s.type==="log")return[1,10];throw Error("axis type "+s.type+" unsupported")}(this.options.yAxis);this.meta.xScale||(this.meta.xScale=Rx(this.options.xAxis.type)()),this.meta.xScale.domain(o).range(this.options.xAxis.invert?[this.meta.width,0]:[0,this.meta.width]),this.meta.yScale||(this.meta.yScale=Rx(this.options.yAxis.type)()),this.meta.yScale.domain(a).range(this.options.yAxis.invert?[0,this.meta.height]:[this.meta.height,0]),this.meta.xAxis||(this.meta.xAxis=(0,Px.axisBottom)(this.meta.xScale)),this.meta.xAxis.tickSize(this.options.grid?-this.meta.height:0).tickFormat(r),this.meta.yAxis||(this.meta.yAxis=(0,Px.axisLeft)(this.meta.yScale)),this.meta.yAxis.tickSize(this.options.grid?-this.meta.width:0).tickFormat(r),this.line=(0,xG.line)().x(function(s){return t.meta.xScale(s[0])}).y(function(s){return t.meta.yScale(s[1])})}drawGraphWrapper(){const t=this.root=(0,Xu.select)(this.options.target).selectAll("svg").data([this.options]);this.root.enter=t.enter().append("svg").attr("class","function-plot").attr("font-size",this.getFontSize()),t.merge(this.root.enter).attr("width",this.meta.width+this.meta.margin.left+this.meta.margin.right).attr("height",this.meta.height+this.meta.margin.top+this.meta.margin.bottom),this.buildTitle(),this.buildLegend(),this.buildCanvas(),this.buildClip(),this.buildAxis(),this.buildAxisLabel();const n=this.tip=(0,kG.default)(Object.assign(this.options.tip||{},{owner:this}));this.canvas.merge(this.canvas.enter).call(n),this.setUpPlugins(),this.draw(),this.buildZoomHelper()}buildTitle(){const t=this.root.merge(this.root.enter).selectAll("text.title").data(function(r){return[r.title].filter(Boolean)});t.enter().append("text").merge(t).attr("class","title").attr("y",this.meta.margin.top/2).attr("x",this.meta.margin.left+this.meta.width/2).attr("font-size",25).attr("text-anchor","middle").attr("alignment-baseline","middle").text(this.options.title),t.exit().remove()}buildLegend(){this.root.enter.append("text").attr("class","top-right-legend").attr("text-anchor","end"),this.root.merge(this.root.enter).select(".top-right-legend").attr("y",this.meta.margin.top/2).attr("x",this.meta.width+this.meta.margin.left)}buildCanvas(){const t=this.canvas=this.root.merge(this.root.enter).selectAll(".canvas").data(function(n){return[n]});this.canvas.enter=t.enter().append("g").attr("class","canvas")}buildClip(){const t=this.id,n=this.canvas.enter.append("defs");n.append("clipPath").attr("id","function-plot-clip-"+t).append("rect").attr("class","clip static-clip"),this.canvas.merge(this.canvas.enter).selectAll(".clip").attr("width",this.meta.width).attr("height",this.meta.height),n.append("clipPath").append("marker").attr("id",this.markerId).attr("viewBox","0 -5 10 10").attr("refX",10).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L0,0").attr("stroke-width","0px").attr("fill-opacity",1).attr("fill","#777")}buildAxis(){const t=this.canvas.enter;t.append("g").attr("class","x axis"),t.append("g").attr("class","y axis"),this.canvas.merge(this.canvas.enter).select(".x.axis").attr("transform","translate(0,"+this.meta.height+")").call(this.meta.xAxis),this.canvas.merge(this.canvas.enter).select(".y.axis").call(this.meta.yAxis)}buildAxisLabel(){const t=this.canvas,n=t.merge(t.enter).selectAll("text.x.axis-label").data(function(a){return[a.xAxis.label].filter(Boolean)}),r=n.enter().append("text").attr("class","x axis-label").attr("text-anchor","end");n.merge(r).attr("x",this.meta.width).attr("y",this.meta.height-6).text(function(a){return a}),n.exit().remove();const i=t.merge(t.enter).selectAll("text.y.axis-label").data(function(a){return[a.yAxis.label].filter(Boolean)}),o=i.enter().append("text").attr("class","y axis-label").attr("y",6).attr("dy",".75em").attr("text-anchor","end").attr("transform","rotate(-90)");i.merge(o).text(function(a){return a}),i.exit().remove()}buildContent(){const t=this,n=this.canvas;n.merge(n.enter).attr("transform","translate("+this.meta.margin.left+","+this.meta.margin.top+")");const r=this.content=n.merge(n.enter).selectAll(":scope > g.content").data(function(s){return[s]}),i=r.enter().append("g").attr("clip-path","url(#function-plot-clip-"+this.id+")").attr("class","content");if(this.options.xAxis.type==="linear"){const s=r.merge(i).selectAll(":scope > path.y.origin").data([[[0,this.meta.yScale.domain()[0]],[0,this.meta.yScale.domain()[1]]]]),l=s.enter().append("path").attr("class","y origin").attr("stroke","black").attr("opacity",.2);s.merge(l).attr("d",this.line)}if(this.options.yAxis.type==="linear"){const s=r.merge(i).selectAll(":scope > path.x.origin").data([[[this.meta.xScale.domain()[0],0],[this.meta.xScale.domain()[1],0]]]),l=s.enter().append("path").attr("class","x origin").attr("stroke","black").attr("opacity",.2);s.merge(l).attr("d",this.line)}r.merge(i).call((0,TG.default)({owner:t}));const o=r.merge(i).selectAll(":scope > g.graph").data(s=>s.data.map(DG.default),s=>s.fn||s.r||s.x||s.text);o.exit().remove();const a=o.enter().append("g").attr("class","graph");o.merge(a).each(function(s,l){s.index=l;const u=(0,Xu.select)(this);u.call(Zu.default.graphTypes[s.graphType](t)),u.call((0,MG.default)(t))})}buildZoomHelper(){const t=this;this.meta.zoomBehavior||(this.meta.zoomBehavior=(0,EG.zoom)().on("zoom",function(r){t.getEmitInstance().emit("all:zoom",r)}),t.meta.zoomBehavior.xScale=t.meta.xScale.copy(),t.meta.zoomBehavior.yScale=t.meta.yScale.copy()),t.meta.zoomBehavior.xScale.range(t.meta.xScale.range()),t.meta.zoomBehavior.yScale.range(t.meta.yScale.range()),this.canvas.enter.append("rect").call(this.meta.zoomBehavior).attr("class","zoom-and-drag").style("fill","none").style("pointer-events","all").on("mouseover",function(n){t.getEmitInstance().emit("all:mouseover",n)}).on("mouseout",function(n){t.getEmitInstance().emit("all:mouseout",n)}).on("mousemove",function(n){t.getEmitInstance().emit("all:mousemove",n)}),this.draggable=this.canvas.merge(this.canvas.enter).select(".zoom-and-drag").call(n=>{n.node()&&(n.node().instance=t)}).attr("width",this.meta.width).attr("height",this.meta.height)}setUpPlugins(){const t=this.options.plugins||[],n=this;t.forEach(function(r){r(n)})}addLink(){for(let t=0;t<arguments.length;t+=1)this.linkedGraphs.push(arguments[t])}updateAxes(){const t=this,n=t.canvas.merge(t.canvas.enter);if(n.select(".x.axis").call(t.meta.xAxis),this.options.xAxis.position==="sticky"){const r=this.meta.yScale.domain()[0],i=this.meta.yScale.domain()[1],o=(i+r)/2;let s=this.meta.height/(i-r)*o+this.meta.height/2;s=s<0?0:s,s=s>this.meta.height?this.meta.height:s,n.select(".x.axis").attr("transform","translate(0,"+s+")"),n.selectAll(".x.axis path, .x.axis line").attr("transform","translate(0,"+(this.meta.height/2-s+this.meta.height/2)+")")}if(n.select(".y.axis").call(t.meta.yAxis),this.options.yAxis.position==="sticky"){const r=this.meta.xScale.domain()[0],i=this.meta.xScale.domain()[1],o=(i+r)/2;let s=this.meta.width/(r-i)*o+this.meta.width/2;s=s<0?0:s,s=s>this.meta.width?this.meta.width:s,n.select(".y.axis").attr("transform","translate("+s+",0)"),n.selectAll(".y.axis path, .y.axis line").attr("transform","translate("+-s+",0)")}n.selectAll(".axis path, .axis line").attr("fill","none").attr("stroke","black").attr("shape-rendering","crispedges").attr("opacity",.1)}syncOptions(){this.options.xAxis.domain=this.meta.xScale.domain(),this.options.yAxis.domain=this.meta.yScale.domain()}getFontSize(){return Math.max(Math.max(this.meta.width,this.meta.height)/50,8)}draw(){const t=this;t.emit("before:draw"),t.syncOptions(),t.updateAxes(),t.buildContent(),t.emit("after:draw")}setUpEventListeners(){const t=this,n=this.getEmitInstance();n&&n.removeAllListeners();const r={mousemove:function(o){t.tip.move(o)},mouseover:function(){t.tip.show()},mouseout:function(){t.tip.hide()},zoom:function({transform:a}){if(t.options.disableZoom)return;const s=a.rescaleX(t.meta.zoomBehavior.xScale).interpolate(Nx.interpolateRound),l=a.rescaleY(t.meta.zoomBehavior.yScale).interpolate(Nx.interpolateRound);t.meta.xScale.domain(s.domain()).range(s.range()),t.meta.yScale.domain(l.domain()).range(l.range())},"tip:update":function({x:o,y:a,index:s}){const l=t.root.merge(t.root.enter).datum().data[s],u=l.title||"",c=l.renderer||function(d,h){return d.toFixed(3)+", "+h.toFixed(3)},f=[];u&&f.push(u),f.push(c(o,a)),t.root.select(".top-right-legend").attr("fill",Zu.default.COLORS[s]).text(f.join(" "))}},i={mousemove:function(o){const a=(0,Xu.pointer)(o,t.draggable.node()),s={x:t.meta.xScale.invert(a[0]),y:t.meta.yScale.invert(a[1])};t.linkedGraphs.forEach(function(l){l.emit("before:mousemove",s),l.emit("mousemove",s)})},zoom:function(o){t.linkedGraphs.forEach(function(a){a.draggable.node().__zoom=t.draggable.node().__zoom,a.emit("zoom",o),a.draw()}),t.emit("all:mousemove",o)}};Object.keys(r).forEach(function(o){!i[o]&&t.on("all:"+o,function(){const a=Array.prototype.slice.call(arguments);t.linkedGraphs.forEach(function(s){const l=a.slice();l.unshift(o),s.emit.apply(s,l)})}),t.on(o,r[o])}),Object.keys(i).forEach(function(o){t.on("all:"+o,i[o])})}}zd.Chart=Rh;Rh.cache={};var tO={};Object.defineProperty(tO,"__esModule",{value:!0});(function(e){var t=pe&&pe.__createBinding||(Object.create?function(d,h,m,g){g===void 0&&(g=m);var v=Object.getOwnPropertyDescriptor(h,m);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(d,g,v)}:function(d,h,m,g){g===void 0&&(g=m),d[g]=h[m]}),n=pe&&pe.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=pe&&pe.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var m in d)m!=="default"&&Object.prototype.hasOwnProperty.call(d,m)&&t(h,d,m);return n(h,d),h},i=pe&&pe.__exportStar||function(d,h){for(var m in d)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&t(h,d,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.GraphTypeScatter=e.GraphTypePolyline=e.GraphTypeInterval=e.EvalInterval=e.EvalBuiltIn=e.registerGraphType=e.Chart=void 0;const o=zd;Object.defineProperty(e,"Chart",{enumerable:!0,get:function(){return o.Chart}});const a=r(li);Object.defineProperty(e,"registerGraphType",{enumerable:!0,get:function(){return a.registerGraphType}});const s=sn,l=r(An);(0,a.registerGraphType)("polyline",s.polyline),(0,a.registerGraphType)("interval",s.interval),(0,a.registerGraphType)("scatter",s.scatter),(0,a.registerGraphType)("text",s.text);function u(d){d.data=d.data||[];let h=o.Chart.cache[d.id];return h||(h=new o.Chart(d)),h.build()}e.default=u,u.globals=a.default,u.$eval=l,u.graphTypes={interval:s.interval,polyline:s.polyline,scatter:s.scatter},i(tO,e);var c=An;Object.defineProperty(e,"EvalBuiltIn",{enumerable:!0,get:function(){return c.builtIn}}),Object.defineProperty(e,"EvalInterval",{enumerable:!0,get:function(){return c.interval}});var f=sn;Object.defineProperty(e,"GraphTypeInterval",{enumerable:!0,get:function(){return f.interval}}),Object.defineProperty(e,"GraphTypePolyline",{enumerable:!0,get:function(){return f.polyline}}),Object.defineProperty(e,"GraphTypeScatter",{enumerable:!0,get:function(){return f.scatter}}),i(Ph,e)})(Ek);const OG=No(Ek);function PG(e){const t=_.useRef(null);return _.useEffect(()=>{try{OG(Object.assign({},e,{target:t.current}))}catch(n){console.error(n)}}),S.jsxs("div",{id:"function-plot-container",children:[S.jsx("style",{id:"function-plot-custom-styles",children:"path.line { opacity: 0.5;}"}),S.jsx("div",{ref:t})]})}const NG=["#FE2712","#FC600A","#FB9902","#FCCC1A","#FEFE33","#B2D732","#66B032","#347C98","#0247FE","#4424D6","#8601AF","#C21460"];function Ix(e){return NG[e]||"black"}function RG(e){const[t,n]=_.useState(!0),[r,i]=_.useState(!1),[o,a]=_.useState(!1);let s=[];e.records?s=e.records.filter(y=>!isNaN(Number(y["Ex 1"]))).toSpliced(10).map(y=>{const x=Object.keys(y).filter(E=>E.startsWith("Ex")&&!isNaN(Number(y[E]))).map(E=>y[E]);return{lo:Math.min(...x),hi:Math.max(...x),label:`${nC(y.Mask??"").shortName} (${y.ID})`}}):e.ranges&&(s=e.ranges.filter(y=>!(isNaN(y.hi)||isNaN(y.lo))));function l(y,x){return{fn:E=>({hi:kr(E.x.hi),lo:kr(y.lo)}),range:[y.lo,y.hi],color:Ix(x)}}function u(y,x){return{fn:E=>({hi:pR(E.x.hi),lo:y.lo}),range:[kr(y.lo),kr(y.hi)],color:Ix(x)}}function c(y){return{graphType:"text",location:t?[kr(y.lo),y.lo]:[y.lo,kr(y.lo)],text:y.label,color:"black"}}const f=1.001,d=200,h=1,m=99.99,g={domain:[o?Math.min(...s.map(y=>kr(y.lo))):h,o?Math.max(...s.map(y=>kr(y.hi))):m],type:"linear",label:"Filtration %"},v={domain:[r?Math.min(...s.map(y=>y.lo)):f,r?Math.max(...s.map(y=>y.hi)):d],type:"log",label:"Fit Factor"},p={fn:"1/(1-x/100)",range:[h,m]},w={fn:"100*(1-1/x)",range:[f,d]};return S.jsxs("div",{children:[S.jsxs("div",{children:[S.jsx("button",{onClick:()=>n(!t),children:"Invert"}),S.jsx("button",{onClick:()=>a(!o),children:"Zoom Efficiency"}),S.jsx("button",{onClick:()=>i(!r),children:"Zoom Fit Factor"})]}),S.jsx(PG,{height:300,width:1e3,grid:!0,tip:{xLine:!0,yLine:!0,renderer:(y,x)=>t?`${eg(y)}% = FF:${pw(x)}`:`${eg(x)}% = FF:${pw(y)}`},xAxis:t?g:v,yAxis:t?v:g,data:[t?p:w,...s.map((y,x)=>t?u(y,x):l(y,x)),...s.map(y=>c(y))]})]})}const IG=60*60*1e3;function LG(){const e=_.useContext(xt),[t,n]=ae(H.STATS_FIRST_DATE),[r,i]=ae(H.STATS_LAST_DATE),[o,a]=_.useState([]),[s,l]=_.useState(0),[u,c]=_.useState(0),[f,d]=_.useState(0),[h,m]=_.useState(0),[g,v]=_.useState(0),[p,w]=_.useState(0),[y,x]=_.useState([]),[E,b]=_.useState([]),[C,k]=_.useState(0),[N,A]=_.useState(0),[O,V]=_.useState(0),[I,T]=_.useState(0),[P,D]=_.useState(0);function $(z){try{return new Date(z.getTime()-z.getTimezoneOffset()*60*1e3)}catch(re){return console.warn("could not parse date: ",z,re),new Date}}function M(z){return $(z).toISOString().substring(0,10).replace(/-/g,"")}function F(z,re){return new Date(re.Time??0).getTime()-new Date(z.Time??0).getTime()}function B(z,re){return F(z,re)>1*60*60*1e3}function q(z){return z.Time?M(new Date(z.Time)):""}function G(z){z=z.toSorted((j,X)=>(j.Time?$(new Date(j.Time)).getTime():0)-(X.Time?$(new Date(X.Time)).getTime():0)),z=z.filter(j=>!(j.Participant?.match(/zero\s+filter/i)||j.DataSource==="Simulator"||j.DataSource==="Simulator-file")),w(new Set(z.map(j=>j.Mask)).size),c(z.length),d(z.reduce((j,X)=>j+(X.Final?1:0),0)),l(z.reduce((j,X,he,ve)=>{const Ht=ve[he-1]??{};return j+(B(Ht,X)?1:0)},0)),m(new Set(z.map(j=>`${q(j)}-${j.Participant}`)).size),v(z.reduce((j,X,he,ve)=>{const Ht=ve[he-1]??{};return B(Ht,X)?j:j+F(Ht,X)},0));const re=new Map;z.forEach((j,X,he)=>{const ve=he[X-1]??{};if(B(ve,j))return null;const Ht=`${q(ve)}-${ve.Participant}`,Ih=F(ve,j);re.set(Ht,Ih+(re.get(Ht)||0))}),V(up(new Array(...re.values())));const L=new Map;z.forEach(j=>{const X=`${q(j)}-${j.Participant}`;L.set(X,(L.get(X)??new Set).add(j.Mask??"unknown mask"))});const Q=[...L.values()].map(j=>j.size);T(up(Q)),D(rC(Q)),A(up(z.map((j,X,he)=>{const ve=he[X-1]??{};return B(ve,j)||!j.Final?null:F(ve,j)}).filter(j=>j!==null)));const de=e.settings.getProtocolDuration(e.settings.getDefault(H.SELECTED_PROTOCOL));k(z.filter(j=>j.Final).reduce((j,X)=>j+(X.ProtocolName?e.settings.getProtocolDuration(X.ProtocolName):de),0)),x(z.toSorted((j,X)=>(X.Final??0)-(j.Final??0)).filter(j=>!(!j.Final||isNaN(j.Final)||isNaN(Number(j.Final))||!isFinite(Number(j.Final)))).toSpliced(5));const Y={};z.forEach(j=>{const X=`${q(j)}-${j.Participant}-${j.Mask}`;Y[X]=j});const le={};Object.values(Y).forEach(j=>{const X=nC(j.Mask??""),he=`${X.maker} ${X.model}`.trim();le[he]=1+(le[he]??0)}),console.debug(`mask tally: ${JSON.stringify(le)}`),b(Object.entries(le).toSorted((j,X)=>X[1]-j[1]).toSpliced(5))}async function me(){return new Promise(z=>{const re=new Set;Rn.getData(L=>(re.add(new Date(L.Time)),!1)).then(()=>z([...re].toSorted((L,Q)=>L.getTime()-Q.getTime())))})}async function ce(){const z=typeof t=="string"?new Date(t):new Date(0),re=typeof r=="string"?new Date(r):new Date,L=Number(M(z)),Q=Number(M(re)),Y=(await gd.getData(le=>{const j=Number(M(new Date(le.timestamp)));return L<=j&&j<=Q})).toSorted((le,j)=>new Date(le.timestamp).getTime()-new Date(j.timestamp).getTime()).reduce((le,j)=>{const X=new Date(j.timestamp).getTime();if(X>le.end+IG){const he=M(new Date(j.timestamp)),ve=le.longest.get(he)||{start:X,end:X,longest:{}};ve.end-ve.start<le.end-le.start&&(ve.start=le.start,ve.end=le.end,le.longest.set(he,ve)),le.start=X}return le.end=X,le},{start:0,end:0,longest:new Map});console.debug(`event date ranges: ${JSON.stringify(Y.longest)}`,Y),G(await Rn.getData(le=>{const j=Number(M(new Date(le.Time)));return L<=j&&j<=Q}))}_.useEffect(()=>{ce()},[t,r]),_.useEffect(()=>{me().then(z=>{if(a(z),z.length===0)return;const re=typeof t=="string"?new Date(t):t;re.getTime()===0?n(z[z.length-1]):typeof t=="string"&&n(re)})},[]);function ne(z){z?(r&&z>r&&i(z),n(z)):o.length>0?n(o[0]):n(new Date(0))}function ge(z){z?(t&&z<t&&n(z),i(z)):o.length>0?i(o[o.length-1]):i(new Date)}return S.jsxs("div",{id:"stats-panel",children:[S.jsx(RG,{ranges:[{lo:1.3,hi:4.6,label:"cloth"},{lo:2.5,hi:9.6,label:"surgical"},{lo:3,hi:39,label:"earloop"},{lo:35,hi:171,label:"headloop"}]}),S.jsxs("section",{id:"stats-date-range-selection",style:{display:"flex",justifySelf:"center"},children:["from",S.jsx(Eg,{id:"stats-first-date-picker",className:"date-picker-input",selected:t,showIcon:!0,dateFormat:"YYYY-MMM-dd",placeholderText:"Start date",highlightDates:o,onChange:z=>ne(z)}),"to",S.jsx(Eg,{id:"stats-last-date-from",className:"date-picker-input",selected:r,showIcon:!0,dateFormat:"YYYY-MMM-dd",placeholderText:"End date",highlightDates:o,onChange:z=>ge(z)})]}),S.jsxs("section",{id:"stats-display",style:{display:"flex",flexDirection:"column",justifyContent:"stretch",width:"fit-content",justifySelf:"center"},children:[S.jsxs(ie,{label:"For selected date range",children:[S.jsx(ie,{label:"Num Events",children:s}),S.jsx(ie,{label:"Num Participants",children:h}),S.jsx(ie,{label:"Num Masks Tested",children:p}),S.jsx(ie,{label:"Num Tests Started",children:u}),S.jsx(ie,{label:"Num Tests Completed",children:`${f} (${(100*f/u).toFixed(1)}%)`})]}),S.jsx("hr",{}),S.jsx(ie,{label:"Total time from completed tests",children:Ge(C*1e3)}),S.jsx(ie,{label:"Total event time (estimate)",children:Ge(g)}),S.jsxs(ie,{label:"Device utilization",children:[(100*C*1e3/g).toFixed(1),"%"]}),S.jsx("hr",{}),S.jsx(ie,{label:"Time spent per participant",children:S.jsxs("div",{className:"inline-flex",children:[S.jsx(ie,{label:"Average",children:Ge(g/h)}),S.jsx(ie,{label:"Median",children:Ge(O)})]})}),S.jsx(ie,{label:"Time spent per completed test",children:S.jsxs("div",{className:"inline-flex",children:[S.jsx(ie,{label:"Average",children:Ge(g/f)}),S.jsx(ie,{label:"Median",children:Ge(N)})]})}),S.jsx("hr",{}),S.jsx(ie,{label:"Num masks tested per participant",children:S.jsxs("div",{className:"inline-flex",children:[S.jsx(ie,{label:"Average",children:P.toFixed(1)}),S.jsx(ie,{label:"Median",children:I.toFixed(1)})]})}),S.jsx("hr",{}),S.jsxs(ie,{label:"Per Participant averages",children:[S.jsx(ie,{label:"Num Tests Started",children:(u/h).toFixed(1)}),S.jsx(ie,{label:"Num Tests Completed",children:(f/h).toFixed(1)})]}),S.jsx("hr",{}),S.jsx(ie,{label:"popular masks",children:E.map(([z,re])=>S.jsx(ie,{label:z.trim().length===0?"Unnamed mask":z,children:re},z))}),S.jsx("hr",{}),S.jsx(ie,{label:"top overall scores",children:y.map(z=>S.jsx(ie,{label:z.Mask??"Unnamed mask",children:z.Final},z.ID))}),S.jsx("hr",{}),S.jsx(ie,{label:"top individual scores",children:"todo: look at this across all exercises"}),S.jsx("hr",{}),S.jsxs(ie,{label:"Per Event averages",children:[S.jsx(ie,{label:"Time Spent",children:Ge(g/s)}),S.jsx(ie,{label:"Num Participants",children:(h/s).toFixed(1)}),S.jsx(ie,{label:"Num Masks Tested",children:"todo"}),S.jsx(ie,{label:"Num Tests Started",children:(u/s).toFixed(1)}),S.jsx(ie,{label:"Num Tests Completed",children:(f/s).toFixed(1)})]})]})]})}const AG=()=>{const[e]=ae(H.KEEP_SCREEN_AWAKE),t=_.useRef(null);async function n(){if(console.debug("requestWakeLock()"),t.current===null&&document.visibilityState==="visible")try{t.current=await navigator.wakeLock.request("screen")}catch(i){console.warn(i)}else console.debug("not visible or already have a wakelock")}const r=_.useCallback(()=>{e&&n()},[e]);_.useEffect(()=>(e?(n(),document.addEventListener("visibilitychange",r)):t.current!==null&&(console.debug("removing wake lock"),document.removeEventListener("visibilitychange",r),t.current.release().then(()=>{t.current=null})),()=>{document.removeEventListener("visibilitychange",r)}),[e,r])};function FG({useIcons:e=!1,...t}){const n=_.useContext(xt),[r]=ae(H.MINUTES_ALLOTTED_PER_PARTICIPANT),[i,o]=_.useState("");function a(){return Date.now()-n.settings.eventEndTime.getTime()}function s(){const c=a()/60/1e3;return r-c<0?"over-time":"on-time"}function l(){o(Ge(n.settings.eventEndTime.getTime()-Date.now(),!1,!1))}return W0(l),t.style={...t.style,display:"flex",gap:"0.3em"},S.jsxs("div",{...t,className:`number-field thin-border smooth-background-change svg-container no-wrap ${s()}`,children:[e?S.jsx(fL,{}):S.jsx("span",{children:"Event Time:"}),S.jsx("span",{children:i})]})}function $G({useIcons:e=!1,...t}){const[n]=ae(H.TEST_TEMPLATE),[r]=ae(H.MINUTES_ALLOTTED_PER_PARTICIPANT),[i,o]=_.useState("");function a(){return!!n.Participant}function s(){return a()&&n.Time?Date.now()-new Date(n.Time).getTime():0}function l(){if(a()){if(n.Time){const f=s()/60/1e3;if(r-f<0)return"over-time"}return"on-time"}return"idle"}function u(){o(Ge(s()))}return W0(u),t.style={...t.style,display:"flex",gap:"0.3em"},S.jsxs("div",{...t,className:`thin-border number-field smooth-background-change svg-container no-wrap ${l()}`,children:[e?S.jsx(cL,{}):S.jsx("span",{children:"Participant Time:"}),S.jsx("span",{children:i})]})}function jG(){const t=_.useContext(xt).portaCountClient,[n,r]=_.useState(t.state.sampleSource),[i]=ae(H.USE_COMPACT_UI),[o]=ae(H.SHOW_EXTERNAL_CONTROL);_.useEffect(()=>{const s={sampleSourceChanged(l){r(l)}};return t.addListener(s),()=>{t.removeListener(s)}},[]);function a(){t.externalController.sampleSource=n==Te.MASK?Te.AMBIENT:Te.MASK}return o&&i?S.jsxs("div",{id:"sample-source-widget",onClick:a,className:"svg-container",children:[n===Te.AMBIENT&&S.jsx(SC,{}),n===Te.MASK&&S.jsx(bC,{})]}):null}function HG(e){return it({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(e)}function UG(e){return it({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M9.25 14.5c0 0.415-0.335 0.75-0.75 0.75s-0.75-0.335-0.75-0.75 0.335-0.75 0.75-0.75 0.75 0.335 0.75 0.75zM16 1.5v14c0 0.827-0.625 1.5-1.392 1.5h-12.216c-0.767 0-1.392-0.673-1.392-1.5v-14c0-0.827 0.625-1.5 1.392-1.5h12.217c0.766 0 1.391 0.673 1.391 1.5zM15 1.5c0-0.271-0.179-0.5-0.392-0.5h-12.216c-0.213 0-0.392 0.229-0.392 0.5v14c0 0.271 0.179 0.5 0.392 0.5h12.217c0.212 0 0.391-0.229 0.391-0.5v-14zM3 2h11v11h-11v-11zM4 12h9v-9h-9v9z"},child:[]}]})(e)}function VG(){const t=_.useContext(xt).portaCountClient,[n,r]=_.useState(t.state.controlSource),[i]=ae(H.USE_COMPACT_UI),[o]=ae(H.SHOW_EXTERNAL_CONTROL);_.useEffect(()=>{const s={controlSourceChanged(l){r(l)}};return t.addListener(s),()=>{t.removeListener(s)}},[]);function a(){t.externalController.controlSource=n==Ee.Internal?Ee.External:Ee.Internal}return o&&i?S.jsxs("div",{id:"control-source-widget",onClick:a,className:"svg-container",children:[n===Ee.External&&S.jsx(HG,{}),n===Ee.Internal&&S.jsx(UG,{})]}):null}function BG(e){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(e)}function YG(){const[e]=ae(H.COLOR_SCHEME);return _.useEffect(()=>{document.querySelector('meta[name="color-scheme"]')?.setAttribute("content",e)},[e]),S.jsx(S.Fragment,{})}function zG(){const[e]=ae(H.SHOW_ELAPSED_PARTICIPANT_TIME),[t]=ae(H.SHOW_REMAINING_EVENT_TIME),[n]=ae(H.USE_COMPACT_UI),[r]=ae(H.ENABLE_PROTOCOL_EDITOR),[i]=ae(H.ENABLE_STATS),[o]=ae(H.ENABLE_QR_CODE_SCANNER),a=Fd(),s=ai(),l=_.useRef(null),[u,c]=_.useState("full-width"),[f,d]=_.useState(0),[h,m]=_.useState(!1),[g,v]=_.useState(!1);_.useEffect(()=>{const y=new ResizeObserver(([x])=>{w(x)});return l.current&&y.observe(l.current),()=>{y.disconnect()}},[u]),_.useEffect(()=>{const y=()=>c("full-width");return screen.orientation.addEventListener("change",y),()=>{screen.orientation.removeEventListener("change",y)}},[]),AG();const p=[{label:"Home",value:"/"},{label:"Results",value:"/view-results"},{label:"Raw Data",value:"/raw-data"},{label:"Settings",value:"/settings"}];r&&p.push({label:"Protocols",value:"/protocols"}),i&&p.push({label:"Stats",value:"/stats"}),o&&p.push({label:"QR Code",value:"/qrscanner"}),p.push({label:"Daily Checks",value:"/daily-checks"}),p.push({label:"Bookmarks",value:"/bookmarks"});function w(y){const x=window.getComputedStyle(y.target),E=Math.floor(parseFloat(x.height)/parseFloat(x.lineHeight)),b=parseFloat(x.width)-f>0;switch(u){case"full-width":E>1&&c("2-lines"),m(!1),v(!1);break;case"2-lines":E<2&&b&&c("full-width"),E>2&&c("time-icons"),m(!1),v(!1);break;case"time-icons":E<2&&b&&c("2-lines"),E>2&&c("dropdown-tabs"),m(!0),v(!1);break;case"dropdown-tabs":E<2&&b&&c("time-icons"),m(!0),v(!0);break}d(parseFloat(x.width))}return S.jsxs("div",{id:"nav-bar",ref:l,className:"nav-bar",children:[S.jsx(YG,{}),S.jsx($G,{style:{visibility:e?"visible":"hidden"},useIcons:h}),S.jsxs("div",{id:"nav-links-container",className:"inline-flex",style:{gap:"0.3em",flexWrap:"wrap",justifyContent:"center"},children:[S.jsxs("div",{children:["v","1.8.6","p"]}),g?S.jsx("div",{children:S.jsx(fv,{options:p,value:s.pathname,onChange:y=>a(y),children:S.jsxs("div",{className:"blue-bg thin-border svg-container inline-flex no-wrap",children:[p.find(y=>y.value===s.pathname)?.label,S.jsx(BG,{})]})})}):S.jsx("div",{style:{gap:"0.1em",display:"flex",flexWrap:"wrap"},children:p.reduce((y,x)=>(y.length>0&&y.push("|"),y.push(S.jsx(zT,{to:x.value,className:({isActive:E,isPending:b})=>b?"nav-link-pending":E?"nav-link-active":"",children:S.jsx("div",{className:"no-wrap",children:x.label})},x.label)),y),[])}),S.jsxs("div",{id:"compact-ui",className:"inline-flex",style:{width:"fit-content",gap:"0.3em",alignItems:"center",height:"inherit",flexWrap:"wrap",justifyContent:"center"},children:[n&&S.jsx(kT,{compact:!0}),S.jsx(VG,{}),S.jsx(jG,{}),n&&S.jsx(xT,{compact:!0}),n&&S.jsx(CT,{label:""}),n&&S.jsx(TT,{label:""})]})]}),S.jsx(FG,{style:{visibility:t?"visible":"hidden"},useIcons:h})]})}function WG({children:e}){return S.jsx(xt.Provider,{value:yC,children:e})}function qG(){const e=window.location.pathname,t=e.endsWith("old/")||e.endsWith("-old");return S.jsx(S.Fragment,{children:S.jsx(WG,{children:S.jsx("div",{className:`app-border-container ${t?"red-border":""}`,children:S.jsxs("div",{className:"app-container",style:{display:"flex",flexDirection:"column"},children:[S.jsx("div",{id:"navbar-container",style:{position:"relative",top:0,left:0},children:S.jsx(zG,{})}),S.jsx("div",{id:"main-container",style:{position:"relative",top:"0.1rem",height:"100%",overflow:"auto",backgroundColor:"var(--root-color)"},children:S.jsx(l4,{})})]})})})})}var i1={exports:{}};i1.exports;(function(e){var t=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function a(l,u){if(!o[l]){o[l]={};for(var c=0;c<l.length;c++)o[l][l.charAt(c)]=c}return o[l][u]}var s={compressToBase64:function(l){if(l==null)return"";var u=s._compress(l,6,function(c){return r.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:s._decompress(l.length,32,function(u){return a(r,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":s._compress(l,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:s._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=s.compress(l),c=new Uint8Array(u.length*2),f=0,d=u.length;f<d;f++){var h=u.charCodeAt(f);c[f*2]=h>>>8,c[f*2+1]=h%256}return c},decompressFromUint8Array:function(l){if(l==null)return s.decompress(l);for(var u=new Array(l.length/2),c=0,f=u.length;c<f;c++)u[c]=l[c*2]*256+l[c*2+1];var d=[];return u.forEach(function(h){d.push(n(h))}),s.decompress(d.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":s._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),s._decompress(l.length,32,function(u){return a(i,l.charAt(u))}))},compress:function(l){return s._compress(l,16,function(u){return n(u)})},_compress:function(l,u,c){if(l==null)return"";var f,d,h={},m={},g="",v="",p="",w=2,y=3,x=2,E=[],b=0,C=0,k;for(k=0;k<l.length;k+=1)if(g=l.charAt(k),Object.prototype.hasOwnProperty.call(h,g)||(h[g]=y++,m[g]=!0),v=p+g,Object.prototype.hasOwnProperty.call(h,v))p=v;else{if(Object.prototype.hasOwnProperty.call(m,p)){if(p.charCodeAt(0)<256){for(f=0;f<x;f++)b=b<<1,C==u-1?(C=0,E.push(c(b)),b=0):C++;for(d=p.charCodeAt(0),f=0;f<8;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}else{for(d=1,f=0;f<x;f++)b=b<<1|d,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=0;for(d=p.charCodeAt(0),f=0;f<16;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}w--,w==0&&(w=Math.pow(2,x),x++),delete m[p]}else for(d=h[p],f=0;f<x;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1;w--,w==0&&(w=Math.pow(2,x),x++),h[v]=y++,p=String(g)}if(p!==""){if(Object.prototype.hasOwnProperty.call(m,p)){if(p.charCodeAt(0)<256){for(f=0;f<x;f++)b=b<<1,C==u-1?(C=0,E.push(c(b)),b=0):C++;for(d=p.charCodeAt(0),f=0;f<8;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}else{for(d=1,f=0;f<x;f++)b=b<<1|d,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=0;for(d=p.charCodeAt(0),f=0;f<16;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}w--,w==0&&(w=Math.pow(2,x),x++),delete m[p]}else for(d=h[p],f=0;f<x;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1;w--,w==0&&(w=Math.pow(2,x),x++)}for(d=2,f=0;f<x;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1;for(;;)if(b=b<<1,C==u-1){E.push(c(b));break}else C++;return E.join("")},decompress:function(l){return l==null?"":l==""?null:s._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,c){var f=[],d=4,h=4,m=3,g="",v=[],p,w,y,x,E,b,C,k={val:c(0),position:u,index:1};for(p=0;p<3;p+=1)f[p]=p;for(y=0,E=Math.pow(2,2),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;switch(y){case 0:for(y=0,E=Math.pow(2,8),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;C=n(y);break;case 1:for(y=0,E=Math.pow(2,16),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;C=n(y);break;case 2:return""}for(f[3]=C,w=C,v.push(C);;){if(k.index>l)return"";for(y=0,E=Math.pow(2,m),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;switch(C=y){case 0:for(y=0,E=Math.pow(2,8),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;f[h++]=n(y),C=h-1,d--;break;case 1:for(y=0,E=Math.pow(2,16),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;f[h++]=n(y),C=h-1,d--;break;case 2:return v.join("")}if(d==0&&(d=Math.pow(2,m),m++),f[C])g=f[C];else if(C===h)g=w+w.charAt(0);else return null;v.push(g),f[h++]=w+g.charAt(0),d--,w=g,d==0&&(d=Math.pow(2,m),m++)}}};return s}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(i1);var QG=i1.exports;const GG=No(QG);function KG(e,t){return e.Time===t.Time&&(e.ID===t.ID||e.Final===t.Final&&e["Ex 1"]===t["Ex 1"])}function XG(e){const t=So(e);return delete t.ID,delete t.source,t}async function Nc(){return await Rn.getData()}async function nO(e){const t=e.length;e=e.filter(s=>"Time"in s&&"ID"in s&&"Ex 1"in s);const n=t-e.length,r=await Nc(),i=r.length,o=[],a=[];for(const s of e)if(r.some(l=>KG(l,s)))a.push(s);else{const l=XG(s);l.source="ext",o.push(l)}for(const s of o){const l=await Rn.addRecord(s);s.ID=l}return r.push(...o),console.log(`total records ${r.length}, new records ${o.length}, old records ${i}`),{allRecords:r,newRecords:o,duplicateRecords:a,attemptedRecordCount:t,rejectedRecordCount:n}}function ZG(e){return e.getRowModel().rows.map(t=>t.original)}function wK(e){const t=ZG(e);vg(JSON.stringify(t),"cft-results","json")}async function _K(){if(!("showOpenFilePicker"in window)){const e="showOpenFilePicker not supported. Unable to import file.";return console.error(e),Promise.reject(e)}return window.showOpenFilePicker({id:"file-to-import"}).then(e=>e[0].getFile()).then(e=>e.text()).then(e=>JSON.parse(e)).then(e=>nO(e)).then(e=>(console.debug(`imported ${e.newRecords.length} records of ${e.attemptedRecordCount}, ignored ${e.duplicateRecords.length} duplicates, rejected ${e.rejectedRecordCount}. total records: ${e.allRecords.length}`),e)).catch(e=>{console.log("Error importing file",e)})}function JG(){const[e,t]=_.useState([]),[n]=j4(),r=Fd();async function i(){const a=n.get("data");if(a){const s=GG.decompressFromEncodedURIComponent(a);if(r("",{replace:!0}),s){console.log(`got url data: ${s}`);const l=JSON.parse(s);console.log(`data records: ${JSON.stringify(l,null,2)}`);const{allRecords:u}=await nO(l);t(u)}else console.log("no data from url"),t(await Nc())}else console.log("no data parameter"),t(await Nc())}_.useEffect(()=>{Rn.open().then(()=>i()).catch(a=>console.log(`error while opening db: ${a}`))},[]);async function o(a){await Promise.all(a.map(s=>Rn.deleteRecordById(s))),t(await Nc())}return S.jsx("div",{style:{justifySelf:"center",maxWidth:"100%",height:"100%"},children:S.jsx(MT,{tableData:e,setTableData:t,deleteRowsCallback:o})})}function eK(){const a=_.useContext(xt).portaCountClient,s=a.externalController,[l,u]=_.useState(!1),[c,f]=_.useState(!1),[d,h]=_.useState(!1),[m,g]=_.useState(0),[v,p]=_.useState(0),[w,y]=_.useState(1e3),[x,E]=_.useState(xn(11e3)),[b,C]=_.useState(xn(5e3)),[k,N]=_.useState("idle"),[A,O]=_.useState("Press start to begin"),[V,I]=_.useState(0),[T,P]=_.useState(0),[D,$]=_.useState(0),[M,F]=_.useState(0),[B,q]=_.useState(0),[G,me]=_.useState({}),ce=_.useCallback(()=>{me({})},[]);_.useEffect(()=>{const z={particleConcentrationReceived:re=>{const L=re.concentration;switch(re.sampleSource===Te.AMBIENT?(g(Q=>Q>L?Q:L),b.push(re.timestamp,L)):(p(Q=>Q>L?Q:L),y(Q=>Q<L?Q:L),x.push(re.timestamp,L)),ce(),console.debug(`state is ${k}`),k){case"idle":break;case"start":E(xn(11e3)),C(xn(5e3)),y(1e3),p(0),g(0),u(!1),f(!1),h(!1),q(0),O("Remove zero filter if attached"),s.assumeManualControl(),s.beep(),s.sampleMask(),N("initial-mask-purge"),I(Date.now());break;case"initial-mask-purge":Date.now()-V>7e3&&(N("waiting-for-particle-check"),I(Date.now()));break;case"waiting-for-particle-check":console.debug(`max mask count: ${v}`),v>1e3&&(N("waiting-for-zero-check"),O("Attach zero filter"),s.beep(),u(!0),y(1e3));break;case"waiting-for-zero-check":w===0&&(N("purge-ambient-1"),s.sampleAmbient(),O("reading from ambient"),I(Date.now()),f(!0));break;case"purge-ambient-1":Date.now()-V>7e3&&(N("waiting-for-ambient-average"),I(Date.now()),C(xn(5e3)));break;case"waiting-for-ambient-average":Date.now()-V>12e3&&(P(b.movingAverage()),N("purge-mask"),s.sampleMask(),O("reading from mask"),I(Date.now()));break;case"purge-mask":Date.now()-V>7e3&&(N("waiting-for-mask-average"),I(Date.now()),E(xn(11e3)));break;case"waiting-for-mask-average":Date.now()-V>18e3&&(F(x.movingAverage()),N("purge-ambient-2"),s.sampleAmbient(),O("reading from ambient"),I(Date.now()));break;case"purge-ambient-2":Date.now()-V>7e3&&(N("waiting-for-second-ambient-average"),I(Date.now()),C(xn(5e3)));break;case"waiting-for-second-ambient-average":if(Date.now()-V>12e3){$(b.movingAverage()),N("done"),O("done");const Q=.5*(T+D)/Math.max(.01,M);q(Q),h(Q>5e4),s.sampleMask(),s.beep(),s.beep()}break;case"done":break;default:console.error(`unhandled state ${k}`)}}};return a.addListener(z),()=>{a.removeListener(z)}},[G]);function ne(){N("start")}function ge(z){return S.jsx("div",{className:"svg-container",style:{padding:"4px"},children:z?S.jsx(aL,{color:"green"}):S.jsx(xC,{color:"red"})})}return S.jsxs("div",{id:"daily-check-panel",style:{width:"fit-content",justifySelf:"center"},children:[S.jsx("div",{children:A}),S.jsx("button",{onClick:()=>ne(),children:"Press to start"}),S.jsx(ie,{label:"State",children:k}),S.jsx(ie,{label:"Particle count check",children:ge(l)}),S.jsx(ie,{label:"Zero check",children:ge(c)}),S.jsx(ie,{label:"Max fit factor check",children:ge(d)}),S.jsx(ie,{label:"Max ambient count",children:m}),S.jsx(ie,{label:"Ambient average",children:(b.movingAverage()??0).toFixed(2)}),S.jsx(ie,{label:"Max mask count",children:v}),S.jsx(ie,{label:"Min mask count",children:w}),S.jsx(ie,{label:"Mask average",children:(x.movingAverage()??0).toFixed(2)}),S.jsx(ie,{label:"Fit factor",children:md(B)})]})}var tK=Object.defineProperty,Zf=Object.getOwnPropertySymbols,rO=Object.prototype.hasOwnProperty,iO=Object.prototype.propertyIsEnumerable,Lx=(e,t,n)=>t in e?tK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qg=(e,t)=>{for(var n in t||(t={}))rO.call(t,n)&&Lx(e,n,t[n]);if(Zf)for(var n of Zf(t))iO.call(t,n)&&Lx(e,n,t[n]);return e},Gg=(e,t)=>{var n={};for(var r in e)rO.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zf)for(var r of Zf(e))t.indexOf(r)<0&&iO.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Po;(e=>{const t=class Se{constructor(l,u,c,f){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<Se.MIN_VERSION||l>Se.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let d=[];for(let m=0;m<this.size;m++)d.push(!1);for(let m=0;m<this.size;m++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(c);if(this.drawCodewords(h),f==-1){let m=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const v=this.getPenaltyScore();v<m&&(f=g,m=v),this.applyMask(g)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,u){const c=e.QrSegment.makeSegments(l);return Se.encodeSegments(c,u)}static encodeBinary(l,u){const c=e.QrSegment.makeBytes(l);return Se.encodeSegments([c],u)}static encodeSegments(l,u,c=1,f=40,d=-1,h=!0){if(!(Se.MIN_VERSION<=c&&c<=f&&f<=Se.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");let m,g;for(m=c;;m++){const y=Se.getNumDataCodewords(m,u)*8,x=a.getTotalBits(l,m);if(x<=y){g=x;break}if(m>=f)throw new RangeError("Data too long")}for(const y of[Se.Ecc.MEDIUM,Se.Ecc.QUARTILE,Se.Ecc.HIGH])h&&g<=Se.getNumDataCodewords(m,y)*8&&(u=y);let v=[];for(const y of l){n(y.mode.modeBits,4,v),n(y.numChars,y.mode.numCharCountBits(m),v);for(const x of y.getData())v.push(x)}i(v.length==g);const p=Se.getNumDataCodewords(m,u)*8;i(v.length<=p),n(0,Math.min(4,p-v.length),v),n(0,(8-v.length%8)%8,v),i(v.length%8==0);for(let y=236;v.length<p;y^=253)n(y,8,v);let w=[];for(;w.length*8<v.length;)w.push(0);return v.forEach((y,x)=>w[x>>>3]|=y<<7-(x&7)),new Se(m,u,w,d)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let f=0;f<u;f++)c==0&&f==0||c==0&&f==u-1||c==u-1&&f==0||this.drawAlignmentPattern(l[c],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let c=u;for(let d=0;d<10;d++)c=c<<1^(c>>>9)*1335;const f=(u<<10|c)^21522;i(f>>>15==0);for(let d=0;d<=5;d++)this.setFunctionModule(8,d,r(f,d));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let d=9;d<15;d++)this.setFunctionModule(14-d,8,r(f,d));for(let d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,r(f,d));for(let d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,r(f,d));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let c=0;c<18;c++){const f=r(u,c),d=this.size-11+c%3,h=Math.floor(c/3);this.setFunctionModule(d,h,f),this.setFunctionModule(h,d,f)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let f=-4;f<=4;f++){const d=Math.max(Math.abs(f),Math.abs(c)),h=l+f,m=u+c;0<=h&&h<this.size&&0<=m&&m<this.size&&this.setFunctionModule(h,m,d!=2&&d!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,u+c,Math.max(Math.abs(f),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,c=this.errorCorrectionLevel;if(l.length!=Se.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const f=Se.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],d=Se.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],h=Math.floor(Se.getNumRawDataModules(u)/8),m=f-h%f,g=Math.floor(h/f);let v=[];const p=Se.reedSolomonComputeDivisor(d);for(let y=0,x=0;y<f;y++){let E=l.slice(x,x+g-d+(y<m?0:1));x+=E.length;const b=Se.reedSolomonComputeRemainder(E,p);y<m&&E.push(0),v.push(E.concat(b))}let w=[];for(let y=0;y<v[0].length;y++)v.forEach((x,E)=>{(y!=g-d||E>=m)&&w.push(x[y])});return i(w.length==h),w}drawCodewords(l){if(l.length!=Math.floor(Se.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let f=0;f<this.size;f++)for(let d=0;d<2;d++){const h=c-d,g=(c+1&2)==0?this.size-1-f:f;!this.isFunction[g][h]&&u<l.length*8&&(this.modules[g][h]=r(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let f;switch(l){case 0:f=(c+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=c%3==0;break;case 3:f=(c+u)%3==0;break;case 4:f=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:f=c*u%2+c*u%3==0;break;case 6:f=(c*u%2+c*u%3)%2==0;break;case 7:f=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&f&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let d=0;d<this.size;d++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[d][v]==h?(m++,m==5?l+=Se.PENALTY_N1:m>5&&l++):(this.finderPenaltyAddHistory(m,g),h||(l+=this.finderPenaltyCountPatterns(g)*Se.PENALTY_N3),h=this.modules[d][v],m=1);l+=this.finderPenaltyTerminateAndCount(h,m,g)*Se.PENALTY_N3}for(let d=0;d<this.size;d++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][d]==h?(m++,m==5?l+=Se.PENALTY_N1:m>5&&l++):(this.finderPenaltyAddHistory(m,g),h||(l+=this.finderPenaltyCountPatterns(g)*Se.PENALTY_N3),h=this.modules[v][d],m=1);l+=this.finderPenaltyTerminateAndCount(h,m,g)*Se.PENALTY_N3}for(let d=0;d<this.size-1;d++)for(let h=0;h<this.size-1;h++){const m=this.modules[d][h];m==this.modules[d][h+1]&&m==this.modules[d+1][h]&&m==this.modules[d+1][h+1]&&(l+=Se.PENALTY_N2)}let u=0;for(const d of this.modules)u=d.reduce((h,m)=>h+(m?1:0),u);const c=this.size*this.size,f=Math.ceil(Math.abs(u*20-c*10)/c)-1;return i(0<=f&&f<=9),l+=f*Se.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let c=[6];for(let f=this.size-7;c.length<l;f-=u)c.splice(1,0,f);return c}}static getNumRawDataModules(l){if(l<Se.MIN_VERSION||l>Se.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(Se.getNumRawDataModules(l)/8)-Se.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*Se.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<l-1;f++)u.push(0);u.push(1);let c=1;for(let f=0;f<l;f++){for(let d=0;d<u.length;d++)u[d]=Se.reedSolomonMultiply(u[d],c),d+1<u.length&&(u[d]^=u[d+1]);c=Se.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(f=>0);for(const f of l){const d=f^c.shift();c.push(0),u.forEach((h,m)=>c[m]^=Se.reedSolomonMultiply(h,d))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let f=7;f>=0;f--)c=c<<1^(c>>>7)*285,c^=(u>>>f&1)*l;return i(c>>>8==0),c}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(s,l,u){if(l<0||l>31||s>>>l)throw new RangeError("Value out of range");for(let c=l-1;c>=0;c--)u.push(s>>>c&1)}function r(s,l){return(s>>>l&1)!=0}function i(s){if(!s)throw new Error("Assertion error")}const o=class et{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(const c of l)n(c,8,u);return new et(et.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!et.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){const f=Math.min(l.length-c,3);n(parseInt(l.substring(c,c+f),10),f*3+1,u),c+=f}return new et(et.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!et.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let f=et.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;f+=et.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),n(f,11,u)}return c<l.length&&n(et.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new et(et.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:et.isNumeric(l)?[et.makeNumeric(l)]:et.isAlphanumeric(l)?[et.makeAlphanumeric(l)]:[et.makeBytes(et.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new et(et.Mode.ECI,0,u)}static isNumeric(l){return et.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return et.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(const f of l){const d=f.mode.numCharCountBits(u);if(f.numChars>=1<<d)return 1/0;c+=4+d+f.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substring(c+1,c+3),16)),c+=2);return u}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=o;e.QrSegment=o})(Po||(Po={}));(e=>{(t=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Po||(Po={}));(e=>{(t=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Po||(Po={}));var ua=Po;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var nK={L:ua.QrCode.Ecc.LOW,M:ua.QrCode.Ecc.MEDIUM,Q:ua.QrCode.Ecc.QUARTILE,H:ua.QrCode.Ecc.HIGH},oO=128,aO="L",sO="#FFFFFF",lO="#000000",uO=!1,cO=1,rK=4,iK=0,oK=.1;function fO(e,t=0){const n=[];return e.forEach(function(r,i){let o=null;r.forEach(function(a,s){if(!a&&o!==null){n.push(`M${o+t} ${i+t}h${s-o}v1H${o+t}z`),o=null;return}if(s===r.length-1){if(!a)return;o===null?n.push(`M${s+t},${i+t} h1v1H${s+t}z`):n.push(`M${o+t},${i+t} h${s+1-o}v1H${o+t}z`);return}a&&o===null&&(o=s)})}),n.join("")}function dO(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function aK(e,t,n,r){if(r==null)return null;const i=e.length+n*2,o=Math.floor(t*oK),a=i/t,s=(r.width||o)*a,l=(r.height||o)*a,u=r.x==null?e.length/2-s/2:r.x*a,c=r.y==null?e.length/2-l/2:r.y*a,f=r.opacity==null?1:r.opacity;let d=null;if(r.excavate){let m=Math.floor(u),g=Math.floor(c),v=Math.ceil(s+u-m),p=Math.ceil(l+c-g);d={x:m,y:g,w:v,h:p}}const h=r.crossOrigin;return{x:u,y:c,h:l,w:s,excavation:d,opacity:f,crossOrigin:h}}function sK(e,t){return t!=null?Math.max(Math.floor(t),0):e?rK:iK}function hO({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:o,size:a,boostLevel:s}){let l=R.useMemo(()=>{const m=(Array.isArray(e)?e:[e]).reduce((g,v)=>(g.push(...ua.QrSegment.makeSegments(v)),g),[]);return ua.QrCode.encodeSegments(m,nK[t],n,void 0,void 0,s)},[e,t,n,s]);const{cells:u,margin:c,numCells:f,calculatedImageSettings:d}=R.useMemo(()=>{let h=l.getModules();const m=sK(r,i),g=h.length+m*2,v=aK(h,a,m,o);return{cells:h,margin:m,numCells:g,calculatedImageSettings:v}},[l,a,o,r,i]);return{qrcode:l,margin:c,cells:u,numCells:f,calculatedImageSettings:d}}var lK=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),uK=R.forwardRef(function(t,n){const r=t,{value:i,size:o=oO,level:a=aO,bgColor:s=sO,fgColor:l=lO,includeMargin:u=uO,minVersion:c=cO,boostLevel:f,marginSize:d,imageSettings:h}=r,g=Gg(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=g,p=Gg(g,["style"]),w=h?.src,y=R.useRef(null),x=R.useRef(null),E=R.useCallback(T=>{y.current=T,typeof n=="function"?n(T):n&&(n.current=T)},[n]),[b,C]=R.useState(!1),{margin:k,cells:N,numCells:A,calculatedImageSettings:O}=hO({value:i,level:a,minVersion:c,boostLevel:f,includeMargin:u,marginSize:d,imageSettings:h,size:o});R.useEffect(()=>{if(y.current!=null){const T=y.current,P=T.getContext("2d");if(!P)return;let D=N;const $=x.current,M=O!=null&&$!==null&&$.complete&&$.naturalHeight!==0&&$.naturalWidth!==0;M&&O.excavation!=null&&(D=dO(N,O.excavation));const F=window.devicePixelRatio||1;T.height=T.width=o*F;const B=o/A*F;P.scale(B,B),P.fillStyle=s,P.fillRect(0,0,A,A),P.fillStyle=l,lK?P.fill(new Path2D(fO(D,k))):N.forEach(function(q,G){q.forEach(function(me,ce){me&&P.fillRect(ce+k,G+k,1,1)})}),O&&(P.globalAlpha=O.opacity),M&&P.drawImage($,O.x+k,O.y+k,O.w,O.h)}}),R.useEffect(()=>{C(!1)},[w]);const V=Qg({height:o,width:o},v);let I=null;return w!=null&&(I=R.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{C(!0)},ref:x,crossOrigin:O?.crossOrigin})),R.createElement(R.Fragment,null,R.createElement("canvas",Qg({style:V,height:o,width:o,ref:E,role:"img"},p)),I)});uK.displayName="QRCodeCanvas";var Rc=R.forwardRef(function(t,n){const r=t,{value:i,size:o=oO,level:a=aO,bgColor:s=sO,fgColor:l=lO,includeMargin:u=uO,minVersion:c=cO,boostLevel:f,title:d,marginSize:h,imageSettings:m}=r,g=Gg(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:p,numCells:w,calculatedImageSettings:y}=hO({value:i,level:a,minVersion:c,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:m,size:o});let x=p,E=null;m!=null&&y!=null&&(y.excavation!=null&&(x=dO(p,y.excavation)),E=R.createElement("image",{href:m.src,height:y.h,width:y.w,x:y.x+v,y:y.y+v,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const b=fO(x,v);return R.createElement("svg",Qg({height:o,width:o,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},g),!!d&&R.createElement("title",null,d),R.createElement("path",{fill:s,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),R.createElement("path",{fill:l,d:b,shapeRendering:"crispEdges"}),E)});Rc.displayName="QRCodeSVG";function cK(){const[e,t]=_.useState(""),[n,r]=_.useState(""),[i,o]=_.useState(""),[a,s]=_.useState(""),[l,u]=ae(H.BOOKMARKS),c=[["These bookmarks",window.location.href],["Fit Test for Everyone Discord","https://discord.gg/GeNhXx8Hxw"],["Fit testing resources wiki","https://github.com/emcee5601/fit-testing-resources/wiki"],["MFTC app","https://emcee5601.github.io/fit-test-console/"],["MFTC old versions","https://emcee5601.github.io/mftc-old/"],["MFTC app source","https://github.com/emcee5601/fit-test-console"],["Breathesafe","https://www.breathesafe.xyz/"]];Object.entries(l).forEach(([g,v])=>c.push([g,v]));function f(g,v){t(g),r(v)}function d(){return i&&!Object.values(l).includes(i)}function h(){if(!d())return;const g={};g[a||i]=i,Object.assign(g,l),u(g)}function m(g){const v={};Object.entries(l).filter(([p])=>p!==g).forEach(([p,w])=>v[p]=w),u(v)}return S.jsxs("div",{id:"bookmarks",style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"1em"},children:["Bookmarks",S.jsxs("div",{children:[e&&S.jsx("div",{className:"full-screen-overlay",children:S.jsxs("div",{onClick:()=>t(""),className:"qrcode-container",children:[S.jsx("span",{style:{display:"block"},children:n}),S.jsx("span",{style:{display:"block"},children:S.jsx("a",{href:e,children:e})}),S.jsx(Rc,{value:e,size:512,marginSize:4,title:n})]})}),S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Add new bookmark"}),S.jsxs("div",{id:"bookmark-adder",style:{display:"flex"},children:[S.jsxs("div",{style:{textAlign:"start",height:"100%",display:"flex",flexDirection:"column",gap:"0.3em"},children:[S.jsx("div",{className:"thin-border-2",children:S.jsx(xo,{id:"bookmark-title",initialValue:a,placeholder:"Title",onChange:g=>s(g||"")})}),S.jsx("div",{className:"thin-border-2",children:S.jsx(xo,{id:"bookmark-url",initialValue:i,placeholder:"URL",onChange:g=>o(g||"")})})]}),S.jsx("div",{style:{height:"100%"},children:S.jsx(Rc,{value:i,size:128,marginSize:4,title:i,onClick:()=>f(i,a),visibility:i?"visible":"hidden"})}),S.jsx("button",{onClick:()=>h(),disabled:!d(),children:"Save bookmark"})]})]}),c.map(([g,v])=>S.jsx("div",{children:S.jsxs("fieldset",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[S.jsx("legend",{children:g}),S.jsx("a",{href:v,children:v}),S.jsx(Rc,{value:v,size:128,marginSize:4,title:g,onClick:()=>f(v,g)}),g in l&&S.jsx("button",{onClick:()=>m(g),children:"delete"})]})},g))]})]})}const fK=l5({onNeedRefresh(){confirm("A new version is available. Update to the latest version?")&&fK(!0)}});QE(document.getElementById("root")).render(S.jsx(_.StrictMode,{children:S.jsx(L4,{children:S.jsx(_.Suspense,{fallback:"...",children:S.jsx(c4,{children:S.jsxs(_n,{path:"",element:S.jsx(qG,{}),children:[S.jsx(_n,{index:!0,element:S.jsx(s5,{})}),S.jsx(_n,{path:"view-results",element:S.jsx(JG,{})}),S.jsx(_n,{path:"settings",element:S.jsx(eU,{})}),S.jsx(_n,{path:"protocols",element:S.jsx(r5,{})}),S.jsx(_n,{path:"raw-data",element:S.jsx(tU,{})}),S.jsx(_n,{path:"stats",element:S.jsx(LG,{})}),S.jsx(_n,{path:"qrscanner",element:S.jsx(i5,{})}),S.jsx(_n,{path:"unsupported-browser",element:S.jsx(DT,{})}),S.jsx(_n,{path:"daily-checks",element:S.jsx(eK,{})}),S.jsx(_n,{path:"bookmarks",element:S.jsx(cK,{})})]})})})})}));export{R as A,bT as B,Ee as C,Eg as D,GG as L,_L as M,Rc as Q,xo as S,Ld as _,Wl as a,xt as b,Te as c,dK as d,hK as e,y6 as f,pK as g,vK as h,ZG as i,S as j,ae as k,H as l,So as m,wK as n,_K as o,RG as p,No as q,_ as r,e$ as s,jR as t,z5 as u};
