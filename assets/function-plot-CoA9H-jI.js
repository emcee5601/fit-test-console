import{a as Wt,c as H,g as Ua}from"./ajv-QZpGHo-X.js";var Xa={};typeof window<"u"&&function(t,e){try{t.querySelector(":scope body")}catch{["querySelector","querySelectorAll"].forEach(function(r){const i=e[r];e[r]=function(o){if(/(^|,)\s*:scope/.test(o)){const s=this.id;this.id="ID_"+Date.now(),o=o.replace(/((^|,)\s*):scope/g,"$1#"+this.id);const a=t[r](o);return this.id=s,a}else return i.call(this,o)}})}}(window.document,Element.prototype);var ar={};function F(t){return function(){return t}}const ds=Math.abs,ut=Math.atan2,Ht=Math.cos,Mf=Math.max,Ne=Math.min,gt=Math.sin,K=Math.sqrt,lt=1e-12,Jt=Math.PI,Fn=Jt/2,Qt=2*Jt;function Tf(t){return t>1?0:t<-1?Jt:Math.acos(t)}function gs(t){return t>=1?Fn:t<=-1?-Fn:Math.asin(t)}const pi=Math.PI,mi=2*pi,le=1e-6,Sf=mi-le;function ja(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Nf(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ja;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ef{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ja:Nf(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,u=r-e,l=i-n,c=s-e,h=a-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>le)if(!(Math.abs(h*u-l*c)>le)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,g=u*u+l*l,w=p*p+m*m,y=Math.sqrt(g),M=Math.sqrt(f),T=o*Math.tan((pi-Math.acos((g+f-w)/(2*y*M)))/2),E=T/M,C=T/y;Math.abs(E-1)>le&&this._append`L${e+E*c},${n+E*h}`,this._append`A${o},${o},0,0,${+(h*p>c*m)},${this._x1=e+C*u},${this._y1=n+C*l}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=e+a,c=n+u,h=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>le||Math.abs(this._y1-c)>le)&&this._append`L${l},${c}`,r&&(f<0&&(f=f%mi+mi),f>Sf?this._append`A${r},${r},0,1,${h},${e-a},${n-u}A${r},${r},0,1,${h},${this._x1=l},${this._y1=c}`:f>le&&this._append`A${r},${r},0,${+(f>=pi)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hn(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ef(e)}function $f(t){return t.innerRadius}function kf(t){return t.outerRadius}function Af(t){return t.startAngle}function Of(t){return t.endAngle}function Cf(t){return t&&t.padAngle}function Lf(t,e,n,r,i,o,s,a){var u=n-t,l=r-e,c=s-i,h=a-o,f=h*u-c*l;if(!(f*f<lt))return f=(c*(e-o)-h*(t-i))/f,[t+f*u,e+f*l]}function wn(t,e,n,r,i,o,s){var a=t-n,u=e-r,l=(s?o:-o)/K(a*a+u*u),c=l*u,h=-l*a,f=t+c,p=e+h,m=n+c,g=r+h,w=(f+m)/2,y=(p+g)/2,M=m-f,T=g-p,E=M*M+T*T,C=i-o,b=f*g-m*p,R=(T<0?-1:1)*K(Mf(0,C*C*E-b*b)),j=(b*T-M*R)/E,et=(-b*M-T*R)/E,Z=(b*T+M*R)/E,L=(-b*M+T*R)/E,U=j-w,A=et-y,d=Z-w,N=L-y;return U*U+A*A>d*d+N*N&&(j=Z,et=L),{cx:j,cy:et,x01:-c,y01:-h,x11:j*(i/C-1),y11:et*(i/C-1)}}function If(){var t=$f,e=kf,n=F(0),r=null,i=Af,o=Of,s=Cf,a=null,u=hn(l);function l(){var c,h,f=+t.apply(this,arguments),p=+e.apply(this,arguments),m=i.apply(this,arguments)-Fn,g=o.apply(this,arguments)-Fn,w=ds(g-m),y=g>m;if(a||(a=c=u()),p<f&&(h=p,p=f,f=h),!(p>lt))a.moveTo(0,0);else if(w>Qt-lt)a.moveTo(p*Ht(m),p*gt(m)),a.arc(0,0,p,m,g,!y),f>lt&&(a.moveTo(f*Ht(g),f*gt(g)),a.arc(0,0,f,g,m,y));else{var M=m,T=g,E=m,C=g,b=w,R=w,j=s.apply(this,arguments)/2,et=j>lt&&(r?+r.apply(this,arguments):K(f*f+p*p)),Z=Ne(ds(p-f)/2,+n.apply(this,arguments)),L=Z,U=Z,A,d;if(et>lt){var N=gs(et/f*gt(j)),v=gs(et/p*gt(j));(b-=N*2)>lt?(N*=y?1:-1,E+=N,C-=N):(b=0,E=C=(m+g)/2),(R-=v*2)>lt?(v*=y?1:-1,M+=v,T-=v):(R=0,M=T=(m+g)/2)}var $=p*Ht(M),I=p*gt(M),D=f*Ht(C),z=f*gt(C);if(Z>lt){var X=p*Ht(T),W=p*gt(T),at=f*Ht(E),J=f*gt(E),tt;if(w<Jt)if(tt=Lf($,I,at,J,X,W,D,z)){var ft=$-tt[0],st=I-tt[1],ht=X-tt[0],S=W-tt[1],Y=1/gt(Tf((ft*ht+st*S)/(K(ft*ft+st*st)*K(ht*ht+S*S)))/2),q=K(tt[0]*tt[0]+tt[1]*tt[1]);L=Ne(Z,(f-q)/(Y-1)),U=Ne(Z,(p-q)/(Y+1))}else L=U=0}R>lt?U>lt?(A=wn(at,J,$,I,p,U,y),d=wn(X,W,D,z,p,U,y),a.moveTo(A.cx+A.x01,A.cy+A.y01),U<Z?a.arc(A.cx,A.cy,U,ut(A.y01,A.x01),ut(d.y01,d.x01),!y):(a.arc(A.cx,A.cy,U,ut(A.y01,A.x01),ut(A.y11,A.x11),!y),a.arc(0,0,p,ut(A.cy+A.y11,A.cx+A.x11),ut(d.cy+d.y11,d.cx+d.x11),!y),a.arc(d.cx,d.cy,U,ut(d.y11,d.x11),ut(d.y01,d.x01),!y))):(a.moveTo($,I),a.arc(0,0,p,M,T,!y)):a.moveTo($,I),!(f>lt)||!(b>lt)?a.lineTo(D,z):L>lt?(A=wn(D,z,X,W,f,-L,y),d=wn($,I,at,J,f,-L,y),a.lineTo(A.cx+A.x01,A.cy+A.y01),L<Z?a.arc(A.cx,A.cy,L,ut(A.y01,A.x01),ut(d.y01,d.x01),!y):(a.arc(A.cx,A.cy,L,ut(A.y01,A.x01),ut(A.y11,A.x11),!y),a.arc(0,0,f,ut(A.cy+A.y11,A.cx+A.x11),ut(d.cy+d.y11,d.cx+d.x11),y),a.arc(d.cx,d.cy,L,ut(d.y11,d.x11),ut(d.y01,d.x01),!y))):a.arc(0,0,f,C,E,y)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Jt/2;return[Ht(h)*c,gt(h)*c]},l.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:F(+c),l):t},l.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:F(+c),l):e},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:F(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:F(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:F(+c),l):i},l.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:F(+c),l):o},l.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:F(+c),l):s},l.context=function(c){return arguments.length?(a=c??null,l):a},l}var Pf=Array.prototype.slice;function ur(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ba(t){this._context=t}Ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lr(t){return new Ba(t)}function Di(t){return t[0]}function Ri(t){return t[1]}function Hi(t,e){var n=F(!0),r=null,i=lr,o=null,s=hn(a);t=typeof t=="function"?t:t===void 0?Di:F(t),e=typeof e=="function"?e:e===void 0?Ri:F(e);function a(u){var l,c=(u=ur(u)).length,h,f=!1,p;for(r==null&&(o=i(p=s())),l=0;l<=c;++l)!(l<c&&n(h=u[l],l,u))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,l,u),+e(h,l,u));if(p)return o=null,p+""||null}return a.x=function(u){return arguments.length?(t=typeof u=="function"?u:F(+u),a):t},a.y=function(u){return arguments.length?(e=typeof u=="function"?u:F(+u),a):e},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:F(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),a):r},a}function Ga(t,e,n){var r=null,i=F(!0),o=null,s=lr,a=null,u=hn(l);t=typeof t=="function"?t:t===void 0?Di:F(+t),e=typeof e=="function"?e:F(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Ri:F(+n);function l(h){var f,p,m,g=(h=ur(h)).length,w,y=!1,M,T=new Array(g),E=new Array(g);for(o==null&&(a=s(M=u())),f=0;f<=g;++f){if(!(f<g&&i(w=h[f],f,h))===y)if(y=!y)p=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=f-1;m>=p;--m)a.point(T[m],E[m]);a.lineEnd(),a.areaEnd()}y&&(T[f]=+t(w,f,h),E[f]=+e(w,f,h),a.point(r?+r(w,f,h):T[f],n?+n(w,f,h):E[f]))}if(M)return a=null,M+""||null}function c(){return Hi().defined(i).curve(s).context(o)}return l.x=function(h){return arguments.length?(t=typeof h=="function"?h:F(+h),r=null,l):t},l.x0=function(h){return arguments.length?(t=typeof h=="function"?h:F(+h),l):t},l.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:F(+h),l):r},l.y=function(h){return arguments.length?(e=typeof h=="function"?h:F(+h),n=null,l):e},l.y0=function(h){return arguments.length?(e=typeof h=="function"?h:F(+h),l):e},l.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:F(+h),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(h){return arguments.length?(i=typeof h=="function"?h:F(!!h),l):i},l.curve=function(h){return arguments.length?(s=h,o!=null&&(a=s(o)),l):s},l.context=function(h){return arguments.length?(h==null?o=a=null:a=s(o=h),l):o},l}function Df(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Rf(t){return t}function Hf(){var t=Rf,e=Df,n=null,r=F(0),i=F(Qt),o=F(0);function s(a){var u,l=(a=ur(a)).length,c,h,f=0,p=new Array(l),m=new Array(l),g=+r.apply(this,arguments),w=Math.min(Qt,Math.max(-Qt,i.apply(this,arguments)-g)),y,M=Math.min(Math.abs(w)/l,o.apply(this,arguments)),T=M*(w<0?-1:1),E;for(u=0;u<l;++u)(E=m[p[u]=u]=+t(a[u],u,a))>0&&(f+=E);for(e!=null?p.sort(function(C,b){return e(m[C],m[b])}):n!=null&&p.sort(function(C,b){return n(a[C],a[b])}),u=0,h=f?(w-l*T)/f:0;u<l;++u,g=y)c=p[u],E=m[c],y=g+(E>0?E*h:0)+T,m[c]={data:a[c],index:u,value:E,startAngle:g,endAngle:y,padAngle:M};return m}return s.value=function(a){return arguments.length?(t=typeof a=="function"?a:F(+a),s):t},s.sortValues=function(a){return arguments.length?(e=a,n=null,s):e},s.sort=function(a){return arguments.length?(n=a,e=null,s):n},s.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:F(+a),s):r},s.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:F(+a),s):i},s.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:F(+a),s):o},s}var Wa=Fi(lr);function Va(t){this._curve=t}Va.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Fi(t){function e(n){return new Va(t(n))}return e._curve=t,e}function Qe(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Fi(n)):e()._curve},t}function _s(){return Qe(Hi().curve(Wa))}function ys(){var t=Ga().curve(Wa),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Qe(n())},delete t.lineX0,t.lineEndAngle=function(){return Qe(r())},delete t.lineX1,t.lineInnerRadius=function(){return Qe(i())},delete t.lineY0,t.lineOuterRadius=function(){return Qe(o())},delete t.lineY1,t.curve=function(s){return arguments.length?e(Fi(s)):e()._curve},t}function Ke(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class Za{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class Ff{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const r=Ke(this._x0,this._y0),i=Ke(this._x0,this._y0=(this._y0+n)/2),o=Ke(e,this._y0),s=Ke(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...s)}this._x0=e,this._y0=n}}function Qa(t){return new Za(t,!0)}function Ka(t){return new Za(t,!1)}function zf(t){return new Ff(t)}function Yf(t){return t.source}function qf(t){return t.target}function cr(t){let e=Yf,n=qf,r=Di,i=Ri,o=null,s=null,a=hn(u);function u(){let l;const c=Pf.call(arguments),h=e.apply(this,c),f=n.apply(this,c);if(o==null&&(s=t(l=a())),s.lineStart(),c[0]=h,s.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,s.point(+r.apply(this,c),+i.apply(this,c)),s.lineEnd(),l)return s=null,l+""||null}return u.source=function(l){return arguments.length?(e=l,u):e},u.target=function(l){return arguments.length?(n=l,u):n},u.x=function(l){return arguments.length?(r=typeof l=="function"?l:F(+l),u):r},u.y=function(l){return arguments.length?(i=typeof l=="function"?l:F(+l),u):i},u.context=function(l){return arguments.length?(l==null?o=s=null:s=t(o=l),u):o},u}function Uf(){return cr(Qa)}function Xf(){return cr(Ka)}function jf(){const t=cr(zf);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Bf=K(3),Ja={draw(t,e){const n=K(e+Ne(e/28,.75))*.59436,r=n/2,i=r*Bf;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},fr={draw(t,e){const n=K(e/Jt);t.moveTo(n,0),t.arc(0,0,n,0,Qt)}},tu={draw(t,e){const n=K(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},eu=K(1/3),Gf=eu*2,nu={draw(t,e){const n=K(e/Gf),r=n*eu;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ru={draw(t,e){const n=K(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},iu={draw(t,e){const n=K(e-Ne(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},ou={draw(t,e){const n=K(e),r=-n/2;t.rect(r,r,n,n)}},su={draw(t,e){const n=K(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},Wf=.8908130915292852,au=gt(Jt/10)/gt(7*Jt/10),Vf=gt(Qt/10)*au,Zf=-Ht(Qt/10)*au,uu={draw(t,e){const n=K(e*Wf),r=Vf*n,i=Zf*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Qt*o/5,a=Ht(s),u=gt(s);t.lineTo(u*n,-a*n),t.lineTo(a*r-u*i,u*r+a*i)}t.closePath()}},Zr=K(3),lu={draw(t,e){const n=-K(e/(Zr*3));t.moveTo(0,n*2),t.lineTo(-Zr*n,-n),t.lineTo(Zr*n,-n),t.closePath()}},Qf=K(3),cu={draw(t,e){const n=K(e)*.6824,r=n/2,i=n*Qf/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},xt=-.5,bt=K(3)/2,di=1/K(12),Kf=(di/2+1)*3,fu={draw(t,e){const n=K(e/Kf),r=n/2,i=n*di,o=r,s=n*di+n,a=-o,u=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,u),t.lineTo(xt*r-bt*i,bt*r+xt*i),t.lineTo(xt*o-bt*s,bt*o+xt*s),t.lineTo(xt*a-bt*u,bt*a+xt*u),t.lineTo(xt*r+bt*i,xt*i-bt*r),t.lineTo(xt*o+bt*s,xt*s-bt*o),t.lineTo(xt*a+bt*u,xt*u-bt*a),t.closePath()}},gi={draw(t,e){const n=K(e-Ne(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},vs=[fr,tu,nu,ou,uu,lu,fu],Jf=[fr,iu,gi,cu,Ja,su,ru];function th(t,e){let n=null,r=hn(i);t=typeof t=="function"?t:F(t||fr),e=typeof e=="function"?e:F(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:F(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:F(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function te(){}function zn(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function hr(t){this._context=t}hr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zn(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zn(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eh(t){return new hr(t)}function hu(t){this._context=t}hu.prototype={areaStart:te,areaEnd:te,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zn(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nh(t){return new hu(t)}function pu(t){this._context=t}pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zn(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rh(t){return new pu(t)}function mu(t,e){this._basis=new hr(t),this._beta=e}mu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,s=e[n]-i,a=-1,u;++a<=n;)u=a/n,this._basis.point(this._beta*t[a]+(1-this._beta)*(r+u*o),this._beta*e[a]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const ih=function t(e){function n(r){return e===1?new hr(r):new mu(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Yn(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function zi(t,e){this._context=t,this._k=(1-e)/6}zi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yn(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Yn(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const oh=function t(e){function n(r){return new zi(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Yi(t,e){this._context=t,this._k=(1-e)/6}Yi.prototype={areaStart:te,areaEnd:te,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Yn(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const sh=function t(e){function n(r){return new Yi(r,e)}return n.tension=function(r){return t(+r)},n}(0);function qi(t,e){this._context=t,this._k=(1-e)/6}qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yn(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ah=function t(e){function n(r){return new qi(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Ui(t,e,n){var r=t._x1,i=t._y1,o=t._x2,s=t._y2;if(t._l01_a>lt){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>lt){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,s=(s*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,s,t._x2,t._y2)}function du(t,e){this._context=t,this._alpha=e}du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ui(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const uh=function t(e){function n(r){return e?new du(r,e):new zi(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function gu(t,e){this._context=t,this._alpha=e}gu.prototype={areaStart:te,areaEnd:te,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ui(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const lh=function t(e){function n(r){return e?new gu(r,e):new Yi(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function _u(t,e){this._context=t,this._alpha=e}_u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ui(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ch=function t(e){function n(r){return e?new _u(r,e):new qi(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function yu(t){this._context=t}yu.prototype={areaStart:te,areaEnd:te,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fh(t){return new yu(t)}function ws(t){return t<0?-1:1}function xs(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(ws(o)+ws(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function bs(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Qr(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function qn(t){this._context=t}qn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qr(this,this._t0,bs(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qr(this,bs(this,n=xs(this,t,e)),n);break;default:Qr(this,this._t0,n=xs(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function vu(t){this._context=new wu(t)}(vu.prototype=Object.create(qn.prototype)).point=function(t,e){qn.prototype.point.call(this,e,t)};function wu(t){this._context=t}wu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function hh(t){return new qn(t)}function ph(t){return new vu(t)}function xu(t){this._context=t}xu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Ms(t),i=Ms(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ms(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function mh(t){return new xu(t)}function pr(t,e){this._context=t,this._t=e}pr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function dh(t){return new pr(t,.5)}function gh(t){return new pr(t,0)}function _h(t){return new pr(t,1)}function Ae(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Oe(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function yh(t,e){return t[e]}function vh(t){const e=[];return e.key=t,e}function wh(){var t=F([]),e=Oe,n=Ae,r=yh;function i(o){var s=Array.from(t.apply(this,arguments),vh),a,u=s.length,l=-1,c;for(const h of o)for(a=0,++l;a<u;++a)(s[a][l]=[0,+r(h,s[a].key,l,o)]).data=h;for(a=0,c=ur(e(s));a<u;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:F(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:F(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Oe:typeof o=="function"?o:F(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ae,i):n},i}function xh(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Ae(t,e)}}function bh(t,e){if((u=t.length)>0)for(var n,r=0,i,o,s,a,u,l=t[e[0]].length;r<l;++r)for(s=a=0,n=0;n<u;++n)(o=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=s,i[1]=s+=o):o<0?(i[1]=a,i[0]=a+=o):(i[0]=0,i[1]=o)}function Mh(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Ae(t,e)}}function Th(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,u=0,l=0;a<s;++a){for(var c=t[e[a]],h=c[r][1]||0,f=c[r-1][1]||0,p=(h-f)/2,m=0;m<a;++m){var g=t[e[m]],w=g[r][1]||0,y=g[r-1][1]||0;p+=w-y}u+=h,l+=p*h}i[r-1][1]+=i[r-1][0]=n,u&&(n-=l/u)}i[r-1][1]+=i[r-1][0]=n,Ae(t,e)}}function bu(t){var e=t.map(Sh);return Oe(t).sort(function(n,r){return e[n]-e[r]})}function Sh(t){for(var e=-1,n=0,r=t.length,i,o=-1/0;++e<r;)(i=+t[e][1])>o&&(o=i,n=e);return n}function Mu(t){var e=t.map(Tu);return Oe(t).sort(function(n,r){return e[n]-e[r]})}function Tu(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function Nh(t){return Mu(t).reverse()}function Eh(t){var e=t.length,n,r,i=t.map(Tu),o=bu(t),s=0,a=0,u=[],l=[];for(n=0;n<e;++n)r=o[n],s<a?(s+=i[r],u.push(r)):(a+=i[r],l.push(r));return l.reverse().concat(u)}function $h(t){return Oe(t).reverse()}const kh=Object.freeze(Object.defineProperty({__proto__:null,arc:If,area:Ga,areaRadial:ys,curveBasis:eh,curveBasisClosed:nh,curveBasisOpen:rh,curveBumpX:Qa,curveBumpY:Ka,curveBundle:ih,curveCardinal:oh,curveCardinalClosed:sh,curveCardinalOpen:ah,curveCatmullRom:uh,curveCatmullRomClosed:lh,curveCatmullRomOpen:ch,curveLinear:lr,curveLinearClosed:fh,curveMonotoneX:hh,curveMonotoneY:ph,curveNatural:mh,curveStep:dh,curveStepAfter:_h,curveStepBefore:gh,line:Hi,lineRadial:_s,link:cr,linkHorizontal:Uf,linkRadial:jf,linkVertical:Xf,pie:Hf,pointRadial:Ke,radialArea:ys,radialLine:_s,stack:wh,stackOffsetDiverging:bh,stackOffsetExpand:xh,stackOffsetNone:Ae,stackOffsetSilhouette:Mh,stackOffsetWiggle:Th,stackOrderAppearance:bu,stackOrderAscending:Mu,stackOrderDescending:Nh,stackOrderInsideOut:Eh,stackOrderNone:Oe,stackOrderReverse:$h,symbol:th,symbolAsterisk:Ja,symbolCircle:fr,symbolCross:tu,symbolDiamond:nu,symbolDiamond2:ru,symbolPlus:iu,symbolSquare:ou,symbolSquare2:su,symbolStar:uu,symbolTimes:gi,symbolTriangle:lu,symbolTriangle2:cu,symbolWye:fu,symbolX:gi,symbols:vs,symbolsFill:vs,symbolsStroke:Jf},Symbol.toStringTag,{value:"Module"})),mr=Wt(kh);function Ah(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Un(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ce(t){return t=Un(Math.abs(t)),t?t[1]:NaN}function Oh(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Ch(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Lh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Le(t){if(!(e=Lh.exec(t)))throw new Error("invalid format: "+t);var e;return new dr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Le.prototype=dr.prototype;function dr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ih(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Su;function Ph(t,e){var n=Un(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Su=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Un(t,Math.max(0,e+o-1))[0]}function Ts(t,e){var n=Un(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ss={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ah,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ts(t*100,e),r:Ts,s:Ph,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ns(t){return t}var Es=Array.prototype.map,$s=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Nu(t){var e=t.grouping===void 0||t.thousands===void 0?Ns:Oh(Es.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Ns:Ch(Es.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Le(h);var f=h.fill,p=h.align,m=h.sign,g=h.symbol,w=h.zero,y=h.width,M=h.comma,T=h.precision,E=h.trim,C=h.type;C==="n"?(M=!0,C="g"):Ss[C]||(T===void 0&&(T=12),E=!0,C="g"),(w||f==="0"&&p==="=")&&(w=!0,f="0",p="=");var b=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",R=g==="$"?r:/[%p]/.test(C)?s:"",j=Ss[C],et=/[defgprs%]/.test(C);T=T===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function Z(L){var U=b,A=R,d,N,v;if(C==="c")A=j(L)+A,L="";else{L=+L;var $=L<0||1/L<0;if(L=isNaN(L)?u:j(Math.abs(L),T),E&&(L=Ih(L)),$&&+L==0&&m!=="+"&&($=!1),U=($?m==="("?m:a:m==="-"||m==="("?"":m)+U,A=(C==="s"?$s[8+Su/3]:"")+A+($&&m==="("?")":""),et){for(d=-1,N=L.length;++d<N;)if(v=L.charCodeAt(d),48>v||v>57){A=(v===46?i+L.slice(d+1):L.slice(d))+A,L=L.slice(0,d);break}}}M&&!w&&(L=e(L,1/0));var I=U.length+L.length+A.length,D=I<y?new Array(y-I+1).join(f):"";switch(M&&w&&(L=e(D+L,D.length?y-A.length:1/0),D=""),p){case"<":L=U+L+A+D;break;case"=":L=U+D+L+A;break;case"^":L=D.slice(0,I=D.length>>1)+U+L+A+D.slice(I);break;default:L=D+U+L+A;break}return o(L)}return Z.toString=function(){return h+""},Z}function c(h,f){var p=l((h=Le(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Ce(f)/3)))*3,g=Math.pow(10,-m),w=$s[8+m/3];return function(y){return p(g*y)+w}}return{format:l,formatPrefix:c}}var xn,gr,Xi;Eu({thousands:",",grouping:[3],currency:["$",""]});function Eu(t){return xn=Nu(t),gr=xn.format,Xi=xn.formatPrefix,xn}function $u(t){return Math.max(0,-Ce(Math.abs(t)))}function ku(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ce(e)/3)))*3-Ce(Math.abs(t)))}function Au(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ce(e)-Ce(t))+1}const Dh=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:dr,get format(){return gr},formatDefaultLocale:Eu,formatLocale:Nu,get formatPrefix(){return Xi},formatSpecifier:Le,precisionFixed:$u,precisionPrefix:ku,precisionRound:Au},Symbol.toStringTag,{value:"Module"})),Rh=Wt(Dh);function Kt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hh(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ji(t){let e,n,r;t.length!==2?(e=Kt,n=(a,u)=>Kt(t(a),u),r=(a,u)=>t(a)-u):(e=t===Kt||t===Hh?t:Fh,n=t,r=t);function i(a,u,l=0,c=a.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(a[h],u)<0?l=h+1:c=h}while(l<c)}return l}function o(a,u,l=0,c=a.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(a[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function s(a,u,l=0,c=a.length){const h=i(a,u,l,c-1);return h>l&&r(a[h-1],u)>-r(a[h],u)?h-1:h}return{left:i,center:s,right:o}}function Fh(){return 0}function Ou(t){return t===null?NaN:+t}function*zh(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Yh=ji(Kt),pn=Yh.right;ji(Ou).center;class ks extends Map{constructor(e,n=Xh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(As(this,e))}has(e){return super.has(As(this,e))}set(e,n){return super.set(qh(this,e),n)}delete(e){return super.delete(Uh(this,e))}}function As({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function qh({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Uh({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Xh(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jh(t=Kt){if(t===Kt)return Cu;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Cu(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Bh=Math.sqrt(50),Gh=Math.sqrt(10),Wh=Math.sqrt(2);function Xn(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Bh?10:o>=Gh?5:o>=Wh?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/s,a=Math.round(t*l),u=Math.round(e*l),a/l<t&&++a,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*s,a=Math.round(t/l),u=Math.round(e/l),a*l<t&&++a,u*l>e&&--u),u<a&&.5<=n&&n<2?Xn(t,e,n*2):[a,u,l]}function _i(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Xn(e,t,n):Xn(t,e,n);if(!(o>=i))return[];const a=o-i+1,u=new Array(a);if(r)if(s<0)for(let l=0;l<a;++l)u[l]=(o-l)/-s;else for(let l=0;l<a;++l)u[l]=(o-l)*s;else if(s<0)for(let l=0;l<a;++l)u[l]=(i+l)/-s;else for(let l=0;l<a;++l)u[l]=(i+l)*s;return u}function yi(t,e,n){return e=+e,t=+t,n=+n,Xn(t,e,n)[2]}function vi(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?yi(e,t,n):yi(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Os(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Cs(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Lu(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Cu:jh(i);r>n;){if(r-n>600){const u=r-n+1,l=e-n+1,c=Math.log(u),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*h/u+f)),m=Math.min(r,Math.floor(e+(u-l)*h/u+f));Lu(t,e,p,m,i)}const o=t[e];let s=n,a=r;for(je(t,n,e),i(t[r],o)>0&&je(t,n,r);s<a;){for(je(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?je(t,n,a):(++a,je(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function je(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Vh(t,e,n){if(t=Float64Array.from(zh(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Cs(t);if(e>=1)return Os(t);var r,i=(r-1)*e,o=Math.floor(i),s=Os(Lu(t,o).subarray(0,o+1)),a=Cs(t.subarray(o+1));return s+(a-s)*(i-o)}}function Zh(t,e,n=Ou){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Qh(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Nt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vt(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wi=Symbol("implicit");function Bi(){var t=new ks,e=[],n=[],r=wi;function i(o){let s=t.get(o);if(s===void 0){if(r!==wi)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ks;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Bi(e,n).unknown(r)},Nt.apply(i,arguments),i}function Gi(){var t=Bi().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,u=0,l=0,c=.5;delete t.unknown;function h(){var f=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,f-u+l*2),a&&(o=Math.floor(o)),m+=(g-m-o*(f-u))*c,s=o*(1-u),a&&(m=Math.round(m),s=Math.round(s));var w=Qh(f).map(function(y){return m+o*y});return n(p?w.reverse():w)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(f){return arguments.length?(a=!!f,h()):a},t.padding=function(f){return arguments.length?(u=Math.min(1,l=+f),h()):u},t.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},t.paddingOuter=function(f){return arguments.length?(l=+f,h()):l},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return Gi(e(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},Nt.apply(h(),arguments)}function Iu(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Iu(e())},t}function Kh(){return Iu(Gi.apply(null,arguments).paddingInner(1))}function ze(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ne(){}var de=.7,Ie=1/de,Ee="\\s*([+-]?\\d+)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jh=/^#([0-9a-f]{3,8})$/,tp=new RegExp(`^rgb\\(${Ee},${Ee},${Ee}\\)$`),ep=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),np=new RegExp(`^rgba\\(${Ee},${Ee},${Ee},${rn}\\)$`),rp=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${rn}\\)$`),ip=new RegExp(`^hsl\\(${rn},${Lt},${Lt}\\)$`),op=new RegExp(`^hsla\\(${rn},${Lt},${Lt},${rn}\\)$`),Ls={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ze(ne,ee,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Is,formatHex:Is,formatHex8:sp,formatHsl:ap,formatRgb:Ps,toString:Ps});function Is(){return this.rgb().formatHex()}function sp(){return this.rgb().formatHex8()}function ap(){return Pu(this).formatHsl()}function Ps(){return this.rgb().formatRgb()}function ee(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Jh.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ds(e):n===3?new rt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?bn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?bn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tp.exec(t))?new rt(e[1],e[2],e[3],1):(e=ep.exec(t))?new rt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=np.exec(t))?bn(e[1],e[2],e[3],e[4]):(e=rp.exec(t))?bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ip.exec(t))?Fs(e[1],e[2]/100,e[3]/100,1):(e=op.exec(t))?Fs(e[1],e[2]/100,e[3]/100,e[4]):Ls.hasOwnProperty(t)?Ds(Ls[t]):t==="transparent"?new rt(NaN,NaN,NaN,0):null}function Ds(t){return new rt(t>>16&255,t>>8&255,t&255,1)}function bn(t,e,n,r){return r<=0&&(t=e=n=NaN),new rt(t,e,n,r)}function Wi(t){return t instanceof ne||(t=ee(t)),t?(t=t.rgb(),new rt(t.r,t.g,t.b,t.opacity)):new rt}function on(t,e,n,r){return arguments.length===1?Wi(t):new rt(t,e,n,r??1)}function rt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ze(rt,on,mn(ne,{brighter(t){return t=t==null?Ie:Math.pow(Ie,t),new rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?de:Math.pow(de,t),new rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rt(pe(this.r),pe(this.g),pe(this.b),jn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rs,formatHex:Rs,formatHex8:up,formatRgb:Hs,toString:Hs}));function Rs(){return`#${ce(this.r)}${ce(this.g)}${ce(this.b)}`}function up(){return`#${ce(this.r)}${ce(this.g)}${ce(this.b)}${ce((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hs(){const t=jn(this.opacity);return`${t===1?"rgb(":"rgba("}${pe(this.r)}, ${pe(this.g)}, ${pe(this.b)}${t===1?")":`, ${t})`}`}function jn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ce(t){return t=pe(t),(t<16?"0":"")+t.toString(16)}function Fs(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Et(t,e,n,r)}function Pu(t){if(t instanceof Et)return new Et(t.h,t.s,t.l,t.opacity);if(t instanceof ne||(t=ee(t)),!t)return new Et;if(t instanceof Et)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new Et(s,a,u,t.opacity)}function Bn(t,e,n,r){return arguments.length===1?Pu(t):new Et(t,e,n,r??1)}function Et(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ze(Et,Bn,mn(ne,{brighter(t){return t=t==null?Ie:Math.pow(Ie,t),new Et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?de:Math.pow(de,t),new Et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new rt(Kr(t>=240?t-240:t+120,i,r),Kr(t,i,r),Kr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Et(zs(this.h),Mn(this.s),Mn(this.l),jn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jn(this.opacity);return`${t===1?"hsl(":"hsla("}${zs(this.h)}, ${Mn(this.s)*100}%, ${Mn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zs(t){return t=(t||0)%360,t<0?t+360:t}function Mn(t){return Math.max(0,Math.min(1,t||0))}function Kr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Du=Math.PI/180,Ru=180/Math.PI,Gn=18,Hu=.96422,Fu=1,zu=.82521,Yu=4/29,$e=6/29,qu=3*$e*$e,lp=$e*$e*$e;function Uu(t){if(t instanceof $t)return new $t(t.l,t.a,t.b,t.opacity);if(t instanceof Ot)return ju(t);t instanceof rt||(t=Wi(t));var e=ni(t.r),n=ni(t.g),r=ni(t.b),i=Jr((.2225045*e+.7168786*n+.0606169*r)/Fu),o,s;return e===n&&n===r?o=s=i:(o=Jr((.4360747*e+.3850649*n+.1430804*r)/Hu),s=Jr((.0139322*e+.0971045*n+.7141733*r)/zu)),new $t(116*i-16,500*(o-i),200*(i-s),t.opacity)}function cp(t,e){return new $t(t,0,0,e??1)}function Wn(t,e,n,r){return arguments.length===1?Uu(t):new $t(t,e,n,r??1)}function $t(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}ze($t,Wn,mn(ne,{brighter(t){return new $t(this.l+Gn*(t??1),this.a,this.b,this.opacity)},darker(t){return new $t(this.l-Gn*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Hu*ti(e),t=Fu*ti(t),n=zu*ti(n),new rt(ei(3.1338561*e-1.6168667*t-.4906146*n),ei(-.9787684*e+1.9161415*t+.033454*n),ei(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Jr(t){return t>lp?Math.pow(t,1/3):t/qu+Yu}function ti(t){return t>$e?t*t*t:qu*(t-Yu)}function ei(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ni(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Xu(t){if(t instanceof Ot)return new Ot(t.h,t.c,t.l,t.opacity);if(t instanceof $t||(t=Uu(t)),t.a===0&&t.b===0)return new Ot(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ru;return new Ot(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function fp(t,e,n,r){return arguments.length===1?Xu(t):new Ot(n,e,t,r??1)}function Vn(t,e,n,r){return arguments.length===1?Xu(t):new Ot(t,e,n,r??1)}function Ot(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ju(t){if(isNaN(t.h))return new $t(t.l,0,0,t.opacity);var e=t.h*Du;return new $t(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ze(Ot,Vn,mn(ne,{brighter(t){return new Ot(this.h,this.c,this.l+Gn*(t??1),this.opacity)},darker(t){return new Ot(this.h,this.c,this.l-Gn*(t??1),this.opacity)},rgb(){return ju(this).rgb()}}));var Bu=-.14861,Vi=1.78277,Zi=-.29227,_r=-.90649,sn=1.97294,Ys=sn*_r,qs=sn*Vi,Us=Vi*Zi-_r*Bu;function hp(t){if(t instanceof me)return new me(t.h,t.s,t.l,t.opacity);t instanceof rt||(t=Wi(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Us*r+Ys*e-qs*n)/(Us+Ys-qs),o=r-i,s=(sn*(n-i)-Zi*o)/_r,a=Math.sqrt(s*s+o*o)/(sn*i*(1-i)),u=a?Math.atan2(s,o)*Ru-120:NaN;return new me(u<0?u+360:u,a,i,t.opacity)}function Zn(t,e,n,r){return arguments.length===1?hp(t):new me(t,e,n,r??1)}function me(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ze(me,Zn,mn(ne,{brighter(t){return t=t==null?Ie:Math.pow(Ie,t),new me(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?de:Math.pow(de,t),new me(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Du,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new rt(255*(e+n*(Bu*r+Vi*i)),255*(e+n*(Zi*r+_r*i)),255*(e+n*(sn*r)),this.opacity)}}));const pp=Object.freeze(Object.defineProperty({__proto__:null,color:ee,cubehelix:Zn,gray:cp,hcl:Vn,hsl:Bn,lab:Wn,lch:fp,rgb:on},Symbol.toStringTag,{value:"Module"}));function Gu(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}function Wu(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return Gu((n-r/e)*e,s,i,o,a)}}function Vu(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return Gu((n-r/e)*e,i,o,s,a)}}const yr=t=>()=>t;function Zu(t,e){return function(n){return t+n*e}}function mp(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vr(t,e){var n=e-t;return n?Zu(t,n>180||n<-180?n-360*Math.round(n/360):n):yr(isNaN(t)?e:t)}function dp(t){return(t=+t)==1?it:function(e,n){return n-e?mp(e,n,t):yr(isNaN(e)?n:e)}}function it(t,e){var n=e-t;return n?Zu(t,n):yr(isNaN(t)?e:t)}const an=function t(e){var n=dp(e);function r(i,o){var s=n((i=on(i)).r,(o=on(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=it(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Qu(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=on(e[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=o(u),a+""}}}var gp=Qu(Wu),_p=Qu(Vu);function Qi(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Ku(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yp(t,e){return(Ku(e)?Qi:Ju)(t,e)}function Ju(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=ve(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function tl(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function el(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ve(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var xi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ri=new RegExp(xi.source,"g");function vp(t){return function(){return t}}function wp(t){return function(e){return t(e)+""}}function Ki(t,e){var n=xi.lastIndex=ri.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",e=e+"";(r=xi.exec(t))&&(i=ri.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Mt(r,i)})),n=ri.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?wp(u[0].x):vp(e):(e=u.length,function(l){for(var c=0,h;c<e;++c)a[(h=u[c]).i]=h.x(l);return a.join("")})}function ve(t,e){var n=typeof e,r;return e==null||n==="boolean"?yr(e):(n==="number"?Mt:n==="string"?(r=ee(e))?(e=r,an):Ki:e instanceof ee?an:e instanceof Date?tl:Ku(e)?Qi:Array.isArray(e)?Ju:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?el:Mt)(t,e)}function xp(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function bp(t,e){var n=vr(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function wr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Xs=180/Math.PI,bi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nl(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Xs,skewX:Math.atan(u)*Xs,scaleX:s,scaleY:a}}var Tn;function Mp(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bi:nl(e.a,e.b,e.c,e.d,e.e,e.f)}function Tp(t){return t==null||(Tn||(Tn=document.createElementNS("http://www.w3.org/2000/svg","g")),Tn.setAttribute("transform",t),!(t=Tn.transform.baseVal.consolidate()))?bi:(t=t.matrix,nl(t.a,t.b,t.c,t.d,t.e,t.f))}function rl(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,h,f,p,m){if(l!==h||c!==f){var g=p.push("translate(",null,e,null,n);m.push({i:g-4,x:Mt(l,h)},{i:g-2,x:Mt(c,f)})}else(h||f)&&p.push("translate("+h+e+f+n)}function s(l,c,h,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Mt(l,c)})):c&&h.push(i(h)+"rotate("+c+r)}function a(l,c,h,f){l!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Mt(l,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(l,c,h,f,p,m){if(l!==h||c!==f){var g=p.push(i(p)+"scale(",null,",",null,")");m.push({i:g-4,x:Mt(l,h)},{i:g-2,x:Mt(c,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(l,c){var h=[],f=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,h,f),s(l.rotate,c.rotate,h,f),a(l.skewX,c.skewX,h,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,f),l=c=null,function(p){for(var m=-1,g=f.length,w;++m<g;)h[(w=f[m]).i]=w.x(p);return h.join("")}}}var il=rl(Mp,"px, ","px)","deg)"),ol=rl(Tp,", ",")",")"),Sp=1e-12;function js(t){return((t=Math.exp(t))+1/t)/2}function Np(t){return((t=Math.exp(t))-1/t)/2}function Ep(t){return((t=Math.exp(2*t))-1)/(t+1)}const sl=function t(e,n,r){function i(o,s){var a=o[0],u=o[1],l=o[2],c=s[0],h=s[1],f=s[2],p=c-a,m=h-u,g=p*p+m*m,w,y;if(g<Sp)y=Math.log(f/l)/e,w=function(R){return[a+R*p,u+R*m,l*Math.exp(e*R*y)]};else{var M=Math.sqrt(g),T=(f*f-l*l+r*g)/(2*l*n*M),E=(f*f-l*l-r*g)/(2*f*n*M),C=Math.log(Math.sqrt(T*T+1)-T),b=Math.log(Math.sqrt(E*E+1)-E);y=(b-C)/e,w=function(R){var j=R*y,et=js(C),Z=l/(n*M)*(et*Ep(e*j+C)-Np(C));return[a+Z*p,u+Z*m,l*et/js(e*j+C)]}}return w.duration=y*1e3*e/Math.SQRT2,w}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return t(s,a,u)},i}(Math.SQRT2,2,4);function al(t){return function(e,n){var r=t((e=Bn(e)).h,(n=Bn(n)).h),i=it(e.s,n.s),o=it(e.l,n.l),s=it(e.opacity,n.opacity);return function(a){return e.h=r(a),e.s=i(a),e.l=o(a),e.opacity=s(a),e+""}}}const $p=al(vr);var kp=al(it);function Ap(t,e){var n=it((t=Wn(t)).l,(e=Wn(e)).l),r=it(t.a,e.a),i=it(t.b,e.b),o=it(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=r(s),t.b=i(s),t.opacity=o(s),t+""}}function ul(t){return function(e,n){var r=t((e=Vn(e)).h,(n=Vn(n)).h),i=it(e.c,n.c),o=it(e.l,n.l),s=it(e.opacity,n.opacity);return function(a){return e.h=r(a),e.c=i(a),e.l=o(a),e.opacity=s(a),e+""}}}const Op=ul(vr);var Cp=ul(it);function ll(t){return function e(n){n=+n;function r(i,o){var s=t((i=Zn(i)).h,(o=Zn(o)).h),a=it(i.s,o.s),u=it(i.l,o.l),l=it(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=u(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=e,r}(1)}const Lp=ll(vr);var Ip=ll(it);function cl(t,e){e===void 0&&(e=t,t=ve);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Pp(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}const Dp=Object.freeze(Object.defineProperty({__proto__:null,interpolate:ve,interpolateArray:yp,interpolateBasis:Wu,interpolateBasisClosed:Vu,interpolateCubehelix:Lp,interpolateCubehelixLong:Ip,interpolateDate:tl,interpolateDiscrete:xp,interpolateHcl:Op,interpolateHclLong:Cp,interpolateHsl:$p,interpolateHslLong:kp,interpolateHue:bp,interpolateLab:Ap,interpolateNumber:Mt,interpolateNumberArray:Qi,interpolateObject:el,interpolateRgb:an,interpolateRgbBasis:gp,interpolateRgbBasisClosed:_p,interpolateRound:wr,interpolateString:Ki,interpolateTransformCss:il,interpolateTransformSvg:ol,interpolateZoom:sl,piecewise:cl,quantize:Pp},Symbol.toStringTag,{value:"Module"}));function Rp(t){return function(){return t}}function Qn(t){return+t}var Bs=[0,1];function pt(t){return t}function Mi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Rp(isNaN(e)?NaN:.5)}function Hp(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Fp(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Mi(i,r),o=n(s,o)):(r=Mi(r,i),o=n(o,s)),function(a){return o(r(a))}}function zp(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Mi(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var u=pn(t,a,1,r)-1;return o[u](i[u](a))}}function dn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xr(){var t=Bs,e=Bs,n=ve,r,i,o,s=pt,a,u,l;function c(){var f=Math.min(t.length,e.length);return s!==pt&&(s=Hp(t[0],t[f-1])),a=f>2?zp:Fp,u=l=null,h}function h(f){return f==null||isNaN(f=+f)?o:(u||(u=a(t.map(r),e,n)))(r(s(f)))}return h.invert=function(f){return s(i((l||(l=a(e,t.map(r),Mt)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Qn),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=wr,c()},h.clamp=function(f){return arguments.length?(s=f?!0:pt,c()):s!==pt},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return r=f,i=p,c()}}function Ji(){return xr()(pt,pt)}function fl(t,e,n,r){var i=vi(t,e,n),o;switch(r=Le(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=ku(i,s))&&(r.precision=o),Xi(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Au(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$u(i))&&(r.precision=o-(r.type==="%")*2);break}}return gr(r)}function re(t){var e=t.domain;return t.ticks=function(n){var r=e();return _i(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return fl(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],u,l,c=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);c-- >0;){if(l=yi(s,a,n),l===u)return r[i]=s,r[o]=a,e(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return t},t}function hl(){var t=Ji();return t.copy=function(){return dn(t,hl())},Nt.apply(t,arguments),re(t)}function pl(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Qn),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pl(t).unknown(e)},t=arguments.length?Array.from(t,Qn):[0,1],re(n)}function ml(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Gs(t){return Math.log(t)}function Ws(t){return Math.exp(t)}function Yp(t){return-Math.log(-t)}function qp(t){return-Math.exp(-t)}function Up(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xp(t){return t===10?Up:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jp(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Vs(t){return(e,n)=>-t(-e,n)}function to(t){const e=t(Gs,Ws),n=e.domain;let r=10,i,o;function s(){return i=jp(r),o=Xp(r),n()[0]<0?(i=Vs(i),o=Vs(o),t(Yp,qp)):t(Gs,Ws),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const u=n();let l=u[0],c=u[u.length-1];const h=c<l;h&&([l,c]=[c,l]);let f=i(l),p=i(c),m,g;const w=a==null?10:+a;let y=[];if(!(r%1)&&p-f<w){if(f=Math.floor(f),p=Math.ceil(p),l>0){for(;f<=p;++f)for(m=1;m<r;++m)if(g=f<0?m/o(-f):m*o(f),!(g<l)){if(g>c)break;y.push(g)}}else for(;f<=p;++f)for(m=r-1;m>=1;--m)if(g=f>0?m/o(-f):m*o(f),!(g<l)){if(g>c)break;y.push(g)}y.length*2<w&&(y=_i(l,c,w))}else y=_i(f,p,Math.min(p-f,w)).map(o);return h?y.reverse():y},e.tickFormat=(a,u)=>{if(a==null&&(a=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Le(u)).precision==null&&(u.trim=!0),u=gr(u)),a===1/0)return u;const l=Math.max(1,r*a/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=l?u(c):""}},e.nice=()=>n(ml(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function dl(){const t=to(xr()).domain([1,10]);return t.copy=()=>dn(t,dl()).base(t.base()),Nt.apply(t,arguments),t}function Zs(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Qs(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function eo(t){var e=1,n=t(Zs(e),Qs(e));return n.constant=function(r){return arguments.length?t(Zs(e=+r),Qs(e)):e},re(n)}function gl(){var t=eo(xr());return t.copy=function(){return dn(t,gl()).constant(t.constant())},Nt.apply(t,arguments)}function Ks(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bp(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Gp(t){return t<0?-t*t:t*t}function no(t){var e=t(pt,pt),n=1;function r(){return n===1?t(pt,pt):n===.5?t(Bp,Gp):t(Ks(n),Ks(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},re(e)}function ro(){var t=no(xr());return t.copy=function(){return dn(t,ro()).exponent(t.exponent())},Nt.apply(t,arguments),t}function Wp(){return ro.apply(null,arguments).exponent(.5)}function Js(t){return Math.sign(t)*t*t}function Vp(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _l(){var t=Ji(),e=[0,1],n=!1,r;function i(o){var s=Vp(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Js(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Qn)).map(Js)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return _l(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Nt.apply(i,arguments),re(i)}function yl(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Zh(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[pn(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Kt),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return yl().domain(t).range(e).unknown(r)},Nt.apply(o,arguments)}function vl(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(u){return u!=null&&u<=u?i[pn(r,u,0,n)]:o}function a(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,a()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,a()):i.slice()},s.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return vl().domain([t,e]).range(i).unknown(o)},Nt.apply(re(s),arguments)}function wl(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[pn(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return wl().domain(t).range(e).unknown(n)},Nt.apply(i,arguments)}const ii=new Date,oi=new Date;function nt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const u=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return u;let l;do u.push(l=new Date(+o)),e(o,a),t(o);while(l<o&&o<s);return u},i.filter=o=>nt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(ii.setTime(+o),oi.setTime(+s),t(ii),t(oi),Math.floor(n(ii,oi))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Kn=nt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Kn.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Kn);Kn.range;const qt=1e3,Tt=qt*60,Ut=Tt*60,Xt=Ut*24,io=Xt*7,ta=Xt*30,si=Xt*365,fe=nt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*qt)},(t,e)=>(e-t)/qt,t=>t.getUTCSeconds());fe.range;const oo=nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qt)},(t,e)=>{t.setTime(+t+e*Tt)},(t,e)=>(e-t)/Tt,t=>t.getMinutes());oo.range;const so=nt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Tt)},(t,e)=>(e-t)/Tt,t=>t.getUTCMinutes());so.range;const ao=nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qt-t.getMinutes()*Tt)},(t,e)=>{t.setTime(+t+e*Ut)},(t,e)=>(e-t)/Ut,t=>t.getHours());ao.range;const uo=nt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ut)},(t,e)=>(e-t)/Ut,t=>t.getUTCHours());uo.range;const gn=nt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Tt)/Xt,t=>t.getDate()-1);gn.range;const br=nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xt,t=>t.getUTCDate()-1);br.range;const xl=nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xt,t=>Math.floor(t/Xt));xl.range;function we(t){return nt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Tt)/io)}const Mr=we(0),Jn=we(1),Zp=we(2),Qp=we(3),Pe=we(4),Kp=we(5),Jp=we(6);Mr.range;Jn.range;Zp.range;Qp.range;Pe.range;Kp.range;Jp.range;function xe(t){return nt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/io)}const Tr=xe(0),tr=xe(1),t0=xe(2),e0=xe(3),De=xe(4),n0=xe(5),r0=xe(6);Tr.range;tr.range;t0.range;e0.range;De.range;n0.range;r0.range;const lo=nt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());lo.range;const co=nt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());co.range;const jt=nt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());jt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});jt.range;const Bt=nt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Bt.range;function bl(t,e,n,r,i,o){const s=[[fe,1,qt],[fe,5,5*qt],[fe,15,15*qt],[fe,30,30*qt],[o,1,Tt],[o,5,5*Tt],[o,15,15*Tt],[o,30,30*Tt],[i,1,Ut],[i,3,3*Ut],[i,6,6*Ut],[i,12,12*Ut],[r,1,Xt],[r,2,2*Xt],[n,1,io],[e,1,ta],[e,3,3*ta],[t,1,si]];function a(l,c,h){const f=c<l;f&&([l,c]=[c,l]);const p=h&&typeof h.range=="function"?h:u(l,c,h),m=p?p.range(l,+c+1):[];return f?m.reverse():m}function u(l,c,h){const f=Math.abs(c-l)/h,p=ji(([,,w])=>w).right(s,f);if(p===s.length)return t.every(vi(l/si,c/si,h));if(p===0)return Kn.every(Math.max(vi(l,c,h),1));const[m,g]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return m.every(g)}return[a,u]}const[i0,o0]=bl(Bt,co,Tr,xl,uo,so),[s0,a0]=bl(jt,lo,Mr,gn,ao,oo);function ai(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ui(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Be(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function u0(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,u=t.shortMonths,l=Ge(i),c=We(i),h=Ge(o),f=We(o),p=Ge(s),m=We(s),g=Ge(a),w=We(a),y=Ge(u),M=We(u),T={a:$,A:I,b:D,B:z,c:null,d:sa,e:sa,f:O0,g:Y0,G:U0,H:$0,I:k0,j:A0,L:Ml,m:C0,M:L0,p:X,q:W,Q:la,s:ca,S:I0,u:P0,U:D0,V:R0,w:H0,W:F0,x:null,X:null,y:z0,Y:q0,Z:X0,"%":ua},E={a:at,A:J,b:tt,B:ft,c:null,d:aa,e:aa,f:W0,g:im,G:sm,H:j0,I:B0,j:G0,L:Sl,m:V0,M:Z0,p:st,q:ht,Q:la,s:ca,S:Q0,u:K0,U:J0,V:tm,w:em,W:nm,x:null,X:null,y:rm,Y:om,Z:am,"%":ua},C={a:Z,A:L,b:U,B:A,c:d,d:ia,e:ia,f:T0,g:ra,G:na,H:oa,I:oa,j:w0,L:M0,m:v0,M:x0,p:et,q:y0,Q:N0,s:E0,S:b0,u:p0,U:m0,V:d0,w:h0,W:g0,x:N,X:v,y:ra,Y:na,Z:_0,"%":S0};T.x=b(n,T),T.X=b(r,T),T.c=b(e,T),E.x=b(n,E),E.X=b(r,E),E.c=b(e,E);function b(S,Y){return function(q){var x=[],dt=-1,Q=0,_t=S.length,yt,se,ms;for(q instanceof Date||(q=new Date(+q));++dt<_t;)S.charCodeAt(dt)===37&&(x.push(S.slice(Q,dt)),(se=ea[yt=S.charAt(++dt)])!=null?yt=S.charAt(++dt):se=yt==="e"?" ":"0",(ms=Y[yt])&&(yt=ms(q,se)),x.push(yt),Q=dt+1);return x.push(S.slice(Q,dt)),x.join("")}}function R(S,Y){return function(q){var x=Be(1900,void 0,1),dt=j(x,S,q+="",0),Q,_t;if(dt!=q.length)return null;if("Q"in x)return new Date(x.Q);if("s"in x)return new Date(x.s*1e3+("L"in x?x.L:0));if(Y&&!("Z"in x)&&(x.Z=0),"p"in x&&(x.H=x.H%12+x.p*12),x.m===void 0&&(x.m="q"in x?x.q:0),"V"in x){if(x.V<1||x.V>53)return null;"w"in x||(x.w=1),"Z"in x?(Q=ui(Be(x.y,0,1)),_t=Q.getUTCDay(),Q=_t>4||_t===0?tr.ceil(Q):tr(Q),Q=br.offset(Q,(x.V-1)*7),x.y=Q.getUTCFullYear(),x.m=Q.getUTCMonth(),x.d=Q.getUTCDate()+(x.w+6)%7):(Q=ai(Be(x.y,0,1)),_t=Q.getDay(),Q=_t>4||_t===0?Jn.ceil(Q):Jn(Q),Q=gn.offset(Q,(x.V-1)*7),x.y=Q.getFullYear(),x.m=Q.getMonth(),x.d=Q.getDate()+(x.w+6)%7)}else("W"in x||"U"in x)&&("w"in x||(x.w="u"in x?x.u%7:"W"in x?1:0),_t="Z"in x?ui(Be(x.y,0,1)).getUTCDay():ai(Be(x.y,0,1)).getDay(),x.m=0,x.d="W"in x?(x.w+6)%7+x.W*7-(_t+5)%7:x.w+x.U*7-(_t+6)%7);return"Z"in x?(x.H+=x.Z/100|0,x.M+=x.Z%100,ui(x)):ai(x)}}function j(S,Y,q,x){for(var dt=0,Q=Y.length,_t=q.length,yt,se;dt<Q;){if(x>=_t)return-1;if(yt=Y.charCodeAt(dt++),yt===37){if(yt=Y.charAt(dt++),se=C[yt in ea?Y.charAt(dt++):yt],!se||(x=se(S,q,x))<0)return-1}else if(yt!=q.charCodeAt(x++))return-1}return x}function et(S,Y,q){var x=l.exec(Y.slice(q));return x?(S.p=c.get(x[0].toLowerCase()),q+x[0].length):-1}function Z(S,Y,q){var x=p.exec(Y.slice(q));return x?(S.w=m.get(x[0].toLowerCase()),q+x[0].length):-1}function L(S,Y,q){var x=h.exec(Y.slice(q));return x?(S.w=f.get(x[0].toLowerCase()),q+x[0].length):-1}function U(S,Y,q){var x=y.exec(Y.slice(q));return x?(S.m=M.get(x[0].toLowerCase()),q+x[0].length):-1}function A(S,Y,q){var x=g.exec(Y.slice(q));return x?(S.m=w.get(x[0].toLowerCase()),q+x[0].length):-1}function d(S,Y,q){return j(S,e,Y,q)}function N(S,Y,q){return j(S,n,Y,q)}function v(S,Y,q){return j(S,r,Y,q)}function $(S){return s[S.getDay()]}function I(S){return o[S.getDay()]}function D(S){return u[S.getMonth()]}function z(S){return a[S.getMonth()]}function X(S){return i[+(S.getHours()>=12)]}function W(S){return 1+~~(S.getMonth()/3)}function at(S){return s[S.getUTCDay()]}function J(S){return o[S.getUTCDay()]}function tt(S){return u[S.getUTCMonth()]}function ft(S){return a[S.getUTCMonth()]}function st(S){return i[+(S.getUTCHours()>=12)]}function ht(S){return 1+~~(S.getUTCMonth()/3)}return{format:function(S){var Y=b(S+="",T);return Y.toString=function(){return S},Y},parse:function(S){var Y=R(S+="",!1);return Y.toString=function(){return S},Y},utcFormat:function(S){var Y=b(S+="",E);return Y.toString=function(){return S},Y},utcParse:function(S){var Y=R(S+="",!0);return Y.toString=function(){return S},Y}}}var ea={"-":"",_:" ",0:"0"},ot=/^\s*\d+/,l0=/^%/,c0=/[\\^$*+?|[\]().{}]/g;function B(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function f0(t){return t.replace(c0,"\\$&")}function Ge(t){return new RegExp("^(?:"+t.map(f0).join("|")+")","i")}function We(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function h0(t,e,n){var r=ot.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function p0(t,e,n){var r=ot.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function m0(t,e,n){var r=ot.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function d0(t,e,n){var r=ot.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function g0(t,e,n){var r=ot.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function na(t,e,n){var r=ot.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ra(t,e,n){var r=ot.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _0(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function y0(t,e,n){var r=ot.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function v0(t,e,n){var r=ot.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ia(t,e,n){var r=ot.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function w0(t,e,n){var r=ot.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function oa(t,e,n){var r=ot.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function x0(t,e,n){var r=ot.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function b0(t,e,n){var r=ot.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function M0(t,e,n){var r=ot.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function T0(t,e,n){var r=ot.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function S0(t,e,n){var r=l0.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function N0(t,e,n){var r=ot.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function E0(t,e,n){var r=ot.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function sa(t,e){return B(t.getDate(),e,2)}function $0(t,e){return B(t.getHours(),e,2)}function k0(t,e){return B(t.getHours()%12||12,e,2)}function A0(t,e){return B(1+gn.count(jt(t),t),e,3)}function Ml(t,e){return B(t.getMilliseconds(),e,3)}function O0(t,e){return Ml(t,e)+"000"}function C0(t,e){return B(t.getMonth()+1,e,2)}function L0(t,e){return B(t.getMinutes(),e,2)}function I0(t,e){return B(t.getSeconds(),e,2)}function P0(t){var e=t.getDay();return e===0?7:e}function D0(t,e){return B(Mr.count(jt(t)-1,t),e,2)}function Tl(t){var e=t.getDay();return e>=4||e===0?Pe(t):Pe.ceil(t)}function R0(t,e){return t=Tl(t),B(Pe.count(jt(t),t)+(jt(t).getDay()===4),e,2)}function H0(t){return t.getDay()}function F0(t,e){return B(Jn.count(jt(t)-1,t),e,2)}function z0(t,e){return B(t.getFullYear()%100,e,2)}function Y0(t,e){return t=Tl(t),B(t.getFullYear()%100,e,2)}function q0(t,e){return B(t.getFullYear()%1e4,e,4)}function U0(t,e){var n=t.getDay();return t=n>=4||n===0?Pe(t):Pe.ceil(t),B(t.getFullYear()%1e4,e,4)}function X0(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+B(e/60|0,"0",2)+B(e%60,"0",2)}function aa(t,e){return B(t.getUTCDate(),e,2)}function j0(t,e){return B(t.getUTCHours(),e,2)}function B0(t,e){return B(t.getUTCHours()%12||12,e,2)}function G0(t,e){return B(1+br.count(Bt(t),t),e,3)}function Sl(t,e){return B(t.getUTCMilliseconds(),e,3)}function W0(t,e){return Sl(t,e)+"000"}function V0(t,e){return B(t.getUTCMonth()+1,e,2)}function Z0(t,e){return B(t.getUTCMinutes(),e,2)}function Q0(t,e){return B(t.getUTCSeconds(),e,2)}function K0(t){var e=t.getUTCDay();return e===0?7:e}function J0(t,e){return B(Tr.count(Bt(t)-1,t),e,2)}function Nl(t){var e=t.getUTCDay();return e>=4||e===0?De(t):De.ceil(t)}function tm(t,e){return t=Nl(t),B(De.count(Bt(t),t)+(Bt(t).getUTCDay()===4),e,2)}function em(t){return t.getUTCDay()}function nm(t,e){return B(tr.count(Bt(t)-1,t),e,2)}function rm(t,e){return B(t.getUTCFullYear()%100,e,2)}function im(t,e){return t=Nl(t),B(t.getUTCFullYear()%100,e,2)}function om(t,e){return B(t.getUTCFullYear()%1e4,e,4)}function sm(t,e){var n=t.getUTCDay();return t=n>=4||n===0?De(t):De.ceil(t),B(t.getUTCFullYear()%1e4,e,4)}function am(){return"+0000"}function ua(){return"%"}function la(t){return+t}function ca(t){return Math.floor(+t/1e3)}var Te,El,$l;um({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function um(t){return Te=u0(t),El=Te.format,Te.parse,$l=Te.utcFormat,Te.utcParse,Te}function lm(t){return new Date(t)}function cm(t){return t instanceof Date?+t:+new Date(+t)}function fo(t,e,n,r,i,o,s,a,u,l){var c=Ji(),h=c.invert,f=c.domain,p=l(".%L"),m=l(":%S"),g=l("%I:%M"),w=l("%I %p"),y=l("%a %d"),M=l("%b %d"),T=l("%B"),E=l("%Y");function C(b){return(u(b)<b?p:a(b)<b?m:s(b)<b?g:o(b)<b?w:r(b)<b?i(b)<b?y:M:n(b)<b?T:E)(b)}return c.invert=function(b){return new Date(h(b))},c.domain=function(b){return arguments.length?f(Array.from(b,cm)):f().map(lm)},c.ticks=function(b){var R=f();return t(R[0],R[R.length-1],b??10)},c.tickFormat=function(b,R){return R==null?C:l(R)},c.nice=function(b){var R=f();return(!b||typeof b.range!="function")&&(b=e(R[0],R[R.length-1],b??10)),b?f(ml(R,b)):c},c.copy=function(){return dn(c,fo(t,e,n,r,i,o,s,a,u,l))},c}function fm(){return Nt.apply(fo(s0,a0,jt,lo,Mr,gn,ao,oo,fe,El).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hm(){return Nt.apply(fo(i0,o0,Bt,co,Tr,br,uo,so,fe,$l).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sr(){var t=0,e=1,n,r,i,o,s=pt,a=!1,u;function l(h){return h==null||isNaN(h=+h)?u:s(i===0?.5:(h=(o(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(h){return arguments.length?(a=!!h,l):a},l.interpolator=function(h){return arguments.length?(s=h,l):s};function c(h){return function(f){var p,m;return arguments.length?([p,m]=f,s=h(p,m),l):[s(0),s(1)]}}return l.range=c(ve),l.rangeRound=c(wr),l.unknown=function(h){return arguments.length?(u=h,l):u},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),l}}function ie(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kl(){var t=re(Sr()(pt));return t.copy=function(){return ie(t,kl())},Vt.apply(t,arguments)}function Al(){var t=to(Sr()).domain([1,10]);return t.copy=function(){return ie(t,Al()).base(t.base())},Vt.apply(t,arguments)}function Ol(){var t=eo(Sr());return t.copy=function(){return ie(t,Ol()).constant(t.constant())},Vt.apply(t,arguments)}function ho(){var t=no(Sr());return t.copy=function(){return ie(t,ho()).exponent(t.exponent())},Vt.apply(t,arguments)}function pm(){return ho.apply(null,arguments).exponent(.5)}function Cl(){var t=[],e=pt;function n(r){if(r!=null&&!isNaN(r=+r))return e((pn(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Kt),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Vh(t,o/r))},n.copy=function(){return Cl(e).domain(t)},Vt.apply(n,arguments)}function Nr(){var t=0,e=.5,n=1,r=1,i,o,s,a,u,l=pt,c,h=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:u),l(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(l=g,p):l};function m(g){return function(w){var y,M,T;return arguments.length?([y,M,T]=w,l=cl(g,[y,M,T]),p):[l(0),l(.5),l(1)]}}return p.range=m(ve),p.rangeRound=m(wr),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return c=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function Ll(){var t=re(Nr()(pt));return t.copy=function(){return ie(t,Ll())},Vt.apply(t,arguments)}function Il(){var t=to(Nr()).domain([.1,1,10]);return t.copy=function(){return ie(t,Il()).base(t.base())},Vt.apply(t,arguments)}function Pl(){var t=eo(Nr());return t.copy=function(){return ie(t,Pl()).constant(t.constant())},Vt.apply(t,arguments)}function po(){var t=no(Nr());return t.copy=function(){return ie(t,po()).exponent(t.exponent())},Vt.apply(t,arguments)}function mm(){return po.apply(null,arguments).exponent(.5)}const dm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gi,scaleDiverging:Ll,scaleDivergingLog:Il,scaleDivergingPow:po,scaleDivergingSqrt:mm,scaleDivergingSymlog:Pl,scaleIdentity:pl,scaleImplicit:wi,scaleLinear:hl,scaleLog:dl,scaleOrdinal:Bi,scalePoint:Kh,scalePow:ro,scaleQuantile:yl,scaleQuantize:vl,scaleRadial:_l,scaleSequential:kl,scaleSequentialLog:Al,scaleSequentialPow:ho,scaleSequentialQuantile:Cl,scaleSequentialSqrt:pm,scaleSequentialSymlog:Ol,scaleSqrt:Wp,scaleSymlog:gl,scaleThreshold:wl,scaleTime:fm,scaleUtc:hm,tickFormat:fl},Symbol.toStringTag,{value:"Module"})),gm=Wt(dm);function _m(t){return t}var On=1,Cn=2,Ti=3,Je=4,fa=1e-6;function ym(t){return"translate("+t+",0)"}function vm(t){return"translate(0,"+t+")"}function wm(t){return e=>+t(e)}function xm(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function bm(){return!this.__axis}function Er(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===On||t===Je?-1:1,c=t===Je||t===Cn?"x":"y",h=t===On||t===Ti?ym:vm;function f(p){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):_m),w=Math.max(o,0)+a,y=e.range(),M=+y[0]+u,T=+y[y.length-1]+u,E=(e.bandwidth?xm:wm)(e.copy(),u),C=p.selection?p.selection():p,b=C.selectAll(".domain").data([null]),R=C.selectAll(".tick").data(m,e).order(),j=R.exit(),et=R.enter().append("g").attr("class","tick"),Z=R.select("line"),L=R.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(et),Z=Z.merge(et.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),L=L.merge(et.append("text").attr("fill","currentColor").attr(c,l*w).attr("dy",t===On?"0em":t===Ti?"0.71em":"0.32em")),p!==C&&(b=b.transition(p),R=R.transition(p),Z=Z.transition(p),L=L.transition(p),j=j.transition(p).attr("opacity",fa).attr("transform",function(U){return isFinite(U=E(U))?h(U+u):this.getAttribute("transform")}),et.attr("opacity",fa).attr("transform",function(U){var A=this.parentNode.__axis;return h((A&&isFinite(A=A(U))?A:E(U))+u)})),j.remove(),b.attr("d",t===Je||t===Cn?s?"M"+l*s+","+M+"H"+u+"V"+T+"H"+l*s:"M"+u+","+M+"V"+T:s?"M"+M+","+l*s+"V"+u+"H"+T+"V"+l*s:"M"+M+","+u+"H"+T),R.attr("opacity",1).attr("transform",function(U){return h(E(U)+u)}),Z.attr(c+"2",l*o),L.attr(c,l*w).text(g),C.filter(bm).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Cn?"start":t===Je?"end":"middle"),C.each(function(){this.__axis=E})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),f):n.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(o=s=+p,f):o},f.tickSizeInner=function(p){return arguments.length?(o=+p,f):o},f.tickSizeOuter=function(p){return arguments.length?(s=+p,f):s},f.tickPadding=function(p){return arguments.length?(a=+p,f):a},f.offset=function(p){return arguments.length?(u=+p,f):u},f}function Mm(t){return Er(On,t)}function Tm(t){return Er(Cn,t)}function Sm(t){return Er(Ti,t)}function Nm(t){return Er(Je,t)}const Em=Object.freeze(Object.defineProperty({__proto__:null,axisBottom:Sm,axisLeft:Nm,axisRight:Tm,axisTop:Mm},Symbol.toStringTag,{value:"Module"})),$m=Wt(Em);var km={value:()=>{}};function mo(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ln(n)}function Ln(t){this._=t}function Am(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ln.prototype=mo.prototype={constructor:Ln,on:function(t,e){var n=this._,r=Am(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Om(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=ha(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ha(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ln(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Om(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ha(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=km,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Si="http://www.w3.org/1999/xhtml";const Ni={svg:"http://www.w3.org/2000/svg",xhtml:Si,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _n(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ni.hasOwnProperty(e)?{space:Ni[e],local:t}:t}function Cm(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Si&&e.documentElement.namespaceURI===Si?e.createElement(t):e.createElementNS(n,t)}}function Lm(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $r(t){var e=_n(t);return(e.local?Lm:Cm)(e)}function Im(){}function kr(t){return t==null?Im:function(){return this.querySelector(t)}}function Pm(t){typeof t!="function"&&(t=kr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),u,l,c=0;c<s;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new mt(r,this._parents)}function Dl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Dm(){return[]}function go(t){return t==null?Dm:function(){return this.querySelectorAll(t)}}function Rm(t){return function(){return Dl(t.apply(this,arguments))}}function Hm(t){typeof t=="function"?t=Rm(t):t=go(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new mt(r,i)}function _o(t){return function(){return this.matches(t)}}function Rl(t){return function(e){return e.matches(t)}}var Fm=Array.prototype.find;function zm(t){return function(){return Fm.call(this.children,t)}}function Ym(){return this.firstElementChild}function qm(t){return this.select(t==null?Ym:zm(typeof t=="function"?t:Rl(t)))}var Um=Array.prototype.filter;function Xm(){return Array.from(this.children)}function jm(t){return function(){return Um.call(this.children,t)}}function Bm(t){return this.selectAll(t==null?Xm:jm(typeof t=="function"?t:Rl(t)))}function Gm(t){typeof t!="function"&&(t=_o(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new mt(r,this._parents)}function Hl(t){return new Array(t.length)}function Wm(){return new mt(this._enter||this._groups.map(Hl),this._parents)}function er(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}er.prototype={constructor:er,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Vm(t){return function(){return t}}function Zm(t,e,n,r,i,o){for(var s=0,a,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new er(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Qm(t,e,n,r,i,o,s){var a,u,l=new Map,c=e.length,h=o.length,f=new Array(c),p;for(a=0;a<c;++a)(u=e[a])&&(f[a]=p=s.call(u,u.__data__,a,e)+"",l.has(p)?i[a]=u:l.set(p,u));for(a=0;a<h;++a)p=s.call(t,o[a],a,o)+"",(u=l.get(p))?(r[a]=u,u.__data__=o[a],l.delete(p)):n[a]=new er(t,o[a]);for(a=0;a<c;++a)(u=e[a])&&l.get(f[a])===u&&(i[a]=u)}function Km(t){return t.__data__}function Jm(t,e){if(!arguments.length)return Array.from(this,Km);var n=e?Qm:Zm,r=this._parents,i=this._groups;typeof t!="function"&&(t=Vm(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=td(t.call(c,c&&c.__data__,l,r)),m=p.length,g=a[l]=new Array(m),w=s[l]=new Array(m),y=u[l]=new Array(f);n(c,h,g,w,y,p,e);for(var M=0,T=0,E,C;M<m;++M)if(E=g[M]){for(M>=T&&(T=M+1);!(C=w[T])&&++T<m;);E._next=C||null}}return s=new mt(s,r),s._enter=a,s._exit=u,s}function td(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ed(){return new mt(this._exit||this._groups.map(Hl),this._parents)}function nd(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function rd(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=n[u],c=r[u],h=l.length,f=a[u]=new Array(h),p,m=0;m<h;++m)(p=l[m]||c[m])&&(f[m]=p);for(;u<i;++u)a[u]=n[u];return new mt(a,this._parents)}function id(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function od(t){t||(t=sd);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),l,c=0;c<a;++c)(l=s[c])&&(u[c]=l);u.sort(e)}return new mt(i,this._parents).order()}function sd(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ad(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ud(){return Array.from(this)}function ld(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function cd(){let t=0;for(const e of this)++t;return t}function fd(){return!this.node()}function hd(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function pd(t){return function(){this.removeAttribute(t)}}function md(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dd(t,e){return function(){this.setAttribute(t,e)}}function gd(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _d(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function yd(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function vd(t,e){var n=_n(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?md:pd:typeof e=="function"?n.local?yd:_d:n.local?gd:dd)(n,e))}function yo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wd(t){return function(){this.style.removeProperty(t)}}function xd(t,e,n){return function(){this.style.setProperty(t,e,n)}}function bd(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Md(t,e,n){return arguments.length>1?this.each((e==null?wd:typeof e=="function"?bd:xd)(t,e,n??"")):ge(this.node(),t)}function ge(t,e){return t.style.getPropertyValue(e)||yo(t).getComputedStyle(t,null).getPropertyValue(e)}function Td(t){return function(){delete this[t]}}function Sd(t,e){return function(){this[t]=e}}function Nd(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ed(t,e){return arguments.length>1?this.each((e==null?Td:typeof e=="function"?Nd:Sd)(t,e)):this.node()[t]}function Fl(t){return t.trim().split(/^|\s+/)}function vo(t){return t.classList||new zl(t)}function zl(t){this._node=t,this._names=Fl(t.getAttribute("class")||"")}zl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Yl(t,e){for(var n=vo(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ql(t,e){for(var n=vo(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function $d(t){return function(){Yl(this,t)}}function kd(t){return function(){ql(this,t)}}function Ad(t,e){return function(){(e.apply(this,arguments)?Yl:ql)(this,t)}}function Od(t,e){var n=Fl(t+"");if(arguments.length<2){for(var r=vo(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ad:e?$d:kd)(n,e))}function Cd(){this.textContent=""}function Ld(t){return function(){this.textContent=t}}function Id(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Pd(t){return arguments.length?this.each(t==null?Cd:(typeof t=="function"?Id:Ld)(t)):this.node().textContent}function Dd(){this.innerHTML=""}function Rd(t){return function(){this.innerHTML=t}}function Hd(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Fd(t){return arguments.length?this.each(t==null?Dd:(typeof t=="function"?Hd:Rd)(t)):this.node().innerHTML}function zd(){this.nextSibling&&this.parentNode.appendChild(this)}function Yd(){return this.each(zd)}function qd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ud(){return this.each(qd)}function Xd(t){var e=typeof t=="function"?t:$r(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function jd(){return null}function Bd(t,e){var n=typeof t=="function"?t:$r(t),r=e==null?jd:typeof e=="function"?e:kr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Gd(){var t=this.parentNode;t&&t.removeChild(this)}function Wd(){return this.each(Gd)}function Vd(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Zd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qd(t){return this.select(t?Zd:Vd)}function Kd(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Jd(t){return function(e){t.call(this,e,this.__data__)}}function tg(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function eg(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function ng(t,e,n){return function(){var r=this.__on,i,o=Jd(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function rg(t,e,n){var r=tg(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?ng:eg,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function Ul(t,e,n){var r=yo(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ig(t,e){return function(){return Ul(this,t,e)}}function og(t,e){return function(){return Ul(this,t,e.apply(this,arguments))}}function sg(t,e){return this.each((typeof e=="function"?og:ig)(t,e))}function*ag(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var wo=[null];function mt(t,e){this._groups=t,this._parents=e}function Ye(){return new mt([[document.documentElement]],wo)}function ug(){return this}mt.prototype=Ye.prototype={constructor:mt,select:Pm,selectAll:Hm,selectChild:qm,selectChildren:Bm,filter:Gm,data:Jm,enter:Wm,exit:ed,join:nd,merge:rd,selection:ug,order:id,sort:od,call:ad,nodes:ud,node:ld,size:cd,empty:fd,each:hd,attr:vd,style:Md,property:Ed,classed:Od,text:Pd,html:Fd,raise:Yd,lower:Ud,append:Xd,insert:Bd,remove:Wd,clone:Qd,datum:Kd,on:rg,dispatch:sg,[Symbol.iterator]:ag};function Yt(t){return typeof t=="string"?new mt([[document.querySelector(t)]],[document.documentElement]):new mt([[t]],wo)}function lg(t){return Yt($r(t).call(document.documentElement))}var cg=0;function Xl(){return new Ei}function Ei(){this._="@"+(++cg).toString(36)}Ei.prototype=Xl.prototype={constructor:Ei,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function jl(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ft(t,e){if(t=jl(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function fg(t,e){return t.target&&(t=jl(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>Ft(n,e))}function hg(t){return typeof t=="string"?new mt([document.querySelectorAll(t)],[document.documentElement]):new mt([Dl(t)],wo)}const pg=Object.freeze(Object.defineProperty({__proto__:null,create:lg,creator:$r,local:Xl,matcher:_o,namespace:_n,namespaces:Ni,pointer:Ft,pointers:fg,select:Yt,selectAll:hg,selection:Ye,selector:kr,selectorAll:go,style:ge,window:yo},Symbol.toStringTag,{value:"Module"})),$i={capture:!0,passive:!1};function ki(t){t.preventDefault(),t.stopImmediatePropagation()}function mg(t){var e=t.document.documentElement,n=Yt(t).on("dragstart.drag",ki,$i);"onselectstart"in e?n.on("selectstart.drag",ki,$i):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function dg(t,e){var n=t.document.documentElement,r=Yt(t).on("dragstart.drag",null);e&&(r.on("click.drag",ki,$i),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Re=0,tn=0,Ve=0,Bl=1e3,nr,en,rr=0,_e=0,Ar=0,un=typeof performance=="object"&&performance.now?performance:Date,Gl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xo(){return _e||(Gl(gg),_e=un.now()+Ar)}function gg(){_e=0}function ir(){this._call=this._time=this._next=null}ir.prototype=Wl.prototype={constructor:ir,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?xo():+n)+(e==null?0:+e),!this._next&&en!==this&&(en?en._next=this:nr=this,en=this),this._call=t,this._time=n,Ai()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ai())}};function Wl(t,e,n){var r=new ir;return r.restart(t,e,n),r}function _g(){xo(),++Re;for(var t=nr,e;t;)(e=_e-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Re}function pa(){_e=(rr=un.now())+Ar,Re=tn=0;try{_g()}finally{Re=0,vg(),_e=0}}function yg(){var t=un.now(),e=t-rr;e>Bl&&(Ar-=e,rr=t)}function vg(){for(var t,e=nr,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:nr=n);en=t,Ai(r)}function Ai(t){if(!Re){tn&&(tn=clearTimeout(tn));var e=t-_e;e>24?(t<1/0&&(tn=setTimeout(pa,t-un.now()-Ar)),Ve&&(Ve=clearInterval(Ve))):(Ve||(rr=un.now(),Ve=setInterval(yg,Bl)),Re=1,Gl(pa))}}function ma(t,e,n){var r=new ir;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var wg=mo("start","end","cancel","interrupt"),xg=[],Vl=0,da=1,Oi=2,In=3,ga=4,Ci=5,Pn=6;function Or(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;bg(t,n,{name:e,index:r,group:i,on:wg,tween:xg,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Vl})}function bo(t,e){var n=kt(t,e);if(n.state>Vl)throw new Error("too late; already scheduled");return n}function It(t,e){var n=kt(t,e);if(n.state>In)throw new Error("too late; already running");return n}function kt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bg(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Wl(o,0,n.time);function o(l){n.state=da,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var c,h,f,p;if(n.state!==da)return u();for(c in r)if(p=r[c],p.name===n.name){if(p.state===In)return ma(s);p.state===ga?(p.state=Pn,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=Pn,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(ma(function(){n.state===In&&(n.state=ga,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Oi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Oi){for(n.state=In,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=p);i.length=h+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Ci,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===Ci&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Pn,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function Dn(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Oi&&r.state<Ci,r.state=Pn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Mg(t){return this.each(function(){Dn(this,t)})}function Tg(t,e){var n,r;return function(){var i=It(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Sg(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=It(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function Ng(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=kt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Tg:Sg)(n,t,e))}function Mo(t,e,n){var r=t._id;return t.each(function(){var i=It(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return kt(i,r).value[e]}}function Zl(t,e){var n;return(typeof e=="number"?Mt:e instanceof ee?an:(n=ee(e))?(e=n,an):Ki)(t,e)}function Eg(t){return function(){this.removeAttribute(t)}}function $g(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kg(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Ag(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Og(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function Cg(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function Lg(t,e){var n=_n(t),r=n==="transform"?ol:Zl;return this.attrTween(t,typeof e=="function"?(n.local?Cg:Og)(n,r,Mo(this,"attr."+t,e)):e==null?(n.local?$g:Eg)(n):(n.local?Ag:kg)(n,r,e))}function Ig(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Pg(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Dg(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Pg(t,o)),n}return i._value=e,i}function Rg(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ig(t,o)),n}return i._value=e,i}function Hg(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=_n(t);return this.tween(n,(r.local?Dg:Rg)(r,e))}function Fg(t,e){return function(){bo(this,t).delay=+e.apply(this,arguments)}}function zg(t,e){return e=+e,function(){bo(this,t).delay=e}}function Yg(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Fg:zg)(e,t)):kt(this.node(),e).delay}function qg(t,e){return function(){It(this,t).duration=+e.apply(this,arguments)}}function Ug(t,e){return e=+e,function(){It(this,t).duration=e}}function Xg(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?qg:Ug)(e,t)):kt(this.node(),e).duration}function jg(t,e){if(typeof e!="function")throw new Error;return function(){It(this,t).ease=e}}function Bg(t){var e=this._id;return arguments.length?this.each(jg(e,t)):kt(this.node(),e).ease}function Gg(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;It(this,t).ease=n}}function Wg(t){if(typeof t!="function")throw new Error;return this.each(Gg(this._id,t))}function Vg(t){typeof t!="function"&&(t=_o(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new Gt(r,this._parents,this._name,this._id)}function Zg(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=e[a],l=n[a],c=u.length,h=s[a]=new Array(c),f,p=0;p<c;++p)(f=u[p]||l[p])&&(h[p]=f);for(;a<r;++a)s[a]=e[a];return new Gt(s,this._parents,this._name,this._id)}function Qg(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Kg(t,e,n){var r,i,o=Qg(e)?bo:It;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function Jg(t,e){var n=this._id;return arguments.length<2?kt(this.node(),n).on.on(t):this.each(Kg(n,t,e))}function t_(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function e_(){return this.on("end.remove",t_(this._id))}function n_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=kr(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),c,h,f=0;f<u;++f)(c=a[f])&&(h=t.call(c,c.__data__,f,a))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h,Or(l[f],e,n,f,l,kt(c,n)));return new Gt(o,this._parents,e,n)}function r_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=go(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var f=t.call(c,c.__data__,h,u),p,m=kt(c,n),g=0,w=f.length;g<w;++g)(p=f[g])&&Or(p,e,n,g,f,m);o.push(f),s.push(c)}return new Gt(o,s,e,n)}var i_=Ye.prototype.constructor;function o_(){return new i_(this._groups,this._parents)}function s_(t,e){var n,r,i;return function(){var o=ge(this,t),s=(this.style.removeProperty(t),ge(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Ql(t){return function(){this.style.removeProperty(t)}}function a_(t,e,n){var r,i=n+"",o;return function(){var s=ge(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function u_(t,e,n){var r,i,o;return function(){var s=ge(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),ge(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function l_(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var u=It(this,t),l=u.on,c=u.value[o]==null?a||(a=Ql(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(s,i=c),u.on=r}}function c_(t,e,n){var r=(t+="")=="transform"?il:Zl;return e==null?this.styleTween(t,s_(t,r)).on("end.style."+t,Ql(t)):typeof e=="function"?this.styleTween(t,u_(t,r,Mo(this,"style."+t,e))).each(l_(this._id,t)):this.styleTween(t,a_(t,r,e),n).on("end.style."+t,null)}function f_(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function h_(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&f_(t,s,n)),r}return o._value=e,o}function p_(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,h_(t,e,n??""))}function m_(t){return function(){this.textContent=t}}function d_(t){return function(){var e=t(this);this.textContent=e??""}}function g_(t){return this.tween("text",typeof t=="function"?d_(Mo(this,"text",t)):m_(t==null?"":t+""))}function __(t){return function(e){this.textContent=t.call(this,e)}}function y_(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&__(i)),e}return r._value=t,r}function v_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,y_(t))}function w_(){for(var t=this._name,e=this._id,n=Kl(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var c=kt(u,e);Or(u,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Gt(r,this._parents,t,n)}function x_(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var l=It(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),i===0&&o()})}var b_=0;function Gt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Kl(){return++b_}var Rt=Ye.prototype;Gt.prototype={constructor:Gt,select:n_,selectAll:r_,selectChild:Rt.selectChild,selectChildren:Rt.selectChildren,filter:Vg,merge:Zg,selection:o_,transition:w_,call:Rt.call,nodes:Rt.nodes,node:Rt.node,size:Rt.size,empty:Rt.empty,each:Rt.each,on:Jg,attr:Lg,attrTween:Hg,style:c_,styleTween:p_,text:g_,textTween:v_,remove:e_,tween:Ng,delay:Yg,duration:Xg,ease:Bg,easeVarying:Wg,end:x_,[Symbol.iterator]:Rt[Symbol.iterator]};function M_(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var T_={time:null,delay:0,duration:250,ease:M_};function S_(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function N_(t){var e,n;t instanceof Gt?(e=t._id,t=t._name):(e=Kl(),(n=T_).time=xo(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&Or(u,t,e,l,s,n||S_(u,e));return new Gt(r,this._parents,t,e)}Ye.prototype.interrupt=Mg;Ye.prototype.transition=N_;const Sn=t=>()=>t;function E_(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ct(t,e,n){this.k=t,this.x=e,this.y=n}Ct.prototype={constructor:Ct,scale:function(t){return t===1?this:new Ct(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ct(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Cr=new Ct(1,0,0);Jl.prototype=Ct.prototype;function Jl(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Cr;return t.__zoom}function li(t){t.stopImmediatePropagation()}function Ze(t){t.preventDefault(),t.stopImmediatePropagation()}function $_(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function k_(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function _a(){return this.__zoom||Cr}function A_(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function O_(){return navigator.maxTouchPoints||"ontouchstart"in this}function C_(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function L_(){var t=$_,e=k_,n=C_,r=A_,i=O_,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=sl,l=mo("start","zoom","end"),c,h,f,p=500,m=150,g=0,w=10;function y(d){d.property("__zoom",_a).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",et).on("dblclick.zoom",Z).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(d,N,v,$){var I=d.selection?d.selection():d;I.property("__zoom",_a),d!==I?C(d,N,v,$):I.interrupt().each(function(){b(this,arguments).event($).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},y.scaleBy=function(d,N,v,$){y.scaleTo(d,function(){var I=this.__zoom.k,D=typeof N=="function"?N.apply(this,arguments):N;return I*D},v,$)},y.scaleTo=function(d,N,v,$){y.transform(d,function(){var I=e.apply(this,arguments),D=this.__zoom,z=v==null?E(I):typeof v=="function"?v.apply(this,arguments):v,X=D.invert(z),W=typeof N=="function"?N.apply(this,arguments):N;return n(T(M(D,W),z,X),I,s)},v,$)},y.translateBy=function(d,N,v,$){y.transform(d,function(){return n(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof v=="function"?v.apply(this,arguments):v),e.apply(this,arguments),s)},null,$)},y.translateTo=function(d,N,v,$,I){y.transform(d,function(){var D=e.apply(this,arguments),z=this.__zoom,X=$==null?E(D):typeof $=="function"?$.apply(this,arguments):$;return n(Cr.translate(X[0],X[1]).scale(z.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof v=="function"?-v.apply(this,arguments):-v),D,s)},$,I)};function M(d,N){return N=Math.max(o[0],Math.min(o[1],N)),N===d.k?d:new Ct(N,d.x,d.y)}function T(d,N,v){var $=N[0]-v[0]*d.k,I=N[1]-v[1]*d.k;return $===d.x&&I===d.y?d:new Ct(d.k,$,I)}function E(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function C(d,N,v,$){d.on("start.zoom",function(){b(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event($).end()}).tween("zoom",function(){var I=this,D=arguments,z=b(I,D).event($),X=e.apply(I,D),W=v==null?E(X):typeof v=="function"?v.apply(I,D):v,at=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),J=I.__zoom,tt=typeof N=="function"?N.apply(I,D):N,ft=u(J.invert(W).concat(at/J.k),tt.invert(W).concat(at/tt.k));return function(st){if(st===1)st=tt;else{var ht=ft(st),S=at/ht[2];st=new Ct(S,W[0]-ht[0]*S,W[1]-ht[1]*S)}z.zoom(null,st)}})}function b(d,N,v){return!v&&d.__zooming||new R(d,N)}function R(d,N){this.that=d,this.args=N,this.active=0,this.sourceEvent=null,this.extent=e.apply(d,N),this.taps=0}R.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,N){return this.mouse&&d!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var N=Yt(this.that).datum();l.call(d,this.that,new E_(d,{sourceEvent:this.sourceEvent,target:y,type:d,transform:this.that.__zoom,dispatch:l}),N)}};function j(d,...N){if(!t.apply(this,arguments))return;var v=b(this,N).event(d),$=this.__zoom,I=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,r.apply(this,arguments)))),D=Ft(d);if(v.wheel)(v.mouse[0][0]!==D[0]||v.mouse[0][1]!==D[1])&&(v.mouse[1]=$.invert(v.mouse[0]=D)),clearTimeout(v.wheel);else{if($.k===I)return;v.mouse=[D,$.invert(D)],Dn(this),v.start()}Ze(d),v.wheel=setTimeout(z,m),v.zoom("mouse",n(T(M($,I),v.mouse[0],v.mouse[1]),v.extent,s));function z(){v.wheel=null,v.end()}}function et(d,...N){if(f||!t.apply(this,arguments))return;var v=d.currentTarget,$=b(this,N,!0).event(d),I=Yt(d.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",at,!0),D=Ft(d,v),z=d.clientX,X=d.clientY;mg(d.view),li(d),$.mouse=[D,this.__zoom.invert(D)],Dn(this),$.start();function W(J){if(Ze(J),!$.moved){var tt=J.clientX-z,ft=J.clientY-X;$.moved=tt*tt+ft*ft>g}$.event(J).zoom("mouse",n(T($.that.__zoom,$.mouse[0]=Ft(J,v),$.mouse[1]),$.extent,s))}function at(J){I.on("mousemove.zoom mouseup.zoom",null),dg(J.view,$.moved),Ze(J),$.event(J).end()}}function Z(d,...N){if(t.apply(this,arguments)){var v=this.__zoom,$=Ft(d.changedTouches?d.changedTouches[0]:d,this),I=v.invert($),D=v.k*(d.shiftKey?.5:2),z=n(T(M(v,D),$,I),e.apply(this,N),s);Ze(d),a>0?Yt(this).transition().duration(a).call(C,z,$,d):Yt(this).call(y.transform,z,$,d)}}function L(d,...N){if(t.apply(this,arguments)){var v=d.touches,$=v.length,I=b(this,N,d.changedTouches.length===$).event(d),D,z,X,W;for(li(d),z=0;z<$;++z)X=v[z],W=Ft(X,this),W=[W,this.__zoom.invert(W),X.identifier],I.touch0?!I.touch1&&I.touch0[2]!==W[2]&&(I.touch1=W,I.taps=0):(I.touch0=W,D=!0,I.taps=1+!!c);c&&(c=clearTimeout(c)),D&&(I.taps<2&&(h=W[0],c=setTimeout(function(){c=null},p)),Dn(this),I.start())}}function U(d,...N){if(this.__zooming){var v=b(this,N).event(d),$=d.changedTouches,I=$.length,D,z,X,W;for(Ze(d),D=0;D<I;++D)z=$[D],X=Ft(z,this),v.touch0&&v.touch0[2]===z.identifier?v.touch0[0]=X:v.touch1&&v.touch1[2]===z.identifier&&(v.touch1[0]=X);if(z=v.that.__zoom,v.touch1){var at=v.touch0[0],J=v.touch0[1],tt=v.touch1[0],ft=v.touch1[1],st=(st=tt[0]-at[0])*st+(st=tt[1]-at[1])*st,ht=(ht=ft[0]-J[0])*ht+(ht=ft[1]-J[1])*ht;z=M(z,Math.sqrt(st/ht)),X=[(at[0]+tt[0])/2,(at[1]+tt[1])/2],W=[(J[0]+ft[0])/2,(J[1]+ft[1])/2]}else if(v.touch0)X=v.touch0[0],W=v.touch0[1];else return;v.zoom("touch",n(T(z,X,W),v.extent,s))}}function A(d,...N){if(this.__zooming){var v=b(this,N).event(d),$=d.changedTouches,I=$.length,D,z;for(li(d),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),D=0;D<I;++D)z=$[D],v.touch0&&v.touch0[2]===z.identifier?delete v.touch0:v.touch1&&v.touch1[2]===z.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(z=Ft(z,this),Math.hypot(h[0]-z[0],h[1]-z[1])<w)){var X=Yt(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return y.wheelDelta=function(d){return arguments.length?(r=typeof d=="function"?d:Sn(+d),y):r},y.filter=function(d){return arguments.length?(t=typeof d=="function"?d:Sn(!!d),y):t},y.touchable=function(d){return arguments.length?(i=typeof d=="function"?d:Sn(!!d),y):i},y.extent=function(d){return arguments.length?(e=typeof d=="function"?d:Sn([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),y):e},y.scaleExtent=function(d){return arguments.length?(o[0]=+d[0],o[1]=+d[1],y):[o[0],o[1]]},y.translateExtent=function(d){return arguments.length?(s[0][0]=+d[0][0],s[1][0]=+d[1][0],s[0][1]=+d[0][1],s[1][1]=+d[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(d){return arguments.length?(n=d,y):n},y.duration=function(d){return arguments.length?(a=+d,y):a},y.interpolate=function(d){return arguments.length?(u=d,y):u},y.on=function(){var d=l.on.apply(l,arguments);return d===l?y:d},y.clickDistance=function(d){return arguments.length?(g=(d=+d)*d,y):Math.sqrt(g)},y.tapDistance=function(d){return arguments.length?(w=+d,y):w},y}const I_=Object.freeze(Object.defineProperty({__proto__:null,ZoomTransform:Ct,zoom:L_,zoomIdentity:Cr,zoomTransform:Jl},Symbol.toStringTag,{value:"Module"})),P_=Wt(I_),Pt=Wt(pg),D_=Wt(Dp);var To={exports:{}},ke=typeof Reflect=="object"?Reflect:null,ya=ke&&typeof ke.apply=="function"?ke.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Rn;ke&&typeof ke.ownKeys=="function"?Rn=ke.ownKeys:Object.getOwnPropertySymbols?Rn=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Rn=function(e){return Object.getOwnPropertyNames(e)};function R_(t){console&&console.warn&&console.warn(t)}var tc=Number.isNaN||function(e){return e!==e};function V(){V.init.call(this)}To.exports=V;To.exports.once=Y_;V.EventEmitter=V;V.prototype._events=void 0;V.prototype._eventsCount=0;V.prototype._maxListeners=void 0;var va=10;function Lr(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(V,"defaultMaxListeners",{enumerable:!0,get:function(){return va},set:function(t){if(typeof t!="number"||t<0||tc(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");va=t}});V.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};V.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||tc(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ec(t){return t._maxListeners===void 0?V.defaultMaxListeners:t._maxListeners}V.prototype.getMaxListeners=function(){return ec(this)};V.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(u===void 0)return!1;if(typeof u=="function")ya(u,this,n);else for(var l=u.length,c=sc(u,l),r=0;r<l;++r)ya(c[r],this,n);return!0};function nc(t,e,n,r){var i,o,s;if(Lr(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),s===void 0)s=o[e]=n,++t._eventsCount;else if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=ec(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,R_(a)}return t}V.prototype.addListener=function(e,n){return nc(this,e,n,!1)};V.prototype.on=V.prototype.addListener;V.prototype.prependListener=function(e,n){return nc(this,e,n,!0)};function H_(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function rc(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=H_.bind(r);return i.listener=n,r.wrapFn=i,i}V.prototype.once=function(e,n){return Lr(n),this.on(e,rc(this,e,n)),this};V.prototype.prependOnceListener=function(e,n){return Lr(n),this.prependListener(e,rc(this,e,n)),this};V.prototype.removeListener=function(e,n){var r,i,o,s,a;if(Lr(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():F_(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};V.prototype.off=V.prototype.removeListener;V.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function ic(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?z_(i):sc(i,i.length)}V.prototype.listeners=function(e){return ic(this,e,!0)};V.prototype.rawListeners=function(e){return ic(this,e,!1)};V.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):oc.call(t,e)};V.prototype.listenerCount=oc;function oc(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}V.prototype.eventNames=function(){return this._eventsCount>0?Rn(this._events):[]};function sc(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function F_(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function z_(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Y_(t,e){return new Promise(function(n,r){function i(s){t.removeListener(e,o),r(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}ac(t,e,o,{once:!0}),e!=="error"&&q_(t,i,{once:!0})})}function q_(t,e,n){typeof t.on=="function"&&ac(t,"error",e,n)}function ac(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var U_=To.exports,So={};Object.defineProperty(So,"__esModule",{value:!0});const X_=mr,j_=Pt;function B_(t){const e=t.owner.meta.xScale,n=t.owner.meta.yScale,r=(0,X_.line)().x(function(i){return i[0]}).y(function(i){return i[1]});return function(i){i.each(function(){const s=(0,j_.select)(this).selectAll("g.annotations").data(function(m){return m.annotations||[]}),a=s.enter().append("g").attr("class","annotations"),u=n.range(),l=e.range(),c=s.merge(a).selectAll("path").data(function(m){return"x"in m?[[[0,u[0]],[0,u[1]]]]:[[[l[0],0],[l[1],0]]]}),h=c.enter().append("path");c.merge(h).attr("stroke","#eee").attr("d",r),c.exit().remove();const f=s.merge(a).selectAll("text").data(function(m){return[{text:m.text||"",hasX:"x"in m}]}),p=f.enter().append("text");f.merge(p).text(function(m){return m.text}).attr("y",function(m){return m.hasX?3:0}).attr("x",function(m){return m.hasX?0:3}).attr("dy",function(m){return m.hasX?5:-5}).attr("text-anchor",function(m){return m.hasX?"end":""}).attr("transform",function(m){return m.hasX?"rotate(-90)":""}),f.exit().remove(),s.merge(a).attr("transform",function(m){return"x"in m?"translate("+e(m.x)+", 0)":"translate(0, "+n(m.y)+")"}),s.exit().remove()})}}So.default=B_;var No={},At={},Zt={};const Eo=Wt(pp);Object.defineProperty(Zt,"__esModule",{value:!0});Zt.registerGraphType=void 0;const G_=Eo,ln={COLORS:["steelblue","red","#05b378","orange","#4040e8","yellow","brown","magenta","cyan"].map(function(t){return(0,G_.hsl)(t)}),DEFAULT_WIDTH:550,DEFAULT_HEIGHT:350,DEFAULT_ITERATIONS:null,TIP_X_EPS:1,MAX_ITERATIONS:0,graphTypes:{}};ln.MAX_ITERATIONS=ln.DEFAULT_WIDTH*10;function W_(t,e){if(Object.hasOwn(ln.graphTypes,t))throw new Error(`registerGraphType: graphType ${t} is already registered.`);ln.graphTypes[t]=e}Zt.registerGraphType=W_;Zt.default=ln;var V_=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(At,"__esModule",{value:!0});const wa=V_(Zt),Z_={linspace:function(t,e,n){const r=(e-t)/(n-1);return Array.from({length:n},(i,o)=>t+r*o)},logspace:function(t,e,n){return this.linspace(t,e,n).map(r=>Math.pow(10,r))},isValidNumber:function(t){return typeof t=="number"&&!isNaN(t)},space:function(t,e,n){const r=e[0],i=e[1];return t.type==="log"?this.logspace(Math.log10(r),Math.log10(i),n):this.linspace(r,i,n)},getterSetter:function(t,e){const n=this;this[e]=function(r){return arguments.length?(t[e]=r,n):t[e]}},sgn:function(t){return t<0?-1:t>0?1:0},clamp:function(t,e,n){return t<e?e:t>n?n:t},color:function(t,e){const n=e%wa.default.COLORS.length;return t.color||wa.default.COLORS[n].hex()},infinity:function(){return 9007199254740991}};At.default=Z_;var St={},$o={exports:{}},be={},uc={EOF:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4},ae=uc,Q_={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},K_={",":!0,"(":!0,")":!0,"[":!0,"]":!0,";":!0,"~":!0,"!":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0,"^":!0,"**":!0,"|":!0,"&":!0,"^|":!0,"=":!0,":":!0,"?":!0,"||":!0,"&&":!0,xor:!0,"==":!0,"!=":!0,"===":!0,"!==":!0,"<":!0,">":!0,">=":!0,"<=":!0,">>>":!0,"<<":!0,">>":!0};function zt(t){return t>="0"&&t<="9"}function lc(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"}function J_(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===" "}function ci(t){return K_[t]}function ty(t){return t==="'"||t==='"'}function oe(){}oe.prototype.throwError=function(t,e){e=typeof e>"u"?this.index:e;var n=new Error(t+" at index "+e);throw n.index=e,n.description=t,n};oe.prototype.lex=function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){for(;J_(this.peek());)this.consume();var e=this.peek(),n=e+this.peek(1),r=n+this.peek(2);ci(r)?(this.tokens.push({type:ae.DELIMITER,value:r}),this.consume(),this.consume(),this.consume()):ci(n)?(this.tokens.push({type:ae.DELIMITER,value:n}),this.consume(),this.consume()):ci(e)?(this.tokens.push({type:ae.DELIMITER,value:e}),this.consume()):zt(e)||e==="."&&zt(this.peek(1))?this.tokens.push({type:ae.NUMBER,value:this.readNumber()}):ty(e)?this.tokens.push({type:ae.STRING,value:this.readString()}):lc(e)?this.tokens.push({type:ae.SYMBOL,value:this.readIdentifier()}):this.throwError("unexpected character "+e)}return this.tokens.push({type:ae.EOF}),this.tokens};oe.prototype.peek=function(t){if(t=t||0,!(this.index+t>=this.text.length))return this.text.charAt(this.index+t)};oe.prototype.consume=function(){var t=this.peek();return this.index+=1,t};oe.prototype.readNumber=function(){var t="";if(this.peek()===".")t+=this.consume(),zt(this.peek())||this.throwError("number expected");else{for(;zt(this.peek());)t+=this.consume();this.peek()==="."&&(t+=this.consume())}for(;zt(this.peek());)t+=this.consume();if(this.peek()==="e"||this.peek()==="E")for(t+=this.consume(),zt(this.peek())||this.peek()==="+"||this.peek()==="-"||this.throwError(),(this.peek()==="+"||this.peek()==="-")&&(t+=this.consume()),zt(this.peek())||this.throwError("number expected");zt(this.peek());)t+=this.consume();return t};oe.prototype.readIdentifier=function(){for(var t="";lc(this.peek())||zt(this.peek());)t+=this.consume();return t};oe.prototype.readString=function(){for(var t=this.consume(),e="",n;;){var r=this.consume();if(r||this.throwError("string is not closed"),n){if(r==="u"){var i=this.text.substring(this.index+1,this.index+5);i.match(/[\da-f]{4}/i)||this.throwError("invalid unicode escape"),this.index+=4,e+=String.fromCharCode(parseInt(i,16))}else{var o=Q_[r];o?e+=o:e+=r}n=!1}else{if(r===t)break;r==="\\"?n=!0:e+=r}}return e};var cc=oe;function fc(){}fc.prototype.type="Node";var Dt=fc,ey=Dt,ny={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};function ko(t,e){if(!ny[e])throw Error("unsupported type '"+e+"'");this.value=t,this.valueType=e}ko.prototype=Object.create(ey.prototype);ko.prototype.type="ConstantNode";var hc=ko,ry=Dt;function Ao(t,e){this.op=t,this.args=e||[]}Ao.prototype=Object.create(ry.prototype);Ao.prototype.type="OperatorNode";var pc=Ao,iy=Dt;function Oo(t,e){this.op=t,this.argument=e}Oo.prototype=Object.create(iy.prototype);Oo.prototype.type="UnaryNode";var mc=Oo,oy=Dt;function Co(t){this.name=t}Co.prototype=Object.create(oy.prototype);Co.prototype.type="SymbolNode";var dc=Co,sy=Dt;function Lo(t,e){this.name=t,this.args=e}Lo.prototype=Object.create(sy.prototype);Lo.prototype.type="FunctionNode";var gc=Lo,ay=Dt;function Io(t){this.nodes=t}Io.prototype=Object.create(ay.prototype);Io.prototype.type="ArrayNode";var _c=Io,uy=Dt;function Po(t,e,n){this.condition=t,this.trueExpr=e,this.falseExpr=n}Po.prototype=Object.create(uy.prototype);Po.prototype.type="ConditionalNode";var yc=Po,ly=Dt;function Do(t,e){this.name=t,this.expr=e}Do.prototype=Object.create(ly.prototype);Do.prototype.type="AssignmentNode";var vc=Do,cy=Dt;function Ro(t){this.blocks=t}Ro.prototype=Object.create(cy.prototype);Ro.prototype.type="BlockNode";var wc=Ro,ye=uc,fy=cc,Ho=hc,wt=pc,hy=mc,xc=dc,py=gc,my=_c,dy=yc,gy=vc,_y=wc;function G(){this.lexer=new fy,this.tokens=null}G.prototype.current=function(){return this.tokens[0]};G.prototype.next=function(){return this.tokens[1]};G.prototype.peek=function(){if(this.tokens.length){for(var t=this.tokens[0],e=0;e<arguments.length;e+=1)if(t.value===arguments[e])return!0}};G.prototype.consume=function(t){return this.tokens.shift()};G.prototype.expect=function(t){if(!this.peek(t))throw Error("expected "+t);return this.consume()};G.prototype.isEOF=function(){return this.current().type===ye.EOF};G.prototype.parse=function(t){return this.tokens=this.lexer.lex(t),this.program()};G.prototype.program=function(){for(var t=[];!this.isEOF();)t.push(this.assignment()),this.peek(";")&&this.consume();return this.end(),new _y(t)};G.prototype.assignment=function(){var t=this.ternary();return t instanceof xc&&this.peek("=")?(this.consume(),new gy(t.name,this.assignment())):t};G.prototype.ternary=function(){var t=this.logicalOR();if(this.peek("?")){this.consume();var e=this.ternary();this.expect(":");var n=this.ternary();return new dy(t,e,n)}return t};G.prototype.logicalOR=function(){var t=this.logicalXOR();if(this.peek("||")){var e=this.consume(),n=this.logicalOR();return new wt(e.value,[t,n])}return t};G.prototype.logicalXOR=function(){var t=this.logicalAND();if(this.current().value==="xor"){var e=this.consume(),n=this.logicalXOR();return new wt(e.value,[t,n])}return t};G.prototype.logicalAND=function(){var t=this.bitwiseOR();if(this.peek("&&")){var e=this.consume(),n=this.logicalAND();return new wt(e.value,[t,n])}return t};G.prototype.bitwiseOR=function(){var t=this.bitwiseXOR();if(this.peek("|")){var e=this.consume(),n=this.bitwiseOR();return new wt(e.value,[t,n])}return t};G.prototype.bitwiseXOR=function(){var t=this.bitwiseAND();if(this.peek("^|")){var e=this.consume(),n=this.bitwiseXOR();return new wt(e.value,[t,n])}return t};G.prototype.bitwiseAND=function(){var t=this.relational();if(this.peek("&")){var e=this.consume(),n=this.bitwiseAND();return new wt(e.value,[t,n])}return t};G.prototype.relational=function(){var t=this.shift();if(this.peek("==","===","!=","!==",">=","<=",">","<")){var e=this.consume(),n=this.shift();return new wt(e.value,[t,n])}return t};G.prototype.shift=function(){var t=this.additive();if(this.peek(">>","<<",">>>")){var e=this.consume(),n=this.shift();return new wt(e.value,[t,n])}return t};G.prototype.additive=function(){for(var t=this.multiplicative();this.peek("+","-");){var e=this.consume();t=new wt(e.value,[t,this.multiplicative()])}return t};G.prototype.multiplicative=function(){for(var t,e,n=this.unary();this.peek("*","/","%");)t=this.consume(),n=new wt(t.value,[n,this.unary()]);return this.current().type===ye.SYMBOL||this.peek("(")||!(n.type instanceof Ho)&&this.current().type===ye.NUMBER?(e=this.multiplicative(),new wt("*",[n,e])):n};G.prototype.unary=function(){if(this.peek("-","+","~")){var t=this.consume(),e=this.unary();return new hy(t.value,e)}return this.pow()};G.prototype.pow=function(){var t=this.factorial();if(this.peek("^","**")){var e=this.consume(),n=this.unary();return new wt(e.value,[t,n])}return t};G.prototype.factorial=function(){var t=this.symbol();if(this.peek("!")){var e=this.consume();return new wt(e.value,[t])}return t};G.prototype.symbol=function(){var t=this.current();if(t.type===ye.SYMBOL){var e=this.consume(),n=this.functionCall(e);return n}return this.string()};G.prototype.functionCall=function(t){var e=t.value;if(this.peek("(")){this.consume();for(var n=[];!this.peek(")")&&!this.isEOF();)n.push(this.assignment()),this.peek(",")&&this.consume();return this.expect(")"),new py(e,n)}return new xc(e)};G.prototype.string=function(){return this.current().type===ye.STRING?new Ho(this.consume().value,"string"):this.array()};G.prototype.array=function(){if(this.peek("[")){this.consume();for(var t=[];!this.peek("]")&&!this.isEOF();)t.push(this.assignment()),this.peek(",")&&this.consume();return this.expect("]"),new my(t)}return this.number()};G.prototype.number=function(){var t=this.current();return t.type===ye.NUMBER?new Ho(this.consume().value,"number"):this.parentheses()};G.prototype.parentheses=function(){var t=this.current();if(t.value==="("){this.consume();var e=this.assignment();return this.expect(")"),e}return this.end()};G.prototype.end=function(){var t=this.current();if(t.type!==ye.EOF)throw Error("unexpected end of expression")};var yy=G,vy={ArrayNode:_c,AssignmentNode:vc,BlockNode:wc,ConditionalNode:yc,ConstantNode:hc,FunctionNode:gc,Node:Dt,OperatorNode:pc,SymbolNode:dc,UnaryNode:mc};be.Lexer=cc;be.Parser=yy;be.nodeTypes=vy;var Hn=Object.prototype.hasOwnProperty,bc=Object.prototype.toString,xa=Object.defineProperty,ba=Object.getOwnPropertyDescriptor,Ma=function(e){return typeof Array.isArray=="function"?Array.isArray(e):bc.call(e)==="[object Array]"},Ta=function(e){if(!e||bc.call(e)!=="[object Object]")return!1;var n=Hn.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Hn.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Hn.call(e,i)},Sa=function(e,n){xa&&n.name==="__proto__"?xa(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Na=function(e,n){if(n==="__proto__")if(Hn.call(e,n)){if(ba)return ba(e,n).value}else return;return e[n]},Ir=function t(){var e,n,r,i,o,s,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(e=arguments[u],e!=null)for(n in e)r=Na(a,n),i=Na(e,n),a!==i&&(c&&i&&(Ta(i)||(o=Ma(i)))?(o?(o=!1,s=r&&Ma(r)?r:[]):s=r&&Ta(r)?r:{},Sa(a,{name:n,newValue:t(c,s,i)})):typeof i<"u"&&Sa(a,{name:n,newValue:i}));return a},wy=function(t){var e=this,n=[];this.rawify(this.options.rawArrayExpressionElements,function(){n=t.nodes.map(function(i){return e.next(i)})});var r="["+n.join(",")+"]";return this.options.raw?r:this.options.factory+"("+r+")"},xy=function(t){return'scope["'+t.name+'"] = '+this.next(t.expr)},by=function(t){var e="!!("+this.next(t.condition)+")",n=this.next(t.trueExpr),r=this.next(t.falseExpr);return"("+e+" ? ("+n+") : ("+r+") )"},My=function(t){return this.options.raw?t.value:this.options.factory+"("+t.value+")"},Fo={exports:{}},Ty=be.nodeTypes.SymbolNode,Mc=function(t){return"$$mathCodegen.functionProxy("+this.next(new Ty(t.name))+', "'+t.name+'")'};Fo.exports=function(t){var e=this,n=Mc.call(this,t),r=[];return this.rawify(this.options.rawCallExpressionElements,function(){r=t.args.map(function(i){return e.next(i)})}),n+"("+r.join(", ")+")"};Fo.exports.functionProxy=Mc;var Sy=Fo.exports,Ny={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},Ey=Ny,$y=function(t){if(this.options.raw)return["("+this.next(t.args[0]),t.op,this.next(t.args[1])+")"].join(" ");var e=Ey[t.op];if(!e)throw TypeError("unidentified operator");return this.FunctionNode({name:e,args:t.args})},ky=function(t){var e=t.name;return'$$mathCodegen.getProperty("'+e+'", scope, ns)'},Ay={"+":"positive","-":"negative","~":"oneComplement"},Ea=Ay,Oy=function(t){if(this.options.raw)return t.op+this.next(t.argument);if(!(t.op in Ea))throw new SyntaxError(t.op+" not implemented");var e=Ea[t.op];return this.FunctionNode({name:e,args:[t.argument]})},Tc=Ir,Cy={ArrayNode:wy,AssignmentNode:xy,ConditionalNode:by,ConstantNode:My,FunctionNode:Sy,OperatorNode:$y,SymbolNode:ky,UnaryNode:Oy},Pr=function(t,e){this.owner=t,this.options=Tc({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1},e)};Tc(Pr.prototype,Cy);Pr.prototype.next=function(t){if(!(t.type in this))throw new TypeError("the node type "+t.type+" is not implemented");return this[t.type](t)};Pr.prototype.rawify=function(t,e){var n=this.options.raw;t&&(this.options.raw=!0),e(),t&&(this.options.raw=n)};var Ly=Pr,Iy=be.Parser,Py=Ly,Dy=Ir;function Dr(t,e){this.statements=[],this.defs=e||{},this.interpreter=new Py(this,t)}Dr.prototype.setDefs=function(t){return this.defs=Dy(this.defs,t),this};Dr.prototype.compile=function(t){if(!t||!(typeof t=="object"||typeof t=="function"))throw TypeError("namespace must be an object");if(typeof t.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=t,this.defs.$$mathCodegen={getProperty:function(o,s,a){if(o in s)return s[o];if(o in a)return a[o];throw SyntaxError('symbol "'+o+'" is undefined')},functionProxy:function(o,s){if(typeof o!="function")throw SyntaxError('symbol "'+s+'" must be a function');return o}},this.defs.$$processScope=this.defs.$$processScope||function(){};var e=Object.keys(this.defs).map(function(o){return"var "+o+' = defs["'+o+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var n=this.statements.join(";"),r=e.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+n,"  },","  code: '"+n+"'","}"].join(`
`),i=new Function("defs",r);return i(this.defs)};Dr.prototype.parse=function(t){var e=this,n=new Iy().parse(t);return this.statements=n.blocks.map(function(r){return e.interpreter.next(r)}),this};var Ry=Dr,Hy=Ry,Fy=function(){var t=Object.create(Math);return t.factory=function(e){if(typeof e!="number")throw new TypeError("built-in math factory only accepts numbers");return Number(e)},t.add=function(e,n){return e+n},t.sub=function(e,n){return e-n},t.mul=function(e,n){return e*n},t.div=function(e,n){return e/n},t.mod=function(e,n){return e%n},t.factorial=function(e){for(var n=1,r=2;r<=e;r+=1)n*=r;return n},t.nthRoot=function(e,n){var r=n<0;if(r&&(n=-n),n===0)throw new Error("Root must be non-zero");if(e<0&&Math.abs(n)%2!==1)throw new Error("Root must be odd when a is negative.");if(e===0)return 0;if(!isFinite(e))return r?0:e;var i=Math.pow(Math.abs(e),1/n);return i=e<0?-i:i,r?1/i:i},t.logicalOR=function(e,n){return e||n},t.logicalXOR=function(e,n){return e!=n},t.logicalAND=function(e,n){return e&&n},t.bitwiseOR=function(e,n){return e|n},t.bitwiseXOR=function(e,n){return e^n},t.bitwiseAND=function(e,n){return e&n},t.lessThan=function(e,n){return e<n},t.lessEqualThan=function(e,n){return e<=n},t.greaterThan=function(e,n){return e>n},t.greaterEqualThan=function(e,n){return e>=n},t.equal=function(e,n){return e==n},t.strictlyEqual=function(e,n){return e===n},t.notEqual=function(e,n){return e!=n},t.strictlyNotEqual=function(e,n){return e!==n},t.shiftRight=function(e,n){return e>>n},t.shiftLeft=function(e,n){return e<<n},t.unsignedRightShift=function(e,n){return e>>>n},t.negative=function(e){return-e},t.positive=function(e){return e},t},zy=Hy,zo=Fy();function Yy(t){Object.keys(t).forEach(function(e){var n=t[e];t[e]=zo.factory(n)})}$o.exports=function(t){return new zy().setDefs({$$processScope:Yy}).parse(t).compile(zo)};$o.exports.math=zo;var qy=$o.exports,Uy=qy,Rr={exports:{}},Xy=function(t){var e=this,n=[];this.rawify(this.options.rawArrayExpressionElements,function(){n=t.nodes.map(function(i){return e.next(i)})});var r="["+n.join(",")+"]";return this.options.raw?r:this.options.factory+"("+r+")"},jy=function(t){return'scope["'+t.name+'"] = '+this.next(t.expr)},By=function(t){var e="!!("+this.next(t.condition)+")",n=this.next(t.trueExpr),r=this.next(t.falseExpr);return"("+e+" ? ("+n+") : ("+r+") )"},Gy=function(t){return this.options.raw?t.value:this.options.factory+"("+t.value+")"},Yo={exports:{}},Wy=be.nodeTypes.SymbolNode,Sc=function(t){return"$$mathCodegen.functionProxy("+this.next(new Wy(t.name))+', "'+t.name+'")'};Yo.exports=function(t){var e=this,n=Sc.call(this,t),r=[];return this.rawify(this.options.rawCallExpressionElements,function(){r=t.args.map(function(i){return e.next(i)})}),n+"("+r.join(", ")+")"};Yo.exports.functionProxy=Sc;var Vy=Yo.exports,Zy={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},Qy=Zy,Ky=function(t){if(this.options.raw)return["("+this.next(t.args[0]),t.op,this.next(t.args[1])+")"].join(" ");var e=Qy[t.op];if(!e)throw TypeError("unidentified operator");return this.FunctionNode({name:e,args:t.args})},Jy=function(t){var e=t.name;return'$$mathCodegen.getProperty("'+e+'", scope, ns)'},t1={"+":"positive","-":"negative","~":"oneComplement"},$a=t1,e1=function(t){if(this.options.raw)return t.op+this.next(t.argument);if(!(t.op in $a))throw new SyntaxError(t.op+" not implemented");var e=$a[t.op];return this.FunctionNode({name:e,args:[t.argument]})},Nc=Ir,n1={ArrayNode:Xy,AssignmentNode:jy,ConditionalNode:By,ConstantNode:Gy,FunctionNode:Vy,OperatorNode:Ky,SymbolNode:Jy,UnaryNode:e1},Hr=function(t,e){this.owner=t,this.options=Nc({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1,applyFactoryToScope:!1},e)};Nc(Hr.prototype,n1);Hr.prototype.next=function(t){if(!(t.type in this))throw new TypeError("the node type "+t.type+" is not implemented");return this[t.type](t)};Hr.prototype.rawify=function(t,e){var n=this.options.raw;t&&(this.options.raw=!0),e(),t&&(this.options.raw=n)};var r1=Hr,i1=be.Parser,o1=r1,s1=Ir;function Fr(t,e){this.statements=[],this.defs=e||{},this.interpreter=new o1(this,t)}Fr.prototype.setDefs=function(t){return this.defs=s1(this.defs,t),this};Fr.prototype.compile=function(t){var e=this;if(!t||!(typeof t=="object"||typeof t=="function"))throw TypeError("namespace must be an object");if(typeof t.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=t,this.defs.$$mathCodegen={getProperty:function(s,a,u){function l(c){return e.interpreter.options.applyFactoryToScope&&typeof c!="function"?u.factory(c):c}if(s in a)return l(a[s]);if(s in u)return l(u[s]);throw SyntaxError('symbol "'+s+'" is undefined')},functionProxy:function(s,a){if(typeof s!="function")throw SyntaxError('symbol "'+a+'" must be a function');return s}},this.defs.$$processScope=this.defs.$$processScope||function(){};var n=Object.keys(this.defs).map(function(s){return"var "+s+' = defs["'+s+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var r=this.statements.join(";"),i=n.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+r,"  },","  code: '"+r+"'","}"].join(`
`),o=new Function("defs",i);return o(this.defs)};Fr.prototype.parse=function(t){var e=this,n=new i1().parse(t);return this.statements=n.blocks.map(function(r){return e.interpreter.next(r)}),this};var a1=Fr,u1=a1;function or(t){return typeof t=="object"&&typeof t.lo=="number"&&typeof t.hi=="number"}function P(t){return t.lo>t.hi}function zr(t){return t.lo===-1/0&&t.hi===1/0}function He(t){return t.lo===t.hi}function qe(t){return qo(t,0)}function qo(t,e){return P(t)?!1:t.lo<=e&&e<=t.hi}function Ec(t,e){return P(t)?!0:!P(e)&&e.lo<=t.lo&&t.hi<=e.hi}function Yr(t,e){return P(t)||P(e)?!1:t.lo<=e.lo&&e.lo<=t.hi||e.lo<=t.lo&&t.lo<=e.hi}const l1=Object.freeze(Object.defineProperty({__proto__:null,hasInterval:Ec,hasValue:qo,intervalsOverlap:Yr,isEmpty:P,isInterval:or,isSingleton:He,isWhole:zr,zeroIn:qe},Symbol.toStringTag,{value:"Module"}));var Uo={exports:{}};Uo.exports;(function(t){var e=!1;if(typeof Float64Array<"u"){var n=new Float64Array(1),r=new Uint32Array(n.buffer);if(n[0]=1,e=!0,r[1]===1072693248){let o=function(u,l){return r[0]=u,r[1]=l,n[0]},s=function(u){return n[0]=u,r[0]},a=function(u){return n[0]=u,r[1]};t.exports=function(l){return n[0]=l,[r[0],r[1]]},t.exports.pack=o,t.exports.lo=s,t.exports.hi=a}else if(r[0]===1072693248){let o=function(u,l){return r[1]=u,r[0]=l,n[0]},s=function(u){return n[0]=u,r[1]},a=function(u){return n[0]=u,r[0]};t.exports=function(l){return n[0]=l,[r[1],r[0]]},t.exports.pack=o,t.exports.lo=s,t.exports.hi=a}else e=!1}if(!e){let o=function(u,l){return i.writeUInt32LE(u,0,!0),i.writeUInt32LE(l,4,!0),i.readDoubleLE(0,!0)},s=function(u){return i.writeDoubleLE(u,0,!0),i.readUInt32LE(0,!0)},a=function(u){return i.writeDoubleLE(u,0,!0),i.readUInt32LE(4,!0)};var i=new Buffer(8);t.exports=function(l){return i.writeDoubleLE(l,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},t.exports.pack=o,t.exports.lo=s,t.exports.hi=a}t.exports.sign=function(o){return t.exports.hi(o)>>>31},t.exports.exponent=function(o){var s=t.exports.hi(o);return(s<<1>>>21)-1023},t.exports.fraction=function(o){var s=t.exports.lo(o),a=t.exports.hi(o),u=a&(1<<20)-1;return a&2146435072&&(u+=1<<20),[s,u]},t.exports.denormalized=function(o){var s=t.exports.hi(o);return!(s&2146435072)}})(Uo);var c1=Uo.exports,fi=c1,ka=Math.pow(2,-1074),Aa=-1>>>0,f1=h1;function h1(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(t===0)return e<0?-ka:ka;var n=fi.hi(t),r=fi.lo(t);return e>t==t>0?r===Aa?(n+=1,r=0):r+=1:r===0?(r=Aa,n-=1):r-=1,fi.pack(r,n)}const $c=Ua(f1);function p1(t){return t}function Li(t){return t===1/0?t:$c(t,-1/0)}function Ii(t){return t===-1/0?t:$c(t,1/0)}function Oa(t){return t<0?Math.ceil(t):Math.floor(t)}const Se={prev:Li,next:Ii},_={safePrev:Li,safeNext:Ii,prev(t){return Se.prev(t)},next(t){return Se.next(t)},addLo(t,e){return _.prev(t+e)},addHi(t,e){return _.next(t+e)},subLo(t,e){return _.prev(t-e)},subHi(t,e){return _.next(t-e)},mulLo(t,e){return _.prev(t*e)},mulHi(t,e){return _.next(t*e)},divLo(t,e){return _.prev(t/e)},divHi(t,e){return _.next(t/e)},intLo(t){return Oa(_.prev(t))},intHi(t){return Oa(_.next(t))},logLo(t){return _.prev(Math.log(t))},logHi(t){return _.next(Math.log(t))},expLo(t){return _.prev(Math.exp(t))},expHi(t){return _.next(Math.exp(t))},sinLo(t){return _.prev(Math.sin(t))},sinHi(t){return _.next(Math.sin(t))},cosLo(t){return _.prev(Math.cos(t))},cosHi(t){return _.next(Math.cos(t))},tanLo(t){return _.prev(Math.tan(t))},tanHi(t){return _.next(Math.tan(t))},asinLo(t){return _.prev(Math.asin(t))},asinHi(t){return _.next(Math.asin(t))},acosLo(t){return _.prev(Math.acos(t))},acosHi(t){return _.next(Math.acos(t))},atanLo(t){return _.prev(Math.atan(t))},atanHi(t){return _.next(Math.atan(t))},sinhLo(t){return _.prev(Math.sinh(t))},sinhHi(t){return _.next(Math.sinh(t))},coshLo(t){return _.prev(Math.cosh(t))},coshHi(t){return _.next(Math.cosh(t))},tanhLo(t){return _.prev(Math.tanh(t))},tanhHi(t){return _.next(Math.tanh(t))},powLo(t,e){if(e%1!==0)return _.prev(Math.pow(t,e));let n=(e&1)===1?t:1;for(e>>=1;e>0;)t=_.mulLo(t,t),(e&1)===1&&(n=_.mulLo(t,n)),e>>=1;return n},powHi(t,e){if(e%1!==0)return _.next(Math.pow(t,e));let n=(e&1)===1?t:1;for(e>>=1;e>0;)t=_.mulHi(t,t),(e&1)===1&&(n=_.mulHi(t,n)),e>>=1;return n},sqrtLo(t){return _.prev(Math.sqrt(t))},sqrtHi(t){return _.next(Math.sqrt(t))},disable(){Se.next=Se.prev=p1},enable(){Se.next=Ii,Se.prev=Li}};class cn{constructor(e,n){if(this.lo=0,this.hi=0,!(this instanceof cn))return console.log("calling with new"),console.log(e,n),new cn(e,n);if(typeof e<"u"&&typeof n<"u"){if(or(e)){if(!He(e))throw new TypeError("Interval: interval `lo` must be a singleton");e=e.lo}if(or(n)){if(!He(n))throw TypeError("Interval: interval `hi` must be a singleton");n=n.hi}}else{if(typeof e<"u")return Array.isArray(e)?new k(e[0],e[1]):new k(e,e);e=n=0}this.assign(e,n)}singleton(e){return this.set(e,e)}bounded(e,n){return this.set(_.prev(e),_.next(n))}boundedSingleton(e){return this.bounded(e,e)}set(e,n){return this.lo=e,this.hi=n,this}assign(e,n){if(typeof e!="number"||typeof n!="number")throw TypeError("Interval#assign: arguments must be numbers");return isNaN(e)||isNaN(n)||e>n?this.setEmpty():this.set(e,n)}setEmpty(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)}setWhole(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)}open(e,n){return this.assign(_.safeNext(e),_.safePrev(n))}halfOpenLeft(e,n){return this.assign(_.safeNext(e),n)}halfOpenRight(e,n){return this.assign(e,_.safePrev(n))}toArray(){return[this.lo,this.hi]}clone(){return new k().set(this.lo,this.hi)}}function m1(t){function e(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return new(Function.prototype.bind.apply(t,[null].concat(r)))}return e.prototype=t.prototype,e}const k=m1(cn);k.factory=k;const Nn=(3373259426+273688/(1<<21))/(1<<30),En=(3373259426+273689/(1<<21))/(1<<30),O={PI_LOW:Nn,PI_HIGH:En,PI_HALF_LOW:Nn/2,PI_HALF_HIGH:En/2,PI_TWICE_LOW:Nn*2,PI_TWICE_HIGH:En*2,get E(){return new k(_.prev(Math.E),_.next(Math.E))},get PI(){return new k(Nn,En)},get PI_HALF(){return new k(O.PI_HALF_LOW,O.PI_HALF_HIGH)},get PI_TWICE(){return new k(O.PI_TWICE_LOW,O.PI_TWICE_HIGH)},get ZERO(){return new k(0)},get ONE(){return new k(1)},get WHOLE(){return new k().setWhole()},get EMPTY(){return new k().setEmpty()}};function kc(t,e){return P(t)?P(e):!P(e)&&t.lo===e.lo&&t.hi===e.hi}const d1=1e-7;function sr(t,e){if(!t)throw new Error(e||"assertion failed")}function Ca(t,e){if(!isFinite(t))return sr(t===e,`[Infinity] expected ${t} to be ${e}`);sr(Math.abs(t-e)<d1,`expected ${t} to be close to ${e}`)}function Xo(t,e){t=Array.isArray(t)?t:t.toArray(),e=Array.isArray(e)?e:e.toArray(),Ca(t[0],e[0]),Ca(t[1],e[1])}function Ac(t,e){Xo(t,e),t=Array.isArray(t)?t:t.toArray(),e=Array.isArray(e)?e:e.toArray(),sr(t[0]<=e[0],`${t[0]} should be less/equal than ${e[0]}`),sr(e[1]<=t[1],`${e[1]} should be less/equal than ${t[1]}`)}function Oc(t,e){return P(t)?!P(e):P(e)||t.hi<e.lo||t.lo>e.hi}function jo(t,e){return P(t)||P(e)?!1:t.hi<e.lo}const Cc=jo;function Bo(t,e){return P(t)||P(e)?!1:t.lo>e.hi}const Lc=Bo;function Go(t,e){return P(t)||P(e)?!1:t.hi<=e.lo}const Ic=Go;function Wo(t,e){return P(t)||P(e)?!1:t.lo>=e.hi}const Pc=Wo,g1=Object.freeze(Object.defineProperty({__proto__:null,almostEqual:Xo,assertIncludes:Ac,equal:kc,geq:Pc,greaterEqualThan:Wo,greaterThan:Bo,gt:Lc,leq:Ic,lessEqualThan:Go,lessThan:jo,lt:Cc,notEqual:Oc},Symbol.toStringTag,{value:"Module"}));function _1(t,e){const n=t.lo,r=t.hi,i=e.lo,o=e.hi,s=new k;return r<0?o<0?(s.lo=_.divLo(r,i),s.hi=_.divHi(n,o)):(s.lo=_.divLo(n,i),s.hi=_.divHi(r,o)):n<0?o<0?(s.lo=_.divLo(r,o),s.hi=_.divHi(n,o)):(s.lo=_.divLo(n,i),s.hi=_.divHi(r,i)):o<0?(s.lo=_.divLo(r,o),s.hi=_.divHi(n,i)):(s.lo=_.divLo(n,o),s.hi=_.divHi(r,i)),s}function y1(t,e){return t.lo===0&&t.hi===0?t:qe(t)?O.WHOLE:t.hi<0?new k(Number.NEGATIVE_INFINITY,_.divHi(t.hi,e)):new k(_.divLo(t.lo,e),Number.POSITIVE_INFINITY)}function v1(t,e){return t.lo===0&&t.hi===0?t:qe(t)?O.WHOLE:t.hi<0?new k(_.divLo(t.hi,e),Number.POSITIVE_INFINITY):new k(Number.NEGATIVE_INFINITY,_.divHi(t.lo,e))}function w1(t){return t.lo===0&&t.hi===0?t:O.WHOLE}function Dc(t,e){return new k(_.addLo(t.lo,e.lo),_.addHi(t.hi,e.hi))}function Vo(t,e){return new k(_.subLo(t.lo,e.hi),_.subHi(t.hi,e.lo))}const Ue=Vo;function Zo(t,e){if(P(t)||P(e))return O.EMPTY;const n=t.lo,r=t.hi,i=e.lo,o=e.hi,s=new k;return n<0?r>0?i<0?o>0?(s.lo=Math.min(_.mulLo(n,o),_.mulLo(r,i)),s.hi=Math.max(_.mulHi(n,i),_.mulHi(r,o))):(s.lo=_.mulLo(r,i),s.hi=_.mulHi(n,i)):o>0?(s.lo=_.mulLo(n,o),s.hi=_.mulHi(r,o)):(s.lo=0,s.hi=0):i<0?o>0?(s.lo=_.mulLo(n,o),s.hi=_.mulHi(n,i)):(s.lo=_.mulLo(r,o),s.hi=_.mulHi(n,i)):o>0?(s.lo=_.mulLo(n,o),s.hi=_.mulHi(r,i)):(s.lo=0,s.hi=0):r>0?i<0?o>0?(s.lo=_.mulLo(r,i),s.hi=_.mulHi(r,o)):(s.lo=_.mulLo(r,i),s.hi=_.mulHi(n,o)):o>0?(s.lo=_.mulLo(n,i),s.hi=_.mulHi(r,o)):(s.lo=0,s.hi=0):(s.lo=0,s.hi=0),s}const Qo=Zo;function Ko(t,e){return P(t)||P(e)?O.EMPTY:qe(e)?e.lo!==0?e.hi!==0?w1(t):v1(t,e.lo):e.hi!==0?y1(t,e.hi):O.EMPTY:_1(t,e)}const qr=Ko;function Rc(t){return new k(t.lo,t.hi)}function Ur(t){return new k(-t.hi,-t.lo)}const x1=Object.freeze(Object.defineProperty({__proto__:null,add:Dc,div:qr,divide:Ko,mul:Qo,multiply:Zo,negative:Ur,positive:Rc,sub:Ue,subtract:Vo},Symbol.toStringTag,{value:"Module"}));function Xr(t,e){if(P(t)||P(e))return O.EMPTY;const n=t.lo<0?e.lo:e.hi;let r=t.lo/n;return r<0?r=Math.ceil(r):r=Math.floor(r),Ue(t,Qo(e,new k(r)))}function Jo(t){return P(t)?O.EMPTY:qe(t)?t.lo!==0?t.hi!==0?O.WHOLE:new k(Number.NEGATIVE_INFINITY,_.divHi(1,t.lo)):t.hi!==0?new k(_.divLo(1,t.hi),Number.POSITIVE_INFINITY):O.EMPTY:new k(_.divLo(1,t.hi),_.divHi(1,t.lo))}function ts(t,e){if(P(t))return O.EMPTY;if(typeof e=="object"){if(!He(e))return O.EMPTY;e=e.lo}if(e===0)return t.lo===0&&t.hi===0?O.EMPTY:O.ONE;if(e<0)return ts(Jo(t),-e);if(Number.isSafeInteger(e))if(t.hi<0){const n=_.powLo(-t.hi,e),r=_.powHi(-t.lo,e);return(e&1)===1?new k(-r,-n):new k(n,r)}else return t.lo<0?(e&1)===1?new k(-_.powLo(-t.lo,e),_.powHi(t.hi,e)):new k(0,_.powHi(Math.max(-t.lo,t.hi),e)):new k(_.powLo(t.lo,e),_.powHi(t.hi,e));else return console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),O.EMPTY}function Hc(t){return es(t,2)}function es(t,e){if(P(t)||e<0)return O.EMPTY;if(typeof e=="object"){if(!He(e))return O.EMPTY;e=e.lo}const n=1/e;if(t.hi<0){if(Number.isSafeInteger(e)&&(e&1)===1){const r=_.powHi(-t.lo,n),i=_.powLo(-t.hi,n);return new k(-r,-i)}return O.EMPTY}else if(t.lo<0){const r=_.powHi(t.hi,n);if(Number.isSafeInteger(e)&&(e&1)===1){const i=-_.powHi(-t.lo,n);return new k(i,r)}return new k(0,r)}else return new k(_.powLo(t.lo,n),_.powHi(t.hi,n))}const b1=Object.freeze(Object.defineProperty({__proto__:null,fmod:Xr,multiplicativeInverse:Jo,nthRoot:es,pow:ts,sqrt:Hc},Symbol.toStringTag,{value:"Module"}));function Fc(t){return P(t)?O.EMPTY:new k(_.expLo(t.lo),_.expHi(t.hi))}function Me(t){if(P(t))return O.EMPTY;const e=t.lo<=0?Number.NEGATIVE_INFINITY:_.logLo(t.lo);return new k(e,_.logHi(t.hi))}const zc=Me,ns=Me(new k(10,10));function Yc(t){return P(t)?O.EMPTY:qr(Me(t),ns)}const rs=Me(new k(2,2));function qc(t){return P(t)?O.EMPTY:qr(Me(t),rs)}function Uc(t,e){const n=P(t),r=P(e);return n&&r?O.EMPTY:n?e.clone():r?t.clone():new k(Math.min(t.lo,e.lo),Math.max(t.hi,e.hi))}function Xc(t,e){if(P(t)||P(e))return O.EMPTY;const n=Math.max(t.lo,e.lo),r=Math.min(t.hi,e.hi);return n<=r?new k(n,r):O.EMPTY}function jc(t,e){if(!Yr(t,e))throw Error("Interval#union: intervals do not overlap");return new k(Math.min(t.lo,e.lo),Math.max(t.hi,e.hi))}function Bc(t,e){if(P(t)||zr(e))return O.EMPTY;if(Yr(t,e)){if(t.lo<e.lo&&e.hi<t.hi)throw Error("Interval.difference: difference creates multiple intervals");return e.lo<=t.lo&&e.hi===1/0||e.hi>=t.hi&&e.lo===-1/0?O.EMPTY:e.lo<=t.lo?new k().halfOpenLeft(e.hi,t.hi):new k().halfOpenRight(t.lo,e.lo)}return t.clone()}function jr(t){return P(t)?0:_.subHi(t.hi,t.lo)}const Gc=jr;function Wc(t){return P(t)||zr(t)?O.EMPTY:t.lo>=0?t.clone():t.hi<=0?Ur(t):new k(0,Math.max(-t.lo,t.hi))}function Vc(t,e){const n=P(t),r=P(e);return n&&r?O.EMPTY:n?e.clone():r?t.clone():new k(Math.max(t.lo,e.lo),Math.max(t.hi,e.hi))}function Zc(t,e){const n=P(t),r=P(e);return n&&r?O.EMPTY:n?e.clone():r?t.clone():new k(Math.min(t.lo,e.lo),Math.min(t.hi,e.hi))}function Qc(t){return new k().set(t.lo,t.hi)}const M1=Object.freeze(Object.defineProperty({__proto__:null,LOG_EXP_10:ns,LOG_EXP_2:rs,abs:Wc,clone:Qc,difference:Bc,exp:Fc,hull:Uc,intersection:Xc,ln:zc,log:Me,log10:Yc,log2:qc,max:Vc,min:Zc,union:jc,wid:Gc,width:jr},Symbol.toStringTag,{value:"Module"}));function is(t){return!isFinite(t.lo)&&t.lo===t.hi}function Kc(t){if(t.lo<0)if(t.lo===-1/0)t.lo=0,t.hi=1/0;else{const e=Math.ceil(-t.lo/O.PI_TWICE_LOW);t.lo+=O.PI_TWICE_LOW*e,t.hi+=O.PI_TWICE_LOW*e}return t}function Br(t){if(P(t)||is(t))return O.EMPTY;const e=new k().set(t.lo,t.hi);Kc(e);const n=O.PI_TWICE,r=Xr(e,n);if(jr(r)>=n.lo)return new k(-1,1);if(r.lo>=O.PI_HIGH){const u=Br(Ue(r,O.PI));return Ur(u)}const i=r.lo,o=r.hi,s=_.cosLo(o),a=_.cosHi(i);return o<=O.PI_LOW?new k(s,a):o<=n.lo?new k(-1,Math.max(s,a)):new k(-1,1)}function Jc(t){return P(t)||is(t)?O.EMPTY:Br(Ue(t,O.PI_HALF))}function tf(t){if(P(t)||is(t))return O.EMPTY;const e=new k().set(t.lo,t.hi);Kc(e);const n=O.PI;let r=Xr(e,n);return r.lo>=O.PI_HALF_LOW&&(r=Ue(r,n)),r.lo<=-O.PI_HALF_LOW||r.hi>=O.PI_HALF_LOW?O.WHOLE:new k(_.tanLo(r.lo),_.tanHi(r.hi))}function ef(t){if(P(t)||t.hi<-1||t.lo>1)return O.EMPTY;const e=t.lo<=-1?-O.PI_HALF_HIGH:_.asinLo(t.lo),n=t.hi>=1?O.PI_HALF_HIGH:_.asinHi(t.hi);return new k(e,n)}function nf(t){if(P(t)||t.hi<-1||t.lo>1)return O.EMPTY;const e=t.hi>=1?0:_.acosLo(t.hi),n=t.lo<=-1?O.PI_HIGH:_.acosHi(t.lo);return new k(e,n)}function rf(t){return P(t)?O.EMPTY:new k(_.atanLo(t.lo),_.atanHi(t.hi))}function of(t){return P(t)?O.EMPTY:new k(_.sinhLo(t.lo),_.sinhHi(t.hi))}function sf(t){return P(t)?O.EMPTY:t.hi<0?new k(_.coshLo(t.hi),_.coshHi(t.lo)):t.lo>=0?new k(_.coshLo(t.lo),_.coshHi(t.hi)):new k(1,_.coshHi(-t.lo>t.hi?t.lo:t.hi))}function af(t){return P(t)?O.EMPTY:new k(_.tanhLo(t.lo),_.tanhHi(t.hi))}const T1=Object.freeze(Object.defineProperty({__proto__:null,acos:nf,asin:ef,atan:rf,cos:Br,cosh:sf,sin:Jc,sinh:of,tan:tf,tanh:af},Symbol.toStringTag,{value:"Module"})),S1=Object.assign(k,O,_,M1,l1,g1,x1,b1,T1,{round:_}),N1=Object.freeze(Object.defineProperty({__proto__:null,Interval:cn,LOG_EXP_10:ns,LOG_EXP_2:rs,abs:Wc,acos:nf,add:Dc,almostEqual:Xo,asin:ef,assertIncludes:Ac,atan:rf,clone:Qc,constants:O,cos:Br,cosh:sf,default:S1,difference:Bc,div:qr,divide:Ko,equal:kc,exp:Fc,fmod:Xr,geq:Pc,greaterEqualThan:Wo,greaterThan:Bo,gt:Lc,hasInterval:Ec,hasValue:qo,hull:Uc,intersection:Xc,intervalsOverlap:Yr,isEmpty:P,isInterval:or,isSingleton:He,isWhole:zr,leq:Ic,lessEqualThan:Go,lessThan:jo,ln:zc,log:Me,log10:Yc,log2:qc,lt:Cc,max:Vc,min:Zc,mul:Qo,multiplicativeInverse:Jo,multiply:Zo,negative:Ur,notEqual:Oc,nthRoot:es,positive:Rc,pow:ts,round:_,sin:Jc,sinh:of,sqrt:Hc,sub:Ue,subtract:Vo,tan:tf,tanh:af,union:jc,wid:Gc,width:jr,zeroIn:qe},Symbol.toStringTag,{value:"Module"})),E1=Wt(N1);var $1=function(t){t.mod=t.fmod,t.lessThan=t.lt,t.lessEqualThan=t.leq,t.greaterThan=t.gt,t.greaterEqualThan=t.geq,t.strictlyEqual=t.equal,t.strictlyNotEqual=t.notEqual,t.logicalAND=function(e,n){return e&&n},t.logicalXOR=function(e,n){return e^n},t.logicalOR=function(e,n){return e||n}},k1=function(t){return{disableRounding:function(){t.round.disable()},enableRounding:function(){t.round.enable()}}};const A1=u1,Fe=E1.default;$1(Fe);function O1(t){Object.keys(t).forEach(function(e){const n=t[e];typeof n=="number"||Array.isArray(n)?t[e]=Fe.factory(n):typeof n=="object"&&"lo"in n&&"hi"in n&&(t[e]=Fe.factory(n.lo,n.hi))})}Rr.exports=function(t){return new A1().setDefs({$$processScope:O1}).parse(t).compile(Fe)};Rr.exports.policies=k1(Fe);Rr.exports.Interval=Fe;var C1=Rr.exports,uf=C1,lf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(St,"__esModule",{value:!0});St.interval=St.builtIn=void 0;const L1=lf(Uy),I1=lf(uf),cf={interval:I1.default,builtIn:L1.default};function P1(){return typeof H=="object"&&"math"in H?H.math:typeof window=="object"&&"math"in window?window.math:null}const Pi=P1();Pi&&(cf.builtIn=Pi.compile);function ff(t){function e(o){if(typeof o=="string"){const s=cf[t](o);return Pi&&t==="builtIn"?{eval:s.evaluate||s.eval}:s}else{if(typeof o=="function")return{eval:o};throw Error("expression must be a string or a function")}}function n(o,s){const a=o[s],u=t+"_Expression_"+s,l=t+"_Compiled_"+s;a!==o[u]&&(o[u]=a,o[l]=e(a))}function r(o,s){return o[t+"_Compiled_"+s]}function i(o,s,a){return n(o,s),r(o,s).eval(Object.assign({},o.scope||{},a))}return i}const D1=ff("builtIn");St.builtIn=D1;const R1=ff("interval");St.interval=R1;var hf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(No,"__esModule",{value:!0});const H1=mr,F1=Pt,ue=hf(At),La=hf(Zt),Ia=St;function z1(t){t=Object.assign({xLine:!1,yLine:!1,renderer:function(a,u){return"("+a.toFixed(3)+", "+u.toFixed(3)+")"},owner:null},t);const e=20,n=(0,H1.line)().x(function(a){return a[0]}).y(function(a){return a[1]});function r(a,u){return a.append("path").datum(u).attr("stroke","grey").attr("stroke-dasharray","5,5").attr("opacity",.5).attr("d",n)}let i,o;function s(a){const u=a.selectAll("g.tip").data(function(c){return[c]}),l=u.enter().append("g").attr("class","tip").attr("clip-path","url(#function-plot-clip-"+t.owner.id+")");i=u.merge(l).selectAll("g.inner-tip").data(function(c){return[c]}),o=i.enter().append("g").attr("class","inner-tip").style("display","none").each(function(){const c=(0,F1.select)(this);r(c,[[0,-t.owner.meta.height-e],[0,t.owner.meta.height+e]]).attr("class","tip-x-line").style("display","none"),r(c,[[-t.owner.meta.width-e,0],[t.owner.meta.width+e,0]]).attr("class","tip-y-line").style("display","none"),c.append("circle").attr("r",3),c.append("text").attr("transform","translate(5,-5)")}),i.merge(o).selectAll(".tip-x-line").style("display",t.xLine?null:"none"),i.merge(o).selectAll(".tip-y-line").style("display",t.yLine?null:"none")}return s.move=function(a){let u,l=1/0,c=-1,h,f;const p=i.merge(o),m=t.owner.meta,g=p.datum().data,w=m.xScale,y=m.yScale,M=m.width,T=m.height,E=a.x,C=a.y;for(u=0;u<g.length;u+=1){if(g[u].skipTip||g[u].fnType!=="linear")continue;const b=g[u].range||[-ue.default.infinity(),ue.default.infinity()];let R;if(E>b[0]-La.default.TIP_X_EPS&&E<b[1]+La.default.TIP_X_EPS){try{R=(0,Ia.builtIn)(g[u],"fn",{x:E})}catch{}if(ue.default.isValidNumber(R)){const j=Math.abs(R-C);j<l&&(l=j,c=u)}}}if(c!==-1){h=E,g[c].range&&(h=Math.max(h,g[c].range[0]),h=Math.min(h,g[c].range[1])),f=(0,Ia.builtIn)(g[c],"fn",{x:h}),s.show(),t.owner.emit("tip:update",{x:h,y:f,index:c});const b=ue.default.clamp(h,w.invert(-e),w.invert(M+e)),R=ue.default.clamp(f,y.invert(T+e),y.invert(-e)),j=ue.default.color(g[c],c);p.style("color","red"),p.attr("transform","translate("+w(b)+","+y(R)+")"),p.select("circle").attr("fill",j),p.select("text").attr("fill",j).text(t.renderer(h,f,c))}else s.hide()},s.show=function(){i.merge(o).style("display",null)},s.hide=function(){i.merge(o).style("display","none")},Object.keys(t).forEach(function(a){ue.default.getterSetter.call(s,t,a)}),s}No.default=z1;var Gr={},os={},vt={},ss={},yn={},as={},Y1=H&&H.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),q1=H&&H.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),U1=H&&H.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Y1(e,t,n);return q1(e,t),e},X1=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(as,"__esModule",{value:!0});const he=U1(uf),pf=St,j1=X1(At);he.default.policies.disableRounding();function B1(t){const e=j1.default.space(t.xAxis,t.range,t.nSamples),n=t.xScale,r=t.yScale,i=r.domain()[0],o=r.domain()[1],s=[];let a;for(a=0;a<e.length-1;a+=1){const u={lo:e[a],hi:e[a+1]},l=(0,pf.interval)(t.d,"fn",{x:u});!he.Interval.isEmpty(l)&&!he.Interval.isWhole(l)&&s.push([u,l]),he.Interval.isWhole(l)&&s.push(null)}for(a=1;a<s.length-1;a+=1)if(!s[a]){const u=s[a-1],l=s[a+1];u&&l&&!he.Interval.intervalsOverlap(u[1],l[1])&&(u[1].lo>l[1].hi&&(u[1].hi=Math.max(o,u[1].hi),l[1].lo=Math.min(i,l[1].lo)),u[1].hi<l[1].lo&&(u[1].lo=Math.min(i,u[1].lo),l[1].hi=Math.max(o,l[1].hi)))}return s.scaledDx=n(e[1])-n(e[0]),[s]}let mf;function G1(t,e){return he.Interval.width(t)<mf}function nn(t,e,n){const r=(0,pf.interval)(n,"fn",{x:t,y:e});if(!he.Interval.zeroIn(r))return this;if(G1(t))return this.push([t,e]),this;const o=t.lo+(t.hi-t.lo)/2,s=e.lo+(e.hi-e.lo)/2,a={lo:o,hi:t.hi},u={lo:t.lo,hi:o},l={lo:s,hi:e.hi},c={lo:e.lo,hi:s};nn.call(this,a,l,n),nn.call(this,a,c,n),nn.call(this,u,l,n),nn.call(this,u,c,n)}function W1(t){const e=t.xScale,n=t.xScale.domain(),r=t.yScale.domain(),i={lo:n[0],hi:n[1]},o={lo:r[0],hi:r[1]},s=[];return mf=e.invert(1)-e.invert(0),nn.call(s,i,o,t.d),s.scaledDx=1,[s]}const V1=function(e){const n={implicit:W1,linear:B1};if(!Object.hasOwn(n,e.d.fnType))throw Error(e.d.fnType+" is not supported in the `interval` sampler");return n[e.d.fnType].apply(null,arguments)};as.default=V1;var us={},Z1=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(us,"__esModule",{value:!0});const ct=Z1(At),fn=St;function df(t,e,n,r,i){if(!i)return{asymptote:!0,d0:t,d1:e};const o=10,s=t[0],a=e[0],u=ct.default.linspace(s,a,o);let l,c;for(let h=0;h<o;h+=1){const f=u[h],p=(0,fn.builtIn)(n,"fn",{x:f});if(l){const m=p-l;if(ct.default.sgn(m)===r)return df([c,l],[f,p],n,r,i-1)}l=p,c=f}return{asymptote:!1,d0:t,d1:e}}function Q1(t,e,n){let r;const i=[],o=n.domain()[0]-ct.default.infinity(),s=n.domain()[1]+ct.default.infinity();let a=[e[0]],u=1,l=ct.default.infinity();for(;u<e.length;){const c=e[u-1][1],f=e[u][1]-c,p=ct.default.sgn(f);if(a.length>=2&&r!==p&&Math.abs(f/l)>1){const m=df(e[u-1],e[u],t,p,3);m.asymptote?(e[u-1][0]=m.d0[0],e[u-1][1]=ct.default.clamp(m.d0[1],o,s),i.push(a),e[u][0]=m.d1[0],e[u][1]=ct.default.clamp(m.d1[1],o,s),a=[e[u]]):a.push(e[u])}else a.push(e[u]);a.length>1&&(l=a[a.length-1][0]-a[a.length-2][0],r=p),++u}return a.length&&i.push(a),i}function K1(t){const e=ct.default.space(t.xAxis,t.range,t.nSamples),n=t.yScale.domain(),r=n[0]-ct.default.infinity(),i=n[1]+ct.default.infinity(),o=[];for(let a=0;a<e.length;a+=1){const u=e[a];let l=(0,fn.builtIn)(t.d,"fn",{x:u});ct.default.isValidNumber(u)&&ct.default.isValidNumber(l)&&(l=ct.default.clamp(l,r,i),o.push([u,l]))}return Q1(t.d,o,t.yScale)}function J1(t){const e=t.d.range||[0,2*Math.PI],n=ct.default.space(t.xAxis,e,t.nSamples),r=[];for(let i=0;i<n.length;i+=1){const o=n[i],s=(0,fn.builtIn)(t.d,"x",{t:o}),a=(0,fn.builtIn)(t.d,"y",{t:o});r.push([s,a])}return[r]}function tv(t){const e=t.d.range||[-Math.PI,Math.PI],n=ct.default.space(t.xAxis,e,t.nSamples),r=[];for(let i=0;i<n.length;i+=1){const o=n[i],s=(0,fn.builtIn)(t.d,"r",{theta:o}),a=s*Math.cos(o),u=s*Math.sin(o);r.push([a,u])}return[r]}function ev(t){return[t.d.points]}function nv(t){const e=t.d;return e.offset=e.offset||[0,0],[[e.offset,[e.vector[0]+e.offset[0],e.vector[1]+e.offset[1]]]]}const rv=function(e){const n={parametric:J1,polar:tv,points:ev,vector:nv,linear:K1};if(!(e.d.fnType in n))throw Error(e.d.fnType+" is not supported in the `builtIn` sampler");return n[e.d.fnType].apply(null,arguments)};us.default=rv;var ls=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yn,"__esModule",{value:!0});const Pa=ls(Zt),iv=ls(as),ov=ls(us);function sv(t,e){const n=e.range||[-1/0,1/0],r=Math.max(t.domain()[0],n[0]),i=Math.min(t.domain()[1],n[1]);return[r,i]}function av(t,e){const n=sv(t.meta.xScale,e);let r;if(e.sampler==="builtIn")r=ov.default;else if(e.sampler==="interval")r=iv.default;else throw new Error(`Invalid sampler function ${e.sampler}`);const i=e.nSamples||Math.min(Pa.default.MAX_ITERATIONS,Pa.default.DEFAULT_ITERATIONS||t.meta.width*2),o=r({d:e,range:n,xScale:t.meta.xScale,yScale:t.meta.yScale,xAxis:t.options.xAxis,yAxis:t.options.yAxis,nSamples:i});return t.emit("eval",o,e.index,e.isHelper),o}yn.default=av;var gf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ss,"__esModule",{value:!0});const Da=Pt,hi=mr,$n=gf(At),uv=gf(yn);function lv(t){function e(n){n.each(function(r){const i=e.el=(0,Da.select)(this),o=r.index,s=(0,uv.default)(t,r),a=$n.default.color(r,o),u=i.selectAll(":scope > path.line").data(s),l=t.meta.yScale.range();let c=l[0],h=l[1];const f=c-h;c+=f*1e6,h-=f*1e6,r.skipBoundsCheck&&(c=$n.default.infinity(),h=-$n.default.infinity());function p(M){return $n.default.clamp(t.meta.yScale(M[1]),h,c)}const m=(0,hi.line)().curve(hi.curveLinear).x(function(M){return t.meta.xScale(M[0])}).y(p),g=(0,hi.area)().x(function(M){return t.meta.xScale(M[0])}).y0(t.meta.yScale(0)).y1(p),w=`line line-${o}`,y=u.enter().append("path").attr("class",w).attr("stroke-width",1).attr("stroke-linecap","round");u.merge(y).each(function(){const M=(0,Da.select)(this);let T;if(r.closed?(M.attr("fill",a),M.attr("fill-opacity",.3),T=g):(M.attr("fill","none"),T=m),M.attr("stroke",a).attr("marker-end",function(){return r.fnType==="vector"?"url(#"+t.markerId+")":null}).attr("d",T),r.attr)for(const E in r.attr){let C=r.attr[E];E==="class"&&(C=`${w} ${r.attr[E]}`),M.attr(E,C)}}),u.exit().remove()})}return e}ss.default=lv;var cs={},_f=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});const cv=Pt,fv=_f(yn),hv=_f(At);function pv(t){let e;const n=t.meta.xScale,r=t.meta.yScale;function i(a,u,l,c){if(l>c){const p=l;l=c,c=p}const h=Math.min(u,c),f=Math.max(a,l);return f>h?[-e,0]:[f,h]}const o=function(a,u){let l="";const c=r.range(),h=Math.min.apply(Math,c),f=Math.max.apply(Math,c);for(let p=0,m=a.length;p<m;p+=1)if(a[p]){const g=a[p][0],w=a[p][1];let y=w.lo,M=w.hi;u&&(y=Math.min(y,0),M=Math.max(M,0));const T=n(g.lo)+a.scaledDx/2,E=i(h,f,isFinite(M)?r(M):-1/0,isFinite(y)?r(y):1/0),C=E[0],b=E[1];l+=" M "+T+" "+C,l+=" v "+Math.max(b-C,e)}return l};function s(a){a.each(function(u){const l=s.el=(0,cv.select)(this),c=u.index,h=u.closed,f=(0,fv.default)(t,u),p=l.selectAll(":scope > path.line").data(f);e=Math.max(f[0].scaledDx,1);const m=`line line-${c}`,g=p.enter().append("path").attr("class",m).attr("fill","none"),w=p.merge(g).attr("stroke-width",e).attr("stroke",hv.default.color(u,c)).attr("opacity",h?.5:1).attr("d",function(y){return o(y,h)});if(u.attr)for(const y in u.attr){let M=u.attr[y];y==="class"&&(M=`${m} ${u.attr[y]}`),w.attr(y,M)}p.exit().remove()})}return s}cs.default=pv;var fs={},yf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});const mv=Pt,dv=Eo,gv=yf(At),_v=yf(yn);function yv(t){const e=t.meta.xScale,n=t.meta.yScale;function r(i){i.each(function(o){let s,a;const u=o.index,l=gv.default.color(o,u),c=(0,_v.default)(t,o),h=[];for(s=0;s<c.length;s+=1)for(a=0;a<c[s].length;a+=1)h.push(c[s][a]);const f=(0,mv.select)(this).selectAll(":scope > circle.scatter").data(h),p=`scatter scatter-${u}`,m=f.enter().append("circle").attr("class",p),g=f.merge(m).attr("fill",(0,dv.hsl)(l.toString()).brighter(1.5).formatHex()).attr("stroke",l).attr("opacity",.7).attr("r",1).attr("cx",function(w){return e(w[0])}).attr("cy",function(w){return n(w[1])});if(o.attr)for(const w in o.attr){let y=o.attr[w];w==="class"&&(y=`${p} ${o.attr[w]}`),g.attr(w,y)}f.exit().remove()})}return r}fs.default=yv;var hs={},vv=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hs,"__esModule",{value:!0});const wv=Pt,xv=Eo,bv=vv(At);function Mv(t){const e=t.meta.xScale,n=t.meta.yScale;function r(i){i.each(function(o){o.sampler="builtIn",o.fnType="vector";const s=(0,wv.select)(this).selectAll(":scope > text.fn-text").data([o.location]),a=s.enter().append("text").attr("class",`fn-text fn-text-${o.index}`),u=bv.default.color(o,o.index),l=s.merge(a).attr("fill",(0,xv.hsl)(u.toString()).brighter(1.5).formatHex()).attr("x",c=>e(c[0])).attr("y",c=>n(c[1])).text(()=>o.text);if(o.attr)for(const c in o.attr)l.attr(c,o.attr[c]);s.exit().remove()})}return r}hs.default=Mv;var Wr=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vt,"__esModule",{value:!0});vt.text=vt.scatter=vt.interval=vt.polyline=void 0;const Tv=Wr(ss);vt.polyline=Tv.default;const Sv=Wr(cs);vt.interval=Sv.default;const Nv=Wr(fs);vt.scatter=Nv.default;const Ev=Wr(hs);vt.text=Ev.default;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});function $v(t){return"graphType"in t||(t.graphType="interval"),"sampler"in t||(t.sampler=t.graphType!=="interval"?"builtIn":"interval"),"fnType"in t||(t.fnType="linear"),t}vn.default=$v;var vf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});const kv=Pt,Av=vt,Ra=St,Ov=vf(vn),Cv=vf(At);function Lv(t){const e=(0,Ov.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function n(o){if(!o.derivative)return[];const s=typeof o.derivative.x0=="number"?o.derivative.x0:Cv.default.infinity();return e.index=o.index,e.scope={m:(0,Ra.builtIn)(o.derivative,"fn",{x:s}),x0:s,y0:(0,Ra.builtIn)(o,"fn",{x:s})},e.fn="m * (x - x0) + y0",[e]}function r(o){const s=this;o.derivative&&o.derivative.updateOnMouseMove&&!o.derivative.$$mouseListener&&(o.derivative.$$mouseListener=function({x:a}){o.derivative&&(o.derivative.x0=a),i(s)},t.on("tip:update",o.derivative.$$mouseListener))}const i=function(o){o.each(function(s){const a=(0,kv.select)(this),u=n.call(o,s);r.call(o,s);const l=a.selectAll("g.derivative").data(u),c=l.enter().append("g").attr("class","derivative");l.merge(c).call((0,Av.polyline)(t)),l.merge(c).selectAll("path").attr("opacity",.5),l.exit().remove()})};return i}os.default=Lv;var ps={},wf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});const Iv=Pt,Ha=St,Pv=wf(vn),Dv=vt,Rv=wf(At);function Hv(t){const e=(0,Pv.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function n(u){u.m=(u.y1-u.y0)/(u.x1-u.x0)}function r(u,l){if(!("x0"in l))throw Error("secant must have the property `x0` defined");l.scope=l.scope||{};const c=l.x0,h=typeof l.x1=="number"?l.x1:Rv.default.infinity();Object.assign(l.scope,{x0:c,x1:h,y0:(0,Ha.builtIn)(u,"fn",{x:c}),y1:(0,Ha.builtIn)(u,"fn",{x:h})}),n(l.scope)}function i(u,l){r(u,l),l.fn="m * (x - x0) + y0"}function o(u,l){const c=this;l.updateOnMouseMove&&!l.$$mouseListener&&(l.$$mouseListener=function({x:h}){l.x1=h,r(u,l),a(c)},t.on("tip:update",l.$$mouseListener))}function s(u){const l=this,c=[];u.secants=u.secants||[];for(let h=0;h<u.secants.length;h+=1){const f=u.secants[h]=Object.assign({},e,u.secants[h]);f.index=u.index,f.fn||(i.call(l,u,f),o.call(l,u,f)),c.push(f)}return c}function a(u){u.each(function(l){const c=(0,Iv.select)(this),h=s.call(u,l),f=c.selectAll("g.secant").data(h),p=f.enter().append("g").attr("class","secant");f.merge(p).call((0,Dv.polyline)(t)),f.merge(p).selectAll("path").attr("opacity",.5),f.exit().remove()})}return a}ps.default=Hv;var xf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gr,"__esModule",{value:!0});const Fv=Pt,zv=xf(os),Yv=xf(ps);function qv(t){function e(n){n.each(function(){const r=(0,Fv.select)(this);r.call((0,zv.default)(t)),r.call((0,Yv.default)(t))})}return e}Gr.default=qv;var Xe=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ar,"__esModule",{value:!0});ar.Chart=void 0;const Uv=mr,Xv=Rh,Fa=gm,za=$m,jv=P_,kn=Pt,Ya=D_,Bv=Xe(U_),Gv=Xe(So),Wv=Xe(No),Vv=Xe(Gr),Zv=Xe(vn),An=Xe(Zt);function qa(t){return t==="linear"?Fa.scaleLinear:Fa.scaleLog}class Vr extends Bv.default.EventEmitter{constructor(e){super();const n=Math.random(),r=String.fromCharCode(Math.floor(n*26)+97);this.options=e,this.id=r+n.toString(16).substr(2),this.options.id=this.id,this.markerId=this.id+"-marker",Vr.cache[this.id]=this,this.linkedGraphs=[this],this.meta={},this.setUpEventListeners()}build(){return this.internalVars(),this.drawGraphWrapper(),this}getDraggableNode(){return(0,kn.select)(this.options.target).select(".zoom-and-drag").node()}getEmitInstance(){let e=this;const n=this.getDraggableNode();return n&&(e=n.instance),e}internalVars(){const e=this.meta.margin={left:40,right:20,top:20,bottom:20};this.options.title&&(this.meta.margin.top=40),this.meta.width=(this.options.width||An.default.DEFAULT_WIDTH)-e.left-e.right,this.meta.height=(this.options.height||An.default.DEFAULT_HEIGHT)-e.top-e.bottom,this.initializeAxes()}initializeAxes(){const e=this,n=(0,Xv.format)("~s");function r(a){return Math.abs(a)-Math.floor(Math.abs(a))>0?a.toString():n(a)}function i(a){const u=a[1]-a[0];return e.meta.height*u/e.meta.width}this.options.xAxis=this.options.xAxis||{},this.options.xAxis.type=this.options.xAxis.type||"linear",this.options.yAxis=this.options.yAxis||{},this.options.yAxis.type=this.options.yAxis.type||"linear";const o=this.meta.xDomain=function(a){if(a.domain)return a.domain;if(a.type==="linear")return[-12/2,12/2];if(a.type==="log")return[1,10];throw Error("axis type "+a.type+" unsupported")}(this.options.xAxis),s=this.meta.yDomain=function(a){if(a.domain)return a.domain;const u=i(o);if(a.type==="linear")return[-u/2,u/2];if(a.type==="log")return[1,10];throw Error("axis type "+a.type+" unsupported")}(this.options.yAxis);this.meta.xScale||(this.meta.xScale=qa(this.options.xAxis.type)()),this.meta.xScale.domain(o).range(this.options.xAxis.invert?[this.meta.width,0]:[0,this.meta.width]),this.meta.yScale||(this.meta.yScale=qa(this.options.yAxis.type)()),this.meta.yScale.domain(s).range(this.options.yAxis.invert?[0,this.meta.height]:[this.meta.height,0]),this.meta.xAxis||(this.meta.xAxis=(0,za.axisBottom)(this.meta.xScale)),this.meta.xAxis.tickSize(this.options.grid?-this.meta.height:0).tickFormat(r),this.meta.yAxis||(this.meta.yAxis=(0,za.axisLeft)(this.meta.yScale)),this.meta.yAxis.tickSize(this.options.grid?-this.meta.width:0).tickFormat(r),this.line=(0,Uv.line)().x(function(a){return e.meta.xScale(a[0])}).y(function(a){return e.meta.yScale(a[1])})}drawGraphWrapper(){const e=this.root=(0,kn.select)(this.options.target).selectAll("svg").data([this.options]);this.root.enter=e.enter().append("svg").attr("class","function-plot").attr("font-size",this.getFontSize()),e.merge(this.root.enter).attr("width",this.meta.width+this.meta.margin.left+this.meta.margin.right).attr("height",this.meta.height+this.meta.margin.top+this.meta.margin.bottom),this.buildTitle(),this.buildLegend(),this.buildCanvas(),this.buildClip(),this.buildAxis(),this.buildAxisLabel();const n=this.tip=(0,Wv.default)(Object.assign(this.options.tip||{},{owner:this}));this.canvas.merge(this.canvas.enter).call(n),this.setUpPlugins(),this.draw(),this.buildZoomHelper()}buildTitle(){const e=this.root.merge(this.root.enter).selectAll("text.title").data(function(r){return[r.title].filter(Boolean)});e.enter().append("text").merge(e).attr("class","title").attr("y",this.meta.margin.top/2).attr("x",this.meta.margin.left+this.meta.width/2).attr("font-size",25).attr("text-anchor","middle").attr("alignment-baseline","middle").text(this.options.title),e.exit().remove()}buildLegend(){this.root.enter.append("text").attr("class","top-right-legend").attr("text-anchor","end"),this.root.merge(this.root.enter).select(".top-right-legend").attr("y",this.meta.margin.top/2).attr("x",this.meta.width+this.meta.margin.left)}buildCanvas(){const e=this.canvas=this.root.merge(this.root.enter).selectAll(".canvas").data(function(n){return[n]});this.canvas.enter=e.enter().append("g").attr("class","canvas")}buildClip(){const e=this.id,n=this.canvas.enter.append("defs");n.append("clipPath").attr("id","function-plot-clip-"+e).append("rect").attr("class","clip static-clip"),this.canvas.merge(this.canvas.enter).selectAll(".clip").attr("width",this.meta.width).attr("height",this.meta.height),n.append("clipPath").append("marker").attr("id",this.markerId).attr("viewBox","0 -5 10 10").attr("refX",10).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L0,0").attr("stroke-width","0px").attr("fill-opacity",1).attr("fill","#777")}buildAxis(){const e=this.canvas.enter;e.append("g").attr("class","x axis"),e.append("g").attr("class","y axis"),this.canvas.merge(this.canvas.enter).select(".x.axis").attr("transform","translate(0,"+this.meta.height+")").call(this.meta.xAxis),this.canvas.merge(this.canvas.enter).select(".y.axis").call(this.meta.yAxis)}buildAxisLabel(){const e=this.canvas,n=e.merge(e.enter).selectAll("text.x.axis-label").data(function(s){return[s.xAxis.label].filter(Boolean)}),r=n.enter().append("text").attr("class","x axis-label").attr("text-anchor","end");n.merge(r).attr("x",this.meta.width).attr("y",this.meta.height-6).text(function(s){return s}),n.exit().remove();const i=e.merge(e.enter).selectAll("text.y.axis-label").data(function(s){return[s.yAxis.label].filter(Boolean)}),o=i.enter().append("text").attr("class","y axis-label").attr("y",6).attr("dy",".75em").attr("text-anchor","end").attr("transform","rotate(-90)");i.merge(o).text(function(s){return s}),i.exit().remove()}buildContent(){const e=this,n=this.canvas;n.merge(n.enter).attr("transform","translate("+this.meta.margin.left+","+this.meta.margin.top+")");const r=this.content=n.merge(n.enter).selectAll(":scope > g.content").data(function(a){return[a]}),i=r.enter().append("g").attr("clip-path","url(#function-plot-clip-"+this.id+")").attr("class","content");if(this.options.xAxis.type==="linear"){const a=r.merge(i).selectAll(":scope > path.y.origin").data([[[0,this.meta.yScale.domain()[0]],[0,this.meta.yScale.domain()[1]]]]),u=a.enter().append("path").attr("class","y origin").attr("stroke","black").attr("opacity",.2);a.merge(u).attr("d",this.line)}if(this.options.yAxis.type==="linear"){const a=r.merge(i).selectAll(":scope > path.x.origin").data([[[this.meta.xScale.domain()[0],0],[this.meta.xScale.domain()[1],0]]]),u=a.enter().append("path").attr("class","x origin").attr("stroke","black").attr("opacity",.2);a.merge(u).attr("d",this.line)}r.merge(i).call((0,Gv.default)({owner:e}));const o=r.merge(i).selectAll(":scope > g.graph").data(a=>a.data.map(Zv.default),a=>a.fn||a.r||a.x||a.text);o.exit().remove();const s=o.enter().append("g").attr("class","graph");o.merge(s).each(function(a,u){a.index=u;const l=(0,kn.select)(this);l.call(An.default.graphTypes[a.graphType](e)),l.call((0,Vv.default)(e))})}buildZoomHelper(){const e=this;this.meta.zoomBehavior||(this.meta.zoomBehavior=(0,jv.zoom)().on("zoom",function(r){e.getEmitInstance().emit("all:zoom",r)}),e.meta.zoomBehavior.xScale=e.meta.xScale.copy(),e.meta.zoomBehavior.yScale=e.meta.yScale.copy()),e.meta.zoomBehavior.xScale.range(e.meta.xScale.range()),e.meta.zoomBehavior.yScale.range(e.meta.yScale.range()),this.canvas.enter.append("rect").call(this.meta.zoomBehavior).attr("class","zoom-and-drag").style("fill","none").style("pointer-events","all").on("mouseover",function(n){e.getEmitInstance().emit("all:mouseover",n)}).on("mouseout",function(n){e.getEmitInstance().emit("all:mouseout",n)}).on("mousemove",function(n){e.getEmitInstance().emit("all:mousemove",n)}),this.draggable=this.canvas.merge(this.canvas.enter).select(".zoom-and-drag").call(n=>{n.node()&&(n.node().instance=e)}).attr("width",this.meta.width).attr("height",this.meta.height)}setUpPlugins(){const e=this.options.plugins||[],n=this;e.forEach(function(r){r(n)})}addLink(){for(let e=0;e<arguments.length;e+=1)this.linkedGraphs.push(arguments[e])}updateAxes(){const e=this,n=e.canvas.merge(e.canvas.enter);if(n.select(".x.axis").call(e.meta.xAxis),this.options.xAxis.position==="sticky"){const r=this.meta.yScale.domain()[0],i=this.meta.yScale.domain()[1],o=(i+r)/2;let a=this.meta.height/(i-r)*o+this.meta.height/2;a=a<0?0:a,a=a>this.meta.height?this.meta.height:a,n.select(".x.axis").attr("transform","translate(0,"+a+")"),n.selectAll(".x.axis path, .x.axis line").attr("transform","translate(0,"+(this.meta.height/2-a+this.meta.height/2)+")")}if(n.select(".y.axis").call(e.meta.yAxis),this.options.yAxis.position==="sticky"){const r=this.meta.xScale.domain()[0],i=this.meta.xScale.domain()[1],o=(i+r)/2;let a=this.meta.width/(r-i)*o+this.meta.width/2;a=a<0?0:a,a=a>this.meta.width?this.meta.width:a,n.select(".y.axis").attr("transform","translate("+a+",0)"),n.selectAll(".y.axis path, .y.axis line").attr("transform","translate("+-a+",0)")}n.selectAll(".axis path, .axis line").attr("fill","none").attr("stroke","black").attr("shape-rendering","crispedges").attr("opacity",.1)}syncOptions(){this.options.xAxis.domain=this.meta.xScale.domain(),this.options.yAxis.domain=this.meta.yScale.domain()}getFontSize(){return Math.max(Math.max(this.meta.width,this.meta.height)/50,8)}draw(){const e=this;e.emit("before:draw"),e.syncOptions(),e.updateAxes(),e.buildContent(),e.emit("after:draw")}setUpEventListeners(){const e=this,n=this.getEmitInstance();n&&n.removeAllListeners();const r={mousemove:function(o){e.tip.move(o)},mouseover:function(){e.tip.show()},mouseout:function(){e.tip.hide()},zoom:function({transform:s}){if(e.options.disableZoom)return;const a=s.rescaleX(e.meta.zoomBehavior.xScale).interpolate(Ya.interpolateRound),u=s.rescaleY(e.meta.zoomBehavior.yScale).interpolate(Ya.interpolateRound);e.meta.xScale.domain(a.domain()).range(a.range()),e.meta.yScale.domain(u.domain()).range(u.range())},"tip:update":function({x:o,y:s,index:a}){const u=e.root.merge(e.root.enter).datum().data[a],l=u.title||"",c=u.renderer||function(f,p){return f.toFixed(3)+", "+p.toFixed(3)},h=[];l&&h.push(l),h.push(c(o,s)),e.root.select(".top-right-legend").attr("fill",An.default.COLORS[a]).text(h.join(" "))}},i={mousemove:function(o){const s=(0,kn.pointer)(o,e.draggable.node()),a={x:e.meta.xScale.invert(s[0]),y:e.meta.yScale.invert(s[1])};e.linkedGraphs.forEach(function(u){u.emit("before:mousemove",a),u.emit("mousemove",a)})},zoom:function(o){e.linkedGraphs.forEach(function(s){s.draggable.node().__zoom=e.draggable.node().__zoom,s.emit("zoom",o),s.draw()}),e.emit("all:mousemove",o)}};Object.keys(r).forEach(function(o){!i[o]&&e.on("all:"+o,function(){const s=Array.prototype.slice.call(arguments);e.linkedGraphs.forEach(function(a){const u=s.slice();u.unshift(o),a.emit.apply(a,u)})}),e.on(o,r[o])}),Object.keys(i).forEach(function(o){e.on("all:"+o,i[o])})}}ar.Chart=Vr;Vr.cache={};var bf={};Object.defineProperty(bf,"__esModule",{value:!0});(function(t){var e=H&&H.__createBinding||(Object.create?function(f,p,m,g){g===void 0&&(g=m);var w=Object.getOwnPropertyDescriptor(p,m);(!w||("get"in w?!p.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(f,g,w)}:function(f,p,m,g){g===void 0&&(g=m),f[g]=p[m]}),n=H&&H.__setModuleDefault||(Object.create?function(f,p){Object.defineProperty(f,"default",{enumerable:!0,value:p})}:function(f,p){f.default=p}),r=H&&H.__importStar||function(f){if(f&&f.__esModule)return f;var p={};if(f!=null)for(var m in f)m!=="default"&&Object.prototype.hasOwnProperty.call(f,m)&&e(p,f,m);return n(p,f),p},i=H&&H.__exportStar||function(f,p){for(var m in f)m!=="default"&&!Object.prototype.hasOwnProperty.call(p,m)&&e(p,f,m)};Object.defineProperty(t,"__esModule",{value:!0}),t.GraphTypeScatter=t.GraphTypePolyline=t.GraphTypeInterval=t.EvalInterval=t.EvalBuiltIn=t.registerGraphType=t.Chart=void 0;const o=ar;Object.defineProperty(t,"Chart",{enumerable:!0,get:function(){return o.Chart}});const s=r(Zt);Object.defineProperty(t,"registerGraphType",{enumerable:!0,get:function(){return s.registerGraphType}});const a=vt,u=r(St);(0,s.registerGraphType)("polyline",a.polyline),(0,s.registerGraphType)("interval",a.interval),(0,s.registerGraphType)("scatter",a.scatter),(0,s.registerGraphType)("text",a.text);function l(f){f.data=f.data||[];let p=o.Chart.cache[f.id];return p||(p=new o.Chart(f)),p.build()}t.default=l,l.globals=s.default,l.$eval=u,l.graphTypes={interval:a.interval,polyline:a.polyline,scatter:a.scatter},i(bf,t);var c=St;Object.defineProperty(t,"EvalBuiltIn",{enumerable:!0,get:function(){return c.builtIn}}),Object.defineProperty(t,"EvalInterval",{enumerable:!0,get:function(){return c.interval}});var h=vt;Object.defineProperty(t,"GraphTypeInterval",{enumerable:!0,get:function(){return h.interval}}),Object.defineProperty(t,"GraphTypePolyline",{enumerable:!0,get:function(){return h.polyline}}),Object.defineProperty(t,"GraphTypeScatter",{enumerable:!0,get:function(){return h.scatter}}),i(Gr,t)})(Xa);const Kv=Ua(Xa);export{Kv as f};
